function nT(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Rc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wd={exports:{}},Ua={},Td={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function rT(){if(xg)return Pe;xg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function I(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function V(P,H,se){this.props=P,this.context=H,this.refs=$,this.updater=se||O}V.prototype.isReactComponent={},V.prototype.setState=function(P,H){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,H,"setState")},V.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ne(){}ne.prototype=V.prototype;function J(P,H,se){this.props=P,this.context=H,this.refs=$,this.updater=se||O}var de=J.prototype=new ne;de.constructor=J,B(de,V.prototype),de.isPureReactComponent=!0;var Te=Array.isArray,Ce=Object.prototype.hasOwnProperty,Ae={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(P,H,se){var _e,Re={},be=null,Le=null;if(H!=null)for(_e in H.ref!==void 0&&(Le=H.ref),H.key!==void 0&&(be=""+H.key),H)Ce.call(H,_e)&&!D.hasOwnProperty(_e)&&(Re[_e]=H[_e]);var Me=arguments.length-2;if(Me===1)Re.children=se;else if(1<Me){for(var Fe=Array(Me),bt=0;bt<Me;bt++)Fe[bt]=arguments[bt+2];Re.children=Fe}if(P&&P.defaultProps)for(_e in Me=P.defaultProps,Me)Re[_e]===void 0&&(Re[_e]=Me[_e]);return{$$typeof:t,type:P,key:be,ref:Le,props:Re,_owner:Ae.current}}function C(P,H){return{$$typeof:t,type:P.type,key:H,ref:P.ref,props:P.props,_owner:P._owner}}function x(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function L(P){var H={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(se){return H[se]})}var b=/\/+/g;function R(P,H){return typeof P=="object"&&P!==null&&P.key!=null?L(""+P.key):H.toString(36)}function rt(P,H,se,_e,Re){var be=typeof P;(be==="undefined"||be==="boolean")&&(P=null);var Le=!1;if(P===null)Le=!0;else switch(be){case"string":case"number":Le=!0;break;case"object":switch(P.$$typeof){case t:case e:Le=!0}}if(Le)return Le=P,Re=Re(Le),P=_e===""?"."+R(Le,0):_e,Te(Re)?(se="",P!=null&&(se=P.replace(b,"$&/")+"/"),rt(Re,H,se,"",function(bt){return bt})):Re!=null&&(x(Re)&&(Re=C(Re,se+(!Re.key||Le&&Le.key===Re.key?"":(""+Re.key).replace(b,"$&/")+"/")+P)),H.push(Re)),1;if(Le=0,_e=_e===""?".":_e+":",Te(P))for(var Me=0;Me<P.length;Me++){be=P[Me];var Fe=_e+R(be,Me);Le+=rt(be,H,se,Fe,Re)}else if(Fe=I(P),typeof Fe=="function")for(P=Fe.call(P),Me=0;!(be=P.next()).done;)be=be.value,Fe=_e+R(be,Me++),Le+=rt(be,H,se,Fe,Re);else if(be==="object")throw H=String(P),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Le}function Lt(P,H,se){if(P==null)return P;var _e=[],Re=0;return rt(P,_e,"","",function(be){return H.call(se,be,Re++)}),_e}function Vt(P){if(P._status===-1){var H=P._result;H=H(),H.then(function(se){(P._status===0||P._status===-1)&&(P._status=1,P._result=se)},function(se){(P._status===0||P._status===-1)&&(P._status=2,P._result=se)}),P._status===-1&&(P._status=0,P._result=H)}if(P._status===1)return P._result.default;throw P._result}var $e={current:null},te={transition:null},pe={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:te,ReactCurrentOwner:Ae};return Pe.Children={map:Lt,forEach:function(P,H,se){Lt(P,function(){H.apply(this,arguments)},se)},count:function(P){var H=0;return Lt(P,function(){H++}),H},toArray:function(P){return Lt(P,function(H){return H})||[]},only:function(P){if(!x(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Pe.Component=V,Pe.Fragment=n,Pe.Profiler=o,Pe.PureComponent=J,Pe.StrictMode=i,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Pe.cloneElement=function(P,H,se){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var _e=B({},P.props),Re=P.key,be=P.ref,Le=P._owner;if(H!=null){if(H.ref!==void 0&&(be=H.ref,Le=Ae.current),H.key!==void 0&&(Re=""+H.key),P.type&&P.type.defaultProps)var Me=P.type.defaultProps;for(Fe in H)Ce.call(H,Fe)&&!D.hasOwnProperty(Fe)&&(_e[Fe]=H[Fe]===void 0&&Me!==void 0?Me[Fe]:H[Fe])}var Fe=arguments.length-2;if(Fe===1)_e.children=se;else if(1<Fe){Me=Array(Fe);for(var bt=0;bt<Fe;bt++)Me[bt]=arguments[bt+2];_e.children=Me}return{$$typeof:t,type:P.type,key:Re,ref:be,props:_e,_owner:Le}},Pe.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},Pe.createElement=A,Pe.createFactory=function(P){var H=A.bind(null,P);return H.type=P,H},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(P){return{$$typeof:d,render:P}},Pe.isValidElement=x,Pe.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:Vt}},Pe.memo=function(P,H){return{$$typeof:_,type:P,compare:H===void 0?null:H}},Pe.startTransition=function(P){var H=te.transition;te.transition={};try{P()}finally{te.transition=H}},Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Pe.useCallback=function(P,H){return $e.current.useCallback(P,H)},Pe.useContext=function(P){return $e.current.useContext(P)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(P){return $e.current.useDeferredValue(P)},Pe.useEffect=function(P,H){return $e.current.useEffect(P,H)},Pe.useId=function(){return $e.current.useId()},Pe.useImperativeHandle=function(P,H,se){return $e.current.useImperativeHandle(P,H,se)},Pe.useInsertionEffect=function(P,H){return $e.current.useInsertionEffect(P,H)},Pe.useLayoutEffect=function(P,H){return $e.current.useLayoutEffect(P,H)},Pe.useMemo=function(P,H){return $e.current.useMemo(P,H)},Pe.useReducer=function(P,H,se){return $e.current.useReducer(P,H,se)},Pe.useRef=function(P){return $e.current.useRef(P)},Pe.useState=function(P){return $e.current.useState(P)},Pe.useSyncExternalStore=function(P,H,se){return $e.current.useSyncExternalStore(P,H,se)},Pe.useTransition=function(){return $e.current.useTransition()},Pe.version="18.2.0",Pe}var Ng;function If(){return Ng||(Ng=1,Td.exports=rT()),Td.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function iT(){if(Og)return Ua;Og=1;var t=If(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,_){var v,w={},I=null,O=null;_!==void 0&&(I=""+_),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(O=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:d,key:I,ref:O,props:w,_owner:o.current}}return Ua.Fragment=n,Ua.jsx=c,Ua.jsxs=c,Ua}var Dg;function sT(){return Dg||(Dg=1,wd.exports=iT()),wd.exports}var q=sT(),Q=If();const Nr=Rc(Q),oT=nT({__proto__:null,default:Nr},[Q]);var ju={},Id={exports:{}},on={},Sd={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function aT(){return Lg||(Lg=1,function(t){function e(te,pe){var P=te.length;te.push(pe);e:for(;0<P;){var H=P-1>>>1,se=te[H];if(0<o(se,pe))te[H]=pe,te[P]=se,P=H;else break e}}function n(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var pe=te[0],P=te.pop();if(P!==pe){te[0]=P;e:for(var H=0,se=te.length,_e=se>>>1;H<_e;){var Re=2*(H+1)-1,be=te[Re],Le=Re+1,Me=te[Le];if(0>o(be,P))Le<se&&0>o(Me,be)?(te[H]=Me,te[Le]=P,H=Le):(te[H]=be,te[Re]=P,H=Re);else if(Le<se&&0>o(Me,P))te[H]=Me,te[Le]=P,H=Le;else break e}}return pe}function o(te,pe){var P=te.sortIndex-pe.sortIndex;return P!==0?P:te.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],_=[],v=1,w=null,I=3,O=!1,B=!1,$=!1,V=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function de(te){for(var pe=n(_);pe!==null;){if(pe.callback===null)i(_);else if(pe.startTime<=te)i(_),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=n(_)}}function Te(te){if($=!1,de(te),!B)if(n(p)!==null)B=!0,Vt(Ce);else{var pe=n(_);pe!==null&&$e(Te,pe.startTime-te)}}function Ce(te,pe){B=!1,$&&($=!1,ne(A),A=-1),O=!0;var P=I;try{for(de(pe),w=n(p);w!==null&&(!(w.expirationTime>pe)||te&&!L());){var H=w.callback;if(typeof H=="function"){w.callback=null,I=w.priorityLevel;var se=H(w.expirationTime<=pe);pe=t.unstable_now(),typeof se=="function"?w.callback=se:w===n(p)&&i(p),de(pe)}else i(p);w=n(p)}if(w!==null)var _e=!0;else{var Re=n(_);Re!==null&&$e(Te,Re.startTime-pe),_e=!1}return _e}finally{w=null,I=P,O=!1}}var Ae=!1,D=null,A=-1,C=5,x=-1;function L(){return!(t.unstable_now()-x<C)}function b(){if(D!==null){var te=t.unstable_now();x=te;var pe=!0;try{pe=D(!0,te)}finally{pe?R():(Ae=!1,D=null)}}else Ae=!1}var R;if(typeof J=="function")R=function(){J(b)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Lt=rt.port2;rt.port1.onmessage=b,R=function(){Lt.postMessage(null)}}else R=function(){V(b,0)};function Vt(te){D=te,Ae||(Ae=!0,R())}function $e(te,pe){A=V(function(){te(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){B||O||(B=!0,Vt(Ce))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(te){switch(I){case 1:case 2:case 3:var pe=3;break;default:pe=I}var P=I;I=pe;try{return te()}finally{I=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,pe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var P=I;I=te;try{return pe()}finally{I=P}},t.unstable_scheduleCallback=function(te,pe,P){var H=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?H+P:H):P=H,te){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=P+se,te={id:v++,callback:pe,priorityLevel:te,startTime:P,expirationTime:se,sortIndex:-1},P>H?(te.sortIndex=P,e(_,te),n(p)===null&&te===n(_)&&($?(ne(A),A=-1):$=!0,$e(Te,P-H))):(te.sortIndex=se,e(p,te),B||O||(B=!0,Vt(Ce))),te},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(te){var pe=I;return function(){var P=I;I=pe;try{return te.apply(this,arguments)}finally{I=P}}}}(Ad)),Ad}var Vg;function lT(){return Vg||(Vg=1,Sd.exports=aT()),Sd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function uT(){if(bg)return on;bg=1;var t=If(),e=lT();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function I(r){return p.call(w,r)?!0:p.call(v,r)?!1:_.test(r)?w[r]=!0:(v[r]=!0,!1)}function O(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function B(r,s,a,h){if(s===null||typeof s>"u"||O(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $(r,s,a,h,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];V[s]=new $(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function J(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(ne,J);V[s]=new $(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(ne,J);V[s]=new $(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(ne,J);V[s]=new $(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function de(r,s,a,h){var f=V.hasOwnProperty(s)?V[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(B(s,a,f,h)&&(a=null),h||f===null?I(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var Te=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),te=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var P=Object.assign,H;function se(r){if(H===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||""}return`
`+H+r}var _e=!1;function Re(r,s){if(!r||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(j){var h=j}Reflect.construct(r,[],s)}else{try{s.call()}catch(j){h=j}r.call(s.prototype)}else{try{throw Error()}catch(j){h=j}r()}}catch(j){if(j&&h&&typeof j.stack=="string"){for(var f=j.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,S=g.length-1;1<=E&&0<=S&&f[E]!==g[S];)S--;for(;1<=E&&0<=S;E--,S--)if(f[E]!==g[S]){if(E!==1||S!==1)do if(E--,S--,0>S||f[E]!==g[S]){var k=`
`+f[E].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=E&&0<=S);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?se(r):""}function be(r){switch(r.tag){case 5:return se(r.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case Ae:return"Portal";case C:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case rt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Lt:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case Vt:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}function Me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function bt(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vs(r){var s=bt(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ur(r){r._valueTracker||(r._valueTracker=vs(r))}function Es(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=bt(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Ur(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xi(r,s){var a=s.checked;return P({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ws(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Fe(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Wo(r,s){s=s.checked,s!=null&&de(r,"checked",s,!1)}function qo(r,s){Wo(r,s);var a=Fe(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ts(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ts(r,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Al(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ts(r,s,a){(s!=="number"||Ur(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var cr=Array.isArray;function hr(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Ko(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return P({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Is(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(cr(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Fe(a)}}function Ss(r,s){var a=Fe(s.value),h=Fe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Go(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ft(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ft(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var dr,Qo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(dr=dr||document.createElement("div"),dr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=dr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function jr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oi=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(r){Oi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ni[s]=Ni[r]})});function Yo(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ni.hasOwnProperty(r)&&Ni[r]?(""+s).trim():s+"px"}function Xo(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=Yo(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var Jo=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(r,s){if(s){if(Jo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ea(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Di=null;function As(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rs=null,yn=null,$n=null;function Cs(r){if(r=Sa(r)){if(typeof Rs!="function")throw Error(n(280));var s=r.stateNode;s&&(s=tu(s),Rs(r.stateNode,r.type,s))}}function Hn(r){yn?$n?$n.push(r):$n=[r]:yn=r}function ta(){if(yn){var r=yn,s=$n;if($n=yn=null,Cs(r),s)for(r=0;r<s.length;r++)Cs(s[r])}}function Li(r,s){return r(s)}function na(){}var fr=!1;function ra(r,s,a){if(fr)return r(s,a);fr=!0;try{return Li(r,s,a)}finally{fr=!1,(yn!==null||$n!==null)&&(na(),ta())}}function it(r,s){var a=r.stateNode;if(a===null)return null;var h=tu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Ps=!1;if(d)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{Ps=!1}function Vi(r,s,a,h,f,g,E,S,k){var j=Array.prototype.slice.call(arguments,3);try{s.apply(a,j)}catch(K){this.onError(K)}}var bi=!1,ks=null,kn=!1,ia=null,Qc={onError:function(r){bi=!0,ks=r}};function xs(r,s,a,h,f,g,E,S,k){bi=!1,ks=null,Vi.apply(Qc,arguments)}function Rl(r,s,a,h,f,g,E,S,k){if(xs.apply(this,arguments),bi){if(bi){var j=ks;bi=!1,ks=null}else throw Error(n(198));kn||(kn=!0,ia=j)}}function xn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Mi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Nn(r){if(xn(r)!==r)throw Error(n(188))}function Cl(r){var s=r.alternate;if(!s){if(s=xn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Nn(f),r;if(g===h)return Nn(f),s;g=g.sibling}throw Error(n(188))}if(a.return!==h.return)a=f,h=g;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,h=g;break}if(S===h){E=!0,h=f,a=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===a){E=!0,a=g,h=f;break}if(S===h){E=!0,h=g,a=f;break}S=S.sibling}if(!E)throw Error(n(189))}}if(a.alternate!==h)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function sa(r){return r=Cl(r),r!==null?Ns(r):null}function Ns(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ns(r);if(s!==null)return s;r=r.sibling}return null}var Os=e.unstable_scheduleCallback,oa=e.unstable_cancelCallback,Pl=e.unstable_shouldYield,Yc=e.unstable_requestPaint,We=e.unstable_now,kl=e.unstable_getCurrentPriorityLevel,Fi=e.unstable_ImmediatePriority,Br=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,aa=e.unstable_LowPriority,xl=e.unstable_IdlePriority,Ui=null,cn=null;function Nl(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ui,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Dl,la=Math.log,Ol=Math.LN2;function Dl(r){return r>>>=0,r===0?32:31-(la(r)/Ol|0)|0}var Ds=64,Ls=4194304;function zr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ji(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var S=E&~f;S!==0?h=zr(S):(g&=E,g!==0&&(h=zr(g)))}else E=a&~f,E!==0?h=zr(E):g!==0&&(h=zr(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Kt(s),f=1<<a,h|=r[a],s&=~f;return h}function Xc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Kt(g),S=1<<E,k=f[E];k===-1?((S&a)===0||(S&h)!==0)&&(f[E]=Xc(S,s)):k<=s&&(r.expiredLanes|=S),g&=~S}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bi(){var r=Ds;return Ds<<=1,(Ds&4194240)===0&&(Ds=64),r}function $r(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Hr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=a}function He(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Kt(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function Wr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Kt(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var xe=0;function qr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ll,Vs,Vl,bl,Ml,ua=!1,Wn=[],At=null,On=null,Dn=null,Kr=new Map,En=new Map,qn=[],Jc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(r,s){switch(r){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Kr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(s.pointerId)}}function Jt(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Sa(s),s!==null&&Vs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Zc(r,s,a,h,f){switch(s){case"focusin":return At=Jt(At,r,s,a,h,f),!0;case"dragenter":return On=Jt(On,r,s,a,h,f),!0;case"mouseover":return Dn=Jt(Dn,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return Kr.set(g,Jt(Kr.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,En.set(g,Jt(En.get(g)||null,r,s,a,h,f)),!0}return!1}function Ul(r){var s=qi(r.target);if(s!==null){var a=xn(s);if(a!==null){if(s=a.tag,s===13){if(s=Mi(a),s!==null){r.blockedOn=s,Ml(r.priority,function(){Vl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function mr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=bs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Di=h,a.target.dispatchEvent(h),Di=null}else return s=Sa(a),s!==null&&Vs(s),r.blockedOn=a,!1;s.shift()}return!0}function zi(r,s,a){mr(r)&&a.delete(s)}function jl(){ua=!1,At!==null&&mr(At)&&(At=null),On!==null&&mr(On)&&(On=null),Dn!==null&&mr(Dn)&&(Dn=null),Kr.forEach(zi),En.forEach(zi)}function Ln(r,s){r.blockedOn===s&&(r.blockedOn=null,ua||(ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jl)))}function Vn(r){function s(f){return Ln(f,r)}if(0<Wn.length){Ln(Wn[0],r);for(var a=1;a<Wn.length;a++){var h=Wn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(At!==null&&Ln(At,r),On!==null&&Ln(On,r),Dn!==null&&Ln(Dn,r),Kr.forEach(s),En.forEach(s),a=0;a<qn.length;a++)h=qn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)Ul(a),a.blockedOn===null&&qn.shift()}var gr=Te.ReactCurrentBatchConfig,Gr=!0;function Ye(r,s,a,h){var f=xe,g=gr.transition;gr.transition=null;try{xe=1,ca(r,s,a,h)}finally{xe=f,gr.transition=g}}function eh(r,s,a,h){var f=xe,g=gr.transition;gr.transition=null;try{xe=4,ca(r,s,a,h)}finally{xe=f,gr.transition=g}}function ca(r,s,a,h){if(Gr){var f=bs(r,s,a,h);if(f===null)hh(r,s,h,$i,a),Fl(r,h);else if(Zc(f,r,s,a,h))h.stopPropagation();else if(Fl(r,h),s&4&&-1<Jc.indexOf(r)){for(;f!==null;){var g=Sa(f);if(g!==null&&Ll(g),g=bs(r,s,a,h),g===null&&hh(r,s,h,$i,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else hh(r,s,h,null,a)}}var $i=null;function bs(r,s,a,h){if($i=null,r=As(h),r=qi(r),r!==null)if(s=xn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Mi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return $i=r,null}function ha(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kl()){case Fi:return 1;case Br:return 4;case vn:case aa:return 16;case xl:return 536870912;default:return 16}default:return 16}}var dn=null,Ms=null,Zt=null;function da(){if(Zt)return Zt;var r,s=Ms,a=s.length,h,f="value"in dn?dn.value:dn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===f[g-h];h++);return Zt=f.slice(r,1<h?1-h:void 0)}function Fs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Kn(){return!0}function fa(){return!1}function Rt(r){function s(a,h,f,g,E){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Kn:fa,this.isPropagationStopped=fa,this}return P(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),s}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Rt(bn),Gn=P({},bn,{view:0,detail:0}),th=Rt(Gn),js,_r,Qr,Hi=P({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Qr&&(Qr&&r.type==="mousemove"?(js=r.screenX-Qr.screenX,_r=r.screenY-Qr.screenY):_r=js=0,Qr=r),js)},movementY:function(r){return"movementY"in r?r.movementY:_r}}),Bs=Rt(Hi),pa=P({},Hi,{dataTransfer:0}),Bl=Rt(pa),zs=P({},Gn,{relatedTarget:0}),$s=Rt(zs),zl=P({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),yr=Rt(zl),$l=P({},bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Hl=Rt($l),Wl=P({},bn,{data:0}),ma=Rt(Wl),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ql[r])?!!s[r]:!1}function Qn(){return Kl}var u=P({},Gn,{key:function(r){if(r.key){var s=Hs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(r){return r.type==="keypress"?Fs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Rt(u),y=P({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Rt(y),M=P({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),z=Rt(M),ee=P({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=Rt(ee),mt=P({},Hi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=Rt(mt),Et=[9,13,27,32],at=d&&"CompositionEvent"in window,wn=null;d&&"documentMode"in document&&(wn=document.documentMode);var fn=d&&"TextEvent"in window&&!wn,Wi=d&&(!at||wn&&8<wn&&11>=wn),Ws=" ",Ip=!1;function Sp(r,s){switch(r){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ap(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qs=!1;function ZE(r,s){switch(r){case"compositionend":return Ap(s);case"keypress":return s.which!==32?null:(Ip=!0,Ws);case"textInput":return r=s.data,r===Ws&&Ip?null:r;default:return null}}function ew(r,s){if(qs)return r==="compositionend"||!at&&Sp(r,s)?(r=da(),Zt=Ms=dn=null,qs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wi&&s.locale!=="ko"?null:s.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!tw[r.type]:s==="textarea"}function Cp(r,s,a,h){Hn(h),s=Jl(s,"onChange"),0<s.length&&(a=new Us("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var ga=null,_a=null;function nw(r){Wp(r,0)}function Gl(r){var s=Xs(r);if(Es(s))return r}function rw(r,s){if(r==="change")return s}var Pp=!1;if(d){var nh;if(d){var rh="oninput"in document;if(!rh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),rh=typeof kp.oninput=="function"}nh=rh}else nh=!1;Pp=nh&&(!document.documentMode||9<document.documentMode)}function xp(){ga&&(ga.detachEvent("onpropertychange",Np),_a=ga=null)}function Np(r){if(r.propertyName==="value"&&Gl(_a)){var s=[];Cp(s,_a,r,As(r)),ra(nw,s)}}function iw(r,s,a){r==="focusin"?(xp(),ga=s,_a=a,ga.attachEvent("onpropertychange",Np)):r==="focusout"&&xp()}function sw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Gl(_a)}function ow(r,s){if(r==="click")return Gl(s)}function aw(r,s){if(r==="input"||r==="change")return Gl(s)}function lw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Mn=typeof Object.is=="function"?Object.is:lw;function ya(r,s){if(Mn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!Mn(r[f],s[f]))return!1}return!0}function Op(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dp(r,s){var a=Op(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Op(a)}}function Lp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Lp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Vp(){for(var r=window,s=Ur();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Ur(r.document)}return s}function ih(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function uw(r){var s=Vp(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Lp(a.ownerDocument.documentElement,a)){if(h!==null&&ih(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Dp(a,g);var E=Dp(a,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var cw=d&&"documentMode"in document&&11>=document.documentMode,Ks=null,sh=null,va=null,oh=!1;function bp(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;oh||Ks==null||Ks!==Ur(h)||(h=Ks,"selectionStart"in h&&ih(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),va&&ya(va,h)||(va=h,h=Jl(sh,"onSelect"),0<h.length&&(s=new Us("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Ks)))}function Ql(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Gs={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},ah={},Mp={};d&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Yl(r){if(ah[r])return ah[r];if(!Gs[r])return r;var s=Gs[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Mp)return ah[r]=s[a];return r}var Fp=Yl("animationend"),Up=Yl("animationiteration"),jp=Yl("animationstart"),Bp=Yl("transitionend"),zp=new Map,$p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(r,s){zp.set(r,s),l(s,[r])}for(var lh=0;lh<$p.length;lh++){var uh=$p[lh],hw=uh.toLowerCase(),dw=uh[0].toUpperCase()+uh.slice(1);Yr(hw,"on"+dw)}Yr(Fp,"onAnimationEnd"),Yr(Up,"onAnimationIteration"),Yr(jp,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(Bp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function Hp(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Rl(h,s,void 0,r),r.currentTarget=null}function Wp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var S=h[E],k=S.instance,j=S.currentTarget;if(S=S.listener,k!==g&&f.isPropagationStopped())break e;Hp(f,S,j),g=k}else for(E=0;E<h.length;E++){if(S=h[E],k=S.instance,j=S.currentTarget,S=S.listener,k!==g&&f.isPropagationStopped())break e;Hp(f,S,j),g=k}}}if(kn)throw r=ia,kn=!1,ia=null,r}function Ke(r,s){var a=s[_h];a===void 0&&(a=s[_h]=new Set);var h=r+"__bubble";a.has(h)||(qp(s,r,2,!1),a.add(h))}function ch(r,s,a){var h=0;s&&(h|=4),qp(a,r,h,s)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function wa(r){if(!r[Xl]){r[Xl]=!0,i.forEach(function(a){a!=="selectionchange"&&(fw.has(a)||ch(a,!1,r),ch(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Xl]||(s[Xl]=!0,ch("selectionchange",!1,s))}}function qp(r,s,a,h){switch(ha(s)){case 1:var f=Ye;break;case 4:f=eh;break;default:f=ca}a=f.bind(null,s,a,r),f=void 0,!Ps||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function hh(r,s,a,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var S=h.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;E=E.return}for(;S!==null;){if(E=qi(S),E===null)return;if(k=E.tag,k===5||k===6){h=g=E;continue e}S=S.parentNode}}h=h.return}ra(function(){var j=g,K=As(a),X=[];e:{var W=zp.get(r);if(W!==void 0){var re=Us,oe=r;switch(r){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":re=m;break;case"focusin":oe="focus",re=$s;break;case"focusout":oe="blur",re=$s;break;case"beforeblur":case"afterblur":re=$s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=z;break;case Fp:case Up:case jp:re=yr;break;case Bp:re=Be;break;case"scroll":re=th;break;case"wheel":re=Oe;break;case"copy":case"cut":case"paste":re=Hl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=T}var ae=(s&4)!==0,st=!ae&&r==="scroll",F=ae?W!==null?W+"Capture":null:W;ae=[];for(var N=j,U;N!==null;){U=N;var Z=U.stateNode;if(U.tag===5&&Z!==null&&(U=Z,F!==null&&(Z=it(N,F),Z!=null&&ae.push(Ta(N,Z,U)))),st)break;N=N.return}0<ae.length&&(W=new re(W,oe,null,a,K),X.push({event:W,listeners:ae}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",W&&a!==Di&&(oe=a.relatedTarget||a.fromElement)&&(qi(oe)||oe[vr]))break e;if((re||W)&&(W=K.window===K?K:(W=K.ownerDocument)?W.defaultView||W.parentWindow:window,re?(oe=a.relatedTarget||a.toElement,re=j,oe=oe?qi(oe):null,oe!==null&&(st=xn(oe),oe!==st||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(re=null,oe=j),re!==oe)){if(ae=Bs,Z="onMouseLeave",F="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(ae=T,Z="onPointerLeave",F="onPointerEnter",N="pointer"),st=re==null?W:Xs(re),U=oe==null?W:Xs(oe),W=new ae(Z,N+"leave",re,a,K),W.target=st,W.relatedTarget=U,Z=null,qi(K)===j&&(ae=new ae(F,N+"enter",oe,a,K),ae.target=U,ae.relatedTarget=st,Z=ae),st=Z,re&&oe)t:{for(ae=re,F=oe,N=0,U=ae;U;U=Qs(U))N++;for(U=0,Z=F;Z;Z=Qs(Z))U++;for(;0<N-U;)ae=Qs(ae),N--;for(;0<U-N;)F=Qs(F),U--;for(;N--;){if(ae===F||F!==null&&ae===F.alternate)break t;ae=Qs(ae),F=Qs(F)}ae=null}else ae=null;re!==null&&Kp(X,W,re,ae,!1),oe!==null&&st!==null&&Kp(X,st,oe,ae,!0)}}e:{if(W=j?Xs(j):window,re=W.nodeName&&W.nodeName.toLowerCase(),re==="select"||re==="input"&&W.type==="file")var ue=rw;else if(Rp(W))if(Pp)ue=aw;else{ue=sw;var me=iw}else(re=W.nodeName)&&re.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ue=ow);if(ue&&(ue=ue(r,j))){Cp(X,ue,a,K);break e}me&&me(r,W,j),r==="focusout"&&(me=W._wrapperState)&&me.controlled&&W.type==="number"&&Ts(W,"number",W.value)}switch(me=j?Xs(j):window,r){case"focusin":(Rp(me)||me.contentEditable==="true")&&(Ks=me,sh=j,va=null);break;case"focusout":va=sh=Ks=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,bp(X,a,K);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":bp(X,a,K)}var ge;if(at)e:{switch(r){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else qs?Sp(r,a)&&(ve="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(Wi&&a.locale!=="ko"&&(qs||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&qs&&(ge=da()):(dn=K,Ms="value"in dn?dn.value:dn.textContent,qs=!0)),me=Jl(j,ve),0<me.length&&(ve=new ma(ve,r,null,a,K),X.push({event:ve,listeners:me}),ge?ve.data=ge:(ge=Ap(a),ge!==null&&(ve.data=ge)))),(ge=fn?ZE(r,a):ew(r,a))&&(j=Jl(j,"onBeforeInput"),0<j.length&&(K=new ma("onBeforeInput","beforeinput",null,a,K),X.push({event:K,listeners:j}),K.data=ge))}Wp(X,s)})}function Ta(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Jl(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=it(r,a),g!=null&&h.unshift(Ta(r,g,f)),g=it(r,s),g!=null&&h.push(Ta(r,g,f))),r=r.return}return h}function Qs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Kp(r,s,a,h,f){for(var g=s._reactName,E=[];a!==null&&a!==h;){var S=a,k=S.alternate,j=S.stateNode;if(k!==null&&k===h)break;S.tag===5&&j!==null&&(S=j,f?(k=it(a,g),k!=null&&E.unshift(Ta(a,k,S))):f||(k=it(a,g),k!=null&&E.push(Ta(a,k,S)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var pw=/\r\n?/g,mw=/\u0000|\uFFFD/g;function Gp(r){return(typeof r=="string"?r:""+r).replace(pw,`
`).replace(mw,"")}function Zl(r,s,a){if(s=Gp(s),Gp(r)!==s&&a)throw Error(n(425))}function eu(){}var dh=null,fh=null;function ph(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,gw=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(r){return Qp.resolve(null).then(r).catch(yw)}:mh;function yw(r){setTimeout(function(){throw r})}function gh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),Vn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);Vn(s)}function Xr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Yp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Ys,Ia="__reactProps$"+Ys,vr="__reactContainer$"+Ys,_h="__reactEvents$"+Ys,vw="__reactListeners$"+Ys,Ew="__reactHandles$"+Ys;function qi(r){var s=r[Yn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[vr]||a[Yn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Yp(r);r!==null;){if(a=r[Yn])return a;r=Yp(r)}return s}r=a,a=r.parentNode}return null}function Sa(r){return r=r[Yn]||r[vr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function tu(r){return r[Ia]||null}var yh=[],Js=-1;function Jr(r){return{current:r}}function Ge(r){0>Js||(r.current=yh[Js],yh[Js]=null,Js--)}function qe(r,s){Js++,yh[Js]=r.current,r.current=s}var Zr={},Mt=Jr(Zr),en=Jr(!1),Ki=Zr;function Zs(r,s){var a=r.type.contextTypes;if(!a)return Zr;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function tn(r){return r=r.childContextTypes,r!=null}function nu(){Ge(en),Ge(Mt)}function Xp(r,s,a){if(Mt.current!==Zr)throw Error(n(168));qe(Mt,s),qe(en,a)}function Jp(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(n(108,Me(r)||"Unknown",f));return P({},a,h)}function ru(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Zr,Ki=Mt.current,qe(Mt,r),qe(en,en.current),!0}function Zp(r,s,a){var h=r.stateNode;if(!h)throw Error(n(169));a?(r=Jp(r,s,Ki),h.__reactInternalMemoizedMergedChildContext=r,Ge(en),Ge(Mt),qe(Mt,r)):Ge(en),qe(en,a)}var Er=null,iu=!1,vh=!1;function em(r){Er===null?Er=[r]:Er.push(r)}function ww(r){iu=!0,em(r)}function ei(){if(!vh&&Er!==null){vh=!0;var r=0,s=xe;try{var a=Er;for(xe=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Er=null,iu=!1}catch(f){throw Er!==null&&(Er=Er.slice(r+1)),Os(Fi,ei),f}finally{xe=s,vh=!1}}return null}var eo=[],to=0,su=null,ou=0,Tn=[],In=0,Gi=null,wr=1,Tr="";function Qi(r,s){eo[to++]=ou,eo[to++]=su,su=r,ou=s}function tm(r,s,a){Tn[In++]=wr,Tn[In++]=Tr,Tn[In++]=Gi,Gi=r;var h=wr;r=Tr;var f=32-Kt(h)-1;h&=~(1<<f),a+=1;var g=32-Kt(s)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,wr=1<<32-Kt(s)+f|a<<f|h,Tr=g+r}else wr=1<<g|a<<f|h,Tr=r}function Eh(r){r.return!==null&&(Qi(r,1),tm(r,1,0))}function wh(r){for(;r===su;)su=eo[--to],eo[to]=null,ou=eo[--to],eo[to]=null;for(;r===Gi;)Gi=Tn[--In],Tn[In]=null,Tr=Tn[--In],Tn[In]=null,wr=Tn[--In],Tn[In]=null}var pn=null,mn=null,Xe=!1,Fn=null;function nm(r,s){var a=Cn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function rm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,pn=r,mn=Xr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,pn=r,mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Gi!==null?{id:wr,overflow:Tr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Cn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,pn=r,mn=null,!0):!1;default:return!1}}function Th(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ih(r){if(Xe){var s=mn;if(s){var a=s;if(!rm(r,s)){if(Th(r))throw Error(n(418));s=Xr(a.nextSibling);var h=pn;s&&rm(r,s)?nm(h,a):(r.flags=r.flags&-4097|2,Xe=!1,pn=r)}}else{if(Th(r))throw Error(n(418));r.flags=r.flags&-4097|2,Xe=!1,pn=r}}}function im(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function au(r){if(r!==pn)return!1;if(!Xe)return im(r),Xe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ph(r.type,r.memoizedProps)),s&&(s=mn)){if(Th(r))throw sm(),Error(n(418));for(;s;)nm(r,s),s=Xr(s.nextSibling)}if(im(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){mn=Xr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}mn=null}}else mn=pn?Xr(r.stateNode.nextSibling):null;return!0}function sm(){for(var r=mn;r;)r=Xr(r.nextSibling)}function no(){mn=pn=null,Xe=!1}function Sh(r){Fn===null?Fn=[r]:Fn.push(r)}var Tw=Te.ReactCurrentBatchConfig;function Un(r,s){if(r&&r.defaultProps){s=P({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}var lu=Jr(null),uu=null,ro=null,Ah=null;function Rh(){Ah=ro=uu=null}function Ch(r){var s=lu.current;Ge(lu),r._currentValue=s}function Ph(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function io(r,s){uu=r,Ah=ro=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(nn=!0),r.firstContext=null)}function Sn(r){var s=r._currentValue;if(Ah!==r)if(r={context:r,memoizedValue:s,next:null},ro===null){if(uu===null)throw Error(n(308));ro=r,uu.dependencies={lanes:0,firstContext:r}}else ro=ro.next=r;return s}var Yi=null;function kh(r){Yi===null?Yi=[r]:Yi.push(r)}function om(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,kh(s)):(a.next=f.next,f.next=a),s.interleaved=a,Ir(r,h)}function Ir(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ti=!1;function xh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function am(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Sr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ni(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ve&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Ir(r,a)}return f=h.interleaved,f===null?(s.next=s,kh(h)):(s.next=f.next,f.next=s),h.interleaved=s,Ir(r,a)}function cu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Wr(r,a)}}function lm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function hu(r,s,a,h){var f=r.updateQueue;ti=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var k=S,j=k.next;k.next=null,E===null?g=j:E.next=j,E=k;var K=r.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==E&&(S===null?K.firstBaseUpdate=j:S.next=j,K.lastBaseUpdate=k))}if(g!==null){var X=f.baseState;E=0,K=j=k=null,S=g;do{var W=S.lane,re=S.eventTime;if((h&W)===W){K!==null&&(K=K.next={eventTime:re,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var oe=r,ae=S;switch(W=s,re=a,ae.tag){case 1:if(oe=ae.payload,typeof oe=="function"){X=oe.call(re,X,W);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ae.payload,W=typeof oe=="function"?oe.call(re,X,W):oe,W==null)break e;X=P({},X,W);break e;case 2:ti=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,W=f.effects,W===null?f.effects=[S]:W.push(S))}else re={eventTime:re,lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(j=K=re,k=X):K=K.next=re,E|=W;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);if(K===null&&(k=X),f.baseState=k,f.firstBaseUpdate=j,f.lastBaseUpdate=K,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Zi|=E,r.lanes=E,r.memoizedState=X}}function um(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(n(191,f));f.call(h)}}}var cm=new t.Component().refs;function Nh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:P({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var du={isMounted:function(r){return(r=r._reactInternals)?xn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Yt(),f=oi(r),g=Sr(h,f);g.payload=s,a!=null&&(g.callback=a),s=ni(r,g,f),s!==null&&(zn(s,r,f,h),cu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Yt(),f=oi(r),g=Sr(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ni(r,g,f),s!==null&&(zn(s,r,f,h),cu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Yt(),h=oi(r),f=Sr(a,h);f.tag=2,s!=null&&(f.callback=s),s=ni(r,f,h),s!==null&&(zn(s,r,h,a),cu(s,r,h))}};function hm(r,s,a,h,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!ya(a,h)||!ya(f,g):!0}function dm(r,s,a){var h=!1,f=Zr,g=s.contextType;return typeof g=="object"&&g!==null?g=Sn(g):(f=tn(s)?Ki:Mt.current,h=s.contextTypes,g=(h=h!=null)?Zs(r,f):Zr),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=du,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function fm(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&du.enqueueReplaceState(s,s.state,null)}function Oh(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs=cm,xh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Sn(g):(g=tn(s)?Ki:Mt.current,f.context=Zs(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nh(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&du.enqueueReplaceState(f,f.state,null),hu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Aa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var h=a.stateNode}if(!h)throw Error(n(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var S=f.refs;S===cm&&(S=f.refs={}),E===null?delete S[g]:S[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function fu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function pm(r){var s=r._init;return s(r._payload)}function mm(r){function s(F,N){if(r){var U=F.deletions;U===null?(F.deletions=[N],F.flags|=16):U.push(N)}}function a(F,N){if(!r)return null;for(;N!==null;)s(F,N),N=N.sibling;return null}function h(F,N){for(F=new Map;N!==null;)N.key!==null?F.set(N.key,N):F.set(N.index,N),N=N.sibling;return F}function f(F,N){return F=li(F,N),F.index=0,F.sibling=null,F}function g(F,N,U){return F.index=U,r?(U=F.alternate,U!==null?(U=U.index,U<N?(F.flags|=2,N):U):(F.flags|=2,N)):(F.flags|=1048576,N)}function E(F){return r&&F.alternate===null&&(F.flags|=2),F}function S(F,N,U,Z){return N===null||N.tag!==6?(N=md(U,F.mode,Z),N.return=F,N):(N=f(N,U),N.return=F,N)}function k(F,N,U,Z){var ue=U.type;return ue===D?K(F,N,U.props.children,Z,U.key):N!==null&&(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Vt&&pm(ue)===N.type)?(Z=f(N,U.props),Z.ref=Aa(F,N,U),Z.return=F,Z):(Z=Ou(U.type,U.key,U.props,null,F.mode,Z),Z.ref=Aa(F,N,U),Z.return=F,Z)}function j(F,N,U,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=gd(U,F.mode,Z),N.return=F,N):(N=f(N,U.children||[]),N.return=F,N)}function K(F,N,U,Z,ue){return N===null||N.tag!==7?(N=rs(U,F.mode,Z,ue),N.return=F,N):(N=f(N,U),N.return=F,N)}function X(F,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=md(""+N,F.mode,U),N.return=F,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ce:return U=Ou(N.type,N.key,N.props,null,F.mode,U),U.ref=Aa(F,null,N),U.return=F,U;case Ae:return N=gd(N,F.mode,U),N.return=F,N;case Vt:var Z=N._init;return X(F,Z(N._payload),U)}if(cr(N)||pe(N))return N=rs(N,F.mode,U,null),N.return=F,N;fu(F,N)}return null}function W(F,N,U,Z){var ue=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ue!==null?null:S(F,N,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:return U.key===ue?k(F,N,U,Z):null;case Ae:return U.key===ue?j(F,N,U,Z):null;case Vt:return ue=U._init,W(F,N,ue(U._payload),Z)}if(cr(U)||pe(U))return ue!==null?null:K(F,N,U,Z,null);fu(F,U)}return null}function re(F,N,U,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(U)||null,S(N,F,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ce:return F=F.get(Z.key===null?U:Z.key)||null,k(N,F,Z,ue);case Ae:return F=F.get(Z.key===null?U:Z.key)||null,j(N,F,Z,ue);case Vt:var me=Z._init;return re(F,N,U,me(Z._payload),ue)}if(cr(Z)||pe(Z))return F=F.get(U)||null,K(N,F,Z,ue,null);fu(N,Z)}return null}function oe(F,N,U,Z){for(var ue=null,me=null,ge=N,ve=N=0,It=null;ge!==null&&ve<U.length;ve++){ge.index>ve?(It=ge,ge=null):It=ge.sibling;var Ue=W(F,ge,U[ve],Z);if(Ue===null){ge===null&&(ge=It);break}r&&ge&&Ue.alternate===null&&s(F,ge),N=g(Ue,N,ve),me===null?ue=Ue:me.sibling=Ue,me=Ue,ge=It}if(ve===U.length)return a(F,ge),Xe&&Qi(F,ve),ue;if(ge===null){for(;ve<U.length;ve++)ge=X(F,U[ve],Z),ge!==null&&(N=g(ge,N,ve),me===null?ue=ge:me.sibling=ge,me=ge);return Xe&&Qi(F,ve),ue}for(ge=h(F,ge);ve<U.length;ve++)It=re(ge,F,ve,U[ve],Z),It!==null&&(r&&It.alternate!==null&&ge.delete(It.key===null?ve:It.key),N=g(It,N,ve),me===null?ue=It:me.sibling=It,me=It);return r&&ge.forEach(function(ui){return s(F,ui)}),Xe&&Qi(F,ve),ue}function ae(F,N,U,Z){var ue=pe(U);if(typeof ue!="function")throw Error(n(150));if(U=ue.call(U),U==null)throw Error(n(151));for(var me=ue=null,ge=N,ve=N=0,It=null,Ue=U.next();ge!==null&&!Ue.done;ve++,Ue=U.next()){ge.index>ve?(It=ge,ge=null):It=ge.sibling;var ui=W(F,ge,Ue.value,Z);if(ui===null){ge===null&&(ge=It);break}r&&ge&&ui.alternate===null&&s(F,ge),N=g(ui,N,ve),me===null?ue=ui:me.sibling=ui,me=ui,ge=It}if(Ue.done)return a(F,ge),Xe&&Qi(F,ve),ue;if(ge===null){for(;!Ue.done;ve++,Ue=U.next())Ue=X(F,Ue.value,Z),Ue!==null&&(N=g(Ue,N,ve),me===null?ue=Ue:me.sibling=Ue,me=Ue);return Xe&&Qi(F,ve),ue}for(ge=h(F,ge);!Ue.done;ve++,Ue=U.next())Ue=re(ge,F,ve,Ue.value,Z),Ue!==null&&(r&&Ue.alternate!==null&&ge.delete(Ue.key===null?ve:Ue.key),N=g(Ue,N,ve),me===null?ue=Ue:me.sibling=Ue,me=Ue);return r&&ge.forEach(function(tT){return s(F,tT)}),Xe&&Qi(F,ve),ue}function st(F,N,U,Z){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:e:{for(var ue=U.key,me=N;me!==null;){if(me.key===ue){if(ue=U.type,ue===D){if(me.tag===7){a(F,me.sibling),N=f(me,U.props.children),N.return=F,F=N;break e}}else if(me.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Vt&&pm(ue)===me.type){a(F,me.sibling),N=f(me,U.props),N.ref=Aa(F,me,U),N.return=F,F=N;break e}a(F,me);break}else s(F,me);me=me.sibling}U.type===D?(N=rs(U.props.children,F.mode,Z,U.key),N.return=F,F=N):(Z=Ou(U.type,U.key,U.props,null,F.mode,Z),Z.ref=Aa(F,N,U),Z.return=F,F=Z)}return E(F);case Ae:e:{for(me=U.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(F,N.sibling),N=f(N,U.children||[]),N.return=F,F=N;break e}else{a(F,N);break}else s(F,N);N=N.sibling}N=gd(U,F.mode,Z),N.return=F,F=N}return E(F);case Vt:return me=U._init,st(F,N,me(U._payload),Z)}if(cr(U))return oe(F,N,U,Z);if(pe(U))return ae(F,N,U,Z);fu(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(a(F,N.sibling),N=f(N,U),N.return=F,F=N):(a(F,N),N=md(U,F.mode,Z),N.return=F,F=N),E(F)):a(F,N)}return st}var so=mm(!0),gm=mm(!1),Ra={},Xn=Jr(Ra),Ca=Jr(Ra),Pa=Jr(Ra);function Xi(r){if(r===Ra)throw Error(n(174));return r}function Dh(r,s){switch(qe(Pa,s),qe(Ca,r),qe(Xn,Ra),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:pt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=pt(s,r)}Ge(Xn),qe(Xn,s)}function oo(){Ge(Xn),Ge(Ca),Ge(Pa)}function _m(r){Xi(Pa.current);var s=Xi(Xn.current),a=pt(s,r.type);s!==a&&(qe(Ca,r),qe(Xn,a))}function Lh(r){Ca.current===r&&(Ge(Xn),Ge(Ca))}var Je=Jr(0);function pu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vh=[];function bh(){for(var r=0;r<Vh.length;r++)Vh[r]._workInProgressVersionPrimary=null;Vh.length=0}var mu=Te.ReactCurrentDispatcher,Mh=Te.ReactCurrentBatchConfig,Ji=0,Ze=null,gt=null,wt=null,gu=!1,ka=!1,xa=0,Iw=0;function Ft(){throw Error(n(321))}function Fh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Mn(r[a],s[a]))return!1;return!0}function Uh(r,s,a,h,f,g){if(Ji=g,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mu.current=r===null||r.memoizedState===null?Cw:Pw,r=a(h,f),ka){g=0;do{if(ka=!1,xa=0,25<=g)throw Error(n(301));g+=1,wt=gt=null,s.updateQueue=null,mu.current=kw,r=a(h,f)}while(ka)}if(mu.current=vu,s=gt!==null&&gt.next!==null,Ji=0,wt=gt=Ze=null,gu=!1,s)throw Error(n(300));return r}function jh(){var r=xa!==0;return xa=0,r}function Jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=r:wt=wt.next=r,wt}function An(){if(gt===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var s=wt===null?Ze.memoizedState:wt.next;if(s!==null)wt=s,gt=r;else{if(r===null)throw Error(n(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},wt===null?Ze.memoizedState=wt=r:wt=wt.next=r}return wt}function Na(r,s){return typeof s=="function"?s(r):s}function Bh(r){var s=An(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var h=gt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var S=E=null,k=null,j=g;do{var K=j.lane;if((Ji&K)===K)k!==null&&(k=k.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),h=j.hasEagerState?j.eagerState:r(h,j.action);else{var X={lane:K,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};k===null?(S=k=X,E=h):k=k.next=X,Ze.lanes|=K,Zi|=K}j=j.next}while(j!==null&&j!==g);k===null?E=h:k.next=S,Mn(h,s.memoizedState)||(nn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=k,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,Ze.lanes|=g,Zi|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function zh(r){var s=An(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);Mn(g,s.memoizedState)||(nn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function ym(){}function vm(r,s){var a=Ze,h=An(),f=s(),g=!Mn(h.memoizedState,f);if(g&&(h.memoizedState=f,nn=!0),h=h.queue,$h(Tm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||wt!==null&&wt.memoizedState.tag&1){if(a.flags|=2048,Oa(9,wm.bind(null,a,h,f,s),void 0,null),Tt===null)throw Error(n(349));(Ji&30)!==0||Em(a,s,f)}return f}function Em(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function wm(r,s,a,h){s.value=a,s.getSnapshot=h,Im(s)&&Sm(r)}function Tm(r,s,a){return a(function(){Im(s)&&Sm(r)})}function Im(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Mn(r,a)}catch{return!0}}function Sm(r){var s=Ir(r,1);s!==null&&zn(s,r,1,-1)}function Am(r){var s=Jn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:r},s.queue=r,r=r.dispatch=Rw.bind(null,Ze,r),[s.memoizedState,r]}function Oa(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Rm(){return An().memoizedState}function _u(r,s,a,h){var f=Jn();Ze.flags|=r,f.memoizedState=Oa(1|s,a,void 0,h===void 0?null:h)}function yu(r,s,a,h){var f=An();h=h===void 0?null:h;var g=void 0;if(gt!==null){var E=gt.memoizedState;if(g=E.destroy,h!==null&&Fh(h,E.deps)){f.memoizedState=Oa(s,a,g,h);return}}Ze.flags|=r,f.memoizedState=Oa(1|s,a,g,h)}function Cm(r,s){return _u(8390656,8,r,s)}function $h(r,s){return yu(2048,8,r,s)}function Pm(r,s){return yu(4,2,r,s)}function km(r,s){return yu(4,4,r,s)}function xm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Nm(r,s,a){return a=a!=null?a.concat([r]):null,yu(4,4,xm.bind(null,s,r),a)}function Hh(){}function Om(r,s){var a=An();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Fh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Dm(r,s){var a=An();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Fh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Lm(r,s,a){return(Ji&21)===0?(r.baseState&&(r.baseState=!1,nn=!0),r.memoizedState=a):(Mn(a,s)||(a=Bi(),Ze.lanes|=a,Zi|=a,r.baseState=!0),s)}function Sw(r,s){var a=xe;xe=a!==0&&4>a?a:4,r(!0);var h=Mh.transition;Mh.transition={};try{r(!1),s()}finally{xe=a,Mh.transition=h}}function Vm(){return An().memoizedState}function Aw(r,s,a){var h=oi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},bm(r))Mm(s,a);else if(a=om(r,s,a,h),a!==null){var f=Yt();zn(a,r,h,f),Fm(a,s,h)}}function Rw(r,s,a){var h=oi(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(bm(r))Mm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,S=g(E,a);if(f.hasEagerState=!0,f.eagerState=S,Mn(S,E)){var k=s.interleaved;k===null?(f.next=f,kh(s)):(f.next=k.next,k.next=f),s.interleaved=f;return}}catch{}finally{}a=om(r,s,f,h),a!==null&&(f=Yt(),zn(a,r,h,f),Fm(a,s,h))}}function bm(r){var s=r.alternate;return r===Ze||s!==null&&s===Ze}function Mm(r,s){ka=gu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Fm(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Wr(r,a)}}var vu={readContext:Sn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Cw={readContext:Sn,useCallback:function(r,s){return Jn().memoizedState=[r,s===void 0?null:s],r},useContext:Sn,useEffect:Cm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,_u(4194308,4,xm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return _u(4194308,4,r,s)},useInsertionEffect:function(r,s){return _u(4,2,r,s)},useMemo:function(r,s){var a=Jn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Jn();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=Aw.bind(null,Ze,r),[h.memoizedState,r]},useRef:function(r){var s=Jn();return r={current:r},s.memoizedState=r},useState:Am,useDebugValue:Hh,useDeferredValue:function(r){return Jn().memoizedState=r},useTransition:function(){var r=Am(!1),s=r[0];return r=Sw.bind(null,r[1]),Jn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=Ze,f=Jn();if(Xe){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),Tt===null)throw Error(n(349));(Ji&30)!==0||Em(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Cm(Tm.bind(null,h,g,r),[r]),h.flags|=2048,Oa(9,wm.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Jn(),s=Tt.identifierPrefix;if(Xe){var a=Tr,h=wr;a=(h&~(1<<32-Kt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=xa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Iw++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Pw={readContext:Sn,useCallback:Om,useContext:Sn,useEffect:$h,useImperativeHandle:Nm,useInsertionEffect:Pm,useLayoutEffect:km,useMemo:Dm,useReducer:Bh,useRef:Rm,useState:function(){return Bh(Na)},useDebugValue:Hh,useDeferredValue:function(r){var s=An();return Lm(s,gt.memoizedState,r)},useTransition:function(){var r=Bh(Na)[0],s=An().memoizedState;return[r,s]},useMutableSource:ym,useSyncExternalStore:vm,useId:Vm,unstable_isNewReconciler:!1},kw={readContext:Sn,useCallback:Om,useContext:Sn,useEffect:$h,useImperativeHandle:Nm,useInsertionEffect:Pm,useLayoutEffect:km,useMemo:Dm,useReducer:zh,useRef:Rm,useState:function(){return zh(Na)},useDebugValue:Hh,useDeferredValue:function(r){var s=An();return gt===null?s.memoizedState=r:Lm(s,gt.memoizedState,r)},useTransition:function(){var r=zh(Na)[0],s=An().memoizedState;return[r,s]},useMutableSource:ym,useSyncExternalStore:vm,useId:Vm,unstable_isNewReconciler:!1};function ao(r,s){try{var a="",h=s;do a+=be(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Wh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function qh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var xw=typeof WeakMap=="function"?WeakMap:Map;function Um(r,s,a){a=Sr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Ru||(Ru=!0,ad=h),qh(r,s)},a}function jm(r,s,a){a=Sr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){qh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){qh(r,s),typeof h!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Bm(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new xw;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=Hw.bind(null,r,s,a),s.then(r,r))}function zm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function $m(r,s,a,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Sr(-1,1),s.tag=2,ni(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Nw=Te.ReactCurrentOwner,nn=!1;function Qt(r,s,a,h){s.child=r===null?gm(s,null,a,h):so(s,r.child,a,h)}function Hm(r,s,a,h,f){a=a.render;var g=s.ref;return io(s,f),h=Uh(r,s,a,h,g,f),a=jh(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Ar(r,s,f)):(Xe&&a&&Eh(s),s.flags|=1,Qt(r,s,h,f),s.child)}function Wm(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!pd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,qm(r,s,g,h,f)):(r=Ou(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:ya,a(E,h)&&r.ref===s.ref)return Ar(r,s,f)}return s.flags|=1,r=li(g,h),r.ref=s.ref,r.return=s,s.child=r}function qm(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(ya(g,h)&&r.ref===s.ref)if(nn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(nn=!0);else return s.lanes=r.lanes,Ar(r,s,f)}return Kh(r,s,a,h,f)}function Km(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(uo,gn),gn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(uo,gn),gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,qe(uo,gn),gn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,qe(uo,gn),gn|=h;return Qt(r,s,f,a),s.child}function Gm(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Kh(r,s,a,h,f){var g=tn(a)?Ki:Mt.current;return g=Zs(s,g),io(s,f),a=Uh(r,s,a,h,g,f),h=jh(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Ar(r,s,f)):(Xe&&h&&Eh(s),s.flags|=1,Qt(r,s,a,f),s.child)}function Qm(r,s,a,h,f){if(tn(a)){var g=!0;ru(s)}else g=!1;if(io(s,f),s.stateNode===null)wu(r,s),dm(s,a,h),Oh(s,a,h,f),h=!0;else if(r===null){var E=s.stateNode,S=s.memoizedProps;E.props=S;var k=E.context,j=a.contextType;typeof j=="object"&&j!==null?j=Sn(j):(j=tn(a)?Ki:Mt.current,j=Zs(s,j));var K=a.getDerivedStateFromProps,X=typeof K=="function"||typeof E.getSnapshotBeforeUpdate=="function";X||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(S!==h||k!==j)&&fm(s,E,h,j),ti=!1;var W=s.memoizedState;E.state=W,hu(s,h,E,f),k=s.memoizedState,S!==h||W!==k||en.current||ti?(typeof K=="function"&&(Nh(s,a,K,h),k=s.memoizedState),(S=ti||hm(s,a,S,h,W,k,j))?(X||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),E.props=h,E.state=k,E.context=j,h=S):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,am(r,s),S=s.memoizedProps,j=s.type===s.elementType?S:Un(s.type,S),E.props=j,X=s.pendingProps,W=E.context,k=a.contextType,typeof k=="object"&&k!==null?k=Sn(k):(k=tn(a)?Ki:Mt.current,k=Zs(s,k));var re=a.getDerivedStateFromProps;(K=typeof re=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(S!==X||W!==k)&&fm(s,E,h,k),ti=!1,W=s.memoizedState,E.state=W,hu(s,h,E,f);var oe=s.memoizedState;S!==X||W!==oe||en.current||ti?(typeof re=="function"&&(Nh(s,a,re,h),oe=s.memoizedState),(j=ti||hm(s,a,j,h,W,oe,k)||!1)?(K||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,oe,k),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,oe,k)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||S===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=oe),E.props=h,E.state=oe,E.context=k,h=j):(typeof E.componentDidUpdate!="function"||S===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),h=!1)}return Gh(r,s,a,h,g,f)}function Gh(r,s,a,h,f,g){Gm(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&Zp(s,a,!1),Ar(r,s,g);h=s.stateNode,Nw.current=s;var S=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=so(s,r.child,null,g),s.child=so(s,null,S,g)):Qt(r,s,S,g),s.memoizedState=h.state,f&&Zp(s,a,!0),s.child}function Ym(r){var s=r.stateNode;s.pendingContext?Xp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Xp(r,s.context,!1),Dh(r,s.containerInfo)}function Xm(r,s,a,h,f){return no(),Sh(f),s.flags|=256,Qt(r,s,a,h),s.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Yh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Jm(r,s,a){var h=s.pendingProps,f=Je.current,g=!1,E=(s.flags&128)!==0,S;if((S=E)||(S=r!==null&&r.memoizedState===null?!1:(f&2)!==0),S?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),qe(Je,f&1),r===null)return Ih(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Du(E,h,0,null),r=rs(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Yh(a),s.memoizedState=Qh,r):Xh(s,E));if(f=r.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return Ow(r,s,E,h,S,f,a);if(g){g=h.fallback,E=s.mode,f=r.child,S=f.sibling;var k={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=li(f,k),h.subtreeFlags=f.subtreeFlags&14680064),S!==null?g=li(S,g):(g=rs(g,E,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?Yh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,s.memoizedState=Qh,h}return g=r.child,r=g.sibling,h=li(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Xh(r,s){return s=Du({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Eu(r,s,a,h){return h!==null&&Sh(h),so(s,r.child,null,a),r=Xh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ow(r,s,a,h,f,g,E){if(a)return s.flags&256?(s.flags&=-257,h=Wh(Error(n(422))),Eu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Du({mode:"visible",children:h.children},f,0,null),g=rs(g,f,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&so(s,r.child,null,E),s.child.memoizedState=Yh(E),s.memoizedState=Qh,g);if((s.mode&1)===0)return Eu(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var S=h.dgst;return h=S,g=Error(n(419)),h=Wh(g,h,void 0),Eu(r,s,E,h)}if(S=(E&r.childLanes)!==0,nn||S){if(h=Tt,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Ir(r,f),zn(h,r,f,-1))}return fd(),h=Wh(Error(n(421))),Eu(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Ww.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,mn=Xr(f.nextSibling),pn=s,Xe=!0,Fn=null,r!==null&&(Tn[In++]=wr,Tn[In++]=Tr,Tn[In++]=Gi,wr=r.id,Tr=r.overflow,Gi=s),s=Xh(s,h.children),s.flags|=4096,s)}function Zm(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Ph(r.return,s,a)}function Jh(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function eg(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Qt(r,s,h.children,a),h=Je.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zm(r,a,s);else if(r.tag===19)Zm(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(qe(Je,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&pu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Jh(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&pu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Jh(s,!0,a,null,g);break;case"together":Jh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ar(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Zi|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=li(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=li(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Dw(r,s,a){switch(s.tag){case 3:Ym(s),no();break;case 5:_m(s);break;case 1:tn(s.type)&&ru(s);break;case 4:Dh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;qe(lu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(qe(Je,Je.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Jm(r,s,a):(qe(Je,Je.current&1),r=Ar(r,s,a),r!==null?r.sibling:null);qe(Je,Je.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return eg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),qe(Je,Je.current),h)break;return null;case 22:case 23:return s.lanes=0,Km(r,s,a)}return Ar(r,s,a)}var tg,Zh,ng,rg;tg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Zh=function(){},ng=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Xi(Xn.current);var g=null;switch(a){case"input":f=xi(r,f),h=xi(r,h),g=[];break;case"select":f=P({},f,{value:void 0}),h=P({},h,{value:void 0}),g=[];break;case"textarea":f=Ko(r,f),h=Ko(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=eu)}Zo(a,h);var E;a=null;for(j in f)if(!h.hasOwnProperty(j)&&f.hasOwnProperty(j)&&f[j]!=null)if(j==="style"){var S=f[j];for(E in S)S.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?g||(g=[]):(g=g||[]).push(j,null));for(j in h){var k=h[j];if(S=f!=null?f[j]:void 0,h.hasOwnProperty(j)&&k!==S&&(k!=null||S!=null))if(j==="style")if(S){for(E in S)!S.hasOwnProperty(E)||k&&k.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in k)k.hasOwnProperty(E)&&S[E]!==k[E]&&(a||(a={}),a[E]=k[E])}else a||(g||(g=[]),g.push(j,a)),a=k;else j==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,S=S?S.__html:void 0,k!=null&&S!==k&&(g=g||[]).push(j,k)):j==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push(j,""+k):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(o.hasOwnProperty(j)?(k!=null&&j==="onScroll"&&Ke("scroll",r),g||S===k||(g=[])):(g=g||[]).push(j,k))}a&&(g=g||[]).push("style",a);var j=g;(s.updateQueue=j)&&(s.flags|=4)}},rg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Da(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function Lw(r,s,a){var h=s.pendingProps;switch(wh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return tn(s.type)&&nu(),Ut(s),null;case 3:return h=s.stateNode,oo(),Ge(en),Ge(Mt),bh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(au(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fn!==null&&(cd(Fn),Fn=null))),Zh(r,s),Ut(s),null;case 5:Lh(s);var f=Xi(Pa.current);if(a=s.type,r!==null&&s.stateNode!=null)ng(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Ut(s),null}if(r=Xi(Xn.current),au(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[Yn]=s,h[Ia]=g,r=(s.mode&1)!==0,a){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(f=0;f<Ea.length;f++)Ke(Ea[f],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":ws(h,g),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ke("invalid",h);break;case"textarea":Is(h,g),Ke("invalid",h)}Zo(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var S=g[E];E==="children"?typeof S=="string"?h.textContent!==S&&(g.suppressHydrationWarning!==!0&&Zl(h.textContent,S,r),f=["children",S]):typeof S=="number"&&h.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&Zl(h.textContent,S,r),f=["children",""+S]):o.hasOwnProperty(E)&&S!=null&&E==="onScroll"&&Ke("scroll",h)}switch(a){case"input":ur(h),Al(h,g,!0);break;case"textarea":ur(h),Go(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=eu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ft(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[Yn]=s,r[Ia]=h,tg(r,s,!1,!1),s.stateNode=r;e:{switch(E=ea(a,h),a){case"dialog":Ke("cancel",r),Ke("close",r),f=h;break;case"iframe":case"object":case"embed":Ke("load",r),f=h;break;case"video":case"audio":for(f=0;f<Ea.length;f++)Ke(Ea[f],r);f=h;break;case"source":Ke("error",r),f=h;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),f=h;break;case"details":Ke("toggle",r),f=h;break;case"input":ws(r,h),f=xi(r,h),Ke("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=P({},h,{value:void 0}),Ke("invalid",r);break;case"textarea":Is(r,h),f=Ko(r,h),Ke("invalid",r);break;default:f=h}Zo(a,f),S=f;for(g in S)if(S.hasOwnProperty(g)){var k=S[g];g==="style"?Xo(r,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Qo(r,k)):g==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&jr(r,k):typeof k=="number"&&jr(r,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?k!=null&&g==="onScroll"&&Ke("scroll",r):k!=null&&de(r,g,k,E))}switch(a){case"input":ur(r),Al(r,h,!1);break;case"textarea":ur(r),Go(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Fe(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?hr(r,!!h.multiple,g,!1):h.defaultValue!=null&&hr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=eu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)rg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(a=Xi(Pa.current),Xi(Xn.current),au(s)){if(h=s.stateNode,a=s.memoizedProps,h[Yn]=s,(g=h.nodeValue!==a)&&(r=pn,r!==null))switch(r.tag){case 3:Zl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Zl(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Yn]=s,s.stateNode=h}return Ut(s),null;case 13:if(Ge(Je),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Xe&&mn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)sm(),no(),s.flags|=98560,g=!1;else if(g=au(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Yn]=s}else no(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),g=!1}else Fn!==null&&(cd(Fn),Fn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Je.current&1)!==0?_t===0&&(_t=3):fd())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return oo(),Zh(r,s),r===null&&wa(s.stateNode.containerInfo),Ut(s),null;case 10:return Ch(s.type._context),Ut(s),null;case 17:return tn(s.type)&&nu(),Ut(s),null;case 19:if(Ge(Je),g=s.memoizedState,g===null)return Ut(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)Da(g,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=pu(r),E!==null){for(s.flags|=128,Da(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return qe(Je,Je.current&1|2),s.child}r=r.sibling}g.tail!==null&&We()>co&&(s.flags|=128,h=!0,Da(g,!1),s.lanes=4194304)}else{if(!h)if(r=pu(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Da(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Xe)return Ut(s),null}else 2*We()-g.renderingStartTime>co&&a!==1073741824&&(s.flags|=128,h=!0,Da(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=We(),s.sibling=null,a=Je.current,qe(Je,h?a&1|2:a&1),s):(Ut(s),null);case 22:case 23:return dd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(gn&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Vw(r,s){switch(wh(s),s.tag){case 1:return tn(s.type)&&nu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return oo(),Ge(en),Ge(Mt),bh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(Ge(Je),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));no()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ge(Je),null;case 4:return oo(),null;case 10:return Ch(s.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Tu=!1,jt=!1,bw=typeof WeakSet=="function"?WeakSet:Set,ie=null;function lo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){tt(r,s,h)}else a.current=null}function ed(r,s,a){try{a()}catch(h){tt(r,s,h)}}var ig=!1;function Mw(r,s){if(dh=Gr,r=Vp(),ih(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,S=-1,k=-1,j=0,K=0,X=r,W=null;t:for(;;){for(var re;X!==a||f!==0&&X.nodeType!==3||(S=E+f),X!==g||h!==0&&X.nodeType!==3||(k=E+h),X.nodeType===3&&(E+=X.nodeValue.length),(re=X.firstChild)!==null;)W=X,X=re;for(;;){if(X===r)break t;if(W===a&&++j===f&&(S=E),W===g&&++K===h&&(k=E),(re=X.nextSibling)!==null)break;X=W,W=X.parentNode}X=re}a=S===-1||k===-1?null:{start:S,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(fh={focusedElem:r,selectionRange:a},Gr=!1,ie=s;ie!==null;)if(s=ie,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ie=r;else for(;ie!==null;){s=ie;try{var oe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ae=oe.memoizedProps,st=oe.memoizedState,F=s.stateNode,N=F.getSnapshotBeforeUpdate(s.elementType===s.type?ae:Un(s.type,ae),st);F.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){tt(s,s.return,Z)}if(r=s.sibling,r!==null){r.return=s.return,ie=r;break}ie=s.return}return oe=ig,ig=!1,oe}function La(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&ed(s,a,g)}f=f.next}while(f!==h)}}function Iu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function td(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function sg(r){var s=r.alternate;s!==null&&(r.alternate=null,sg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Yn],delete s[Ia],delete s[_h],delete s[vw],delete s[Ew])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function og(r){return r.tag===5||r.tag===3||r.tag===4}function ag(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||og(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=eu));else if(h!==4&&(r=r.child,r!==null))for(nd(r,s,a),r=r.sibling;r!==null;)nd(r,s,a),r=r.sibling}function rd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(rd(r,s,a),r=r.sibling;r!==null;)rd(r,s,a),r=r.sibling}var Ct=null,jn=!1;function ri(r,s,a){for(a=a.child;a!==null;)lg(r,s,a),a=a.sibling}function lg(r,s,a){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ui,a)}catch{}switch(a.tag){case 5:jt||lo(a,s);case 6:var h=Ct,f=jn;Ct=null,ri(r,s,a),Ct=h,jn=f,Ct!==null&&(jn?(r=Ct,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ct.removeChild(a.stateNode));break;case 18:Ct!==null&&(jn?(r=Ct,a=a.stateNode,r.nodeType===8?gh(r.parentNode,a):r.nodeType===1&&gh(r,a),Vn(r)):gh(Ct,a.stateNode));break;case 4:h=Ct,f=jn,Ct=a.stateNode.containerInfo,jn=!0,ri(r,s,a),Ct=h,jn=f;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&ed(a,s,E),f=f.next}while(f!==h)}ri(r,s,a);break;case 1:if(!jt&&(lo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(S){tt(a,s,S)}ri(r,s,a);break;case 21:ri(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,ri(r,s,a),jt=h):ri(r,s,a);break;default:ri(r,s,a)}}function ug(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new bw),s.forEach(function(h){var f=qw.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Bn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 5:Ct=S.stateNode,jn=!1;break e;case 3:Ct=S.stateNode.containerInfo,jn=!0;break e;case 4:Ct=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(Ct===null)throw Error(n(160));lg(g,E,f),Ct=null,jn=!1;var k=f.alternate;k!==null&&(k.return=null),f.return=null}catch(j){tt(f,s,j)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)cg(s,r),s=s.sibling}function cg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Bn(s,r),Zn(r),h&4){try{La(3,r,r.return),Iu(3,r)}catch(ae){tt(r,r.return,ae)}try{La(5,r,r.return)}catch(ae){tt(r,r.return,ae)}}break;case 1:Bn(s,r),Zn(r),h&512&&a!==null&&lo(a,a.return);break;case 5:if(Bn(s,r),Zn(r),h&512&&a!==null&&lo(a,a.return),r.flags&32){var f=r.stateNode;try{jr(f,"")}catch(ae){tt(r,r.return,ae)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,S=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&Wo(f,g),ea(S,E);var j=ea(S,g);for(E=0;E<k.length;E+=2){var K=k[E],X=k[E+1];K==="style"?Xo(f,X):K==="dangerouslySetInnerHTML"?Qo(f,X):K==="children"?jr(f,X):de(f,K,X,j)}switch(S){case"input":qo(f,g);break;case"textarea":Ss(f,g);break;case"select":var W=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var re=g.value;re!=null?hr(f,!!g.multiple,re,!1):W!==!!g.multiple&&(g.defaultValue!=null?hr(f,!!g.multiple,g.defaultValue,!0):hr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ia]=g}catch(ae){tt(r,r.return,ae)}}break;case 6:if(Bn(s,r),Zn(r),h&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ae){tt(r,r.return,ae)}}break;case 3:if(Bn(s,r),Zn(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Vn(s.containerInfo)}catch(ae){tt(r,r.return,ae)}break;case 4:Bn(s,r),Zn(r);break;case 13:Bn(s,r),Zn(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(od=We())),h&4&&ug(r);break;case 22:if(K=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(j=jt)||K,Bn(s,r),jt=j):Bn(s,r),Zn(r),h&8192){if(j=r.memoizedState!==null,(r.stateNode.isHidden=j)&&!K&&(r.mode&1)!==0)for(ie=r,K=r.child;K!==null;){for(X=ie=K;ie!==null;){switch(W=ie,re=W.child,W.tag){case 0:case 11:case 14:case 15:La(4,W,W.return);break;case 1:lo(W,W.return);var oe=W.stateNode;if(typeof oe.componentWillUnmount=="function"){h=W,a=W.return;try{s=h,oe.props=s.memoizedProps,oe.state=s.memoizedState,oe.componentWillUnmount()}catch(ae){tt(h,a,ae)}}break;case 5:lo(W,W.return);break;case 22:if(W.memoizedState!==null){fg(X);continue}}re!==null?(re.return=W,ie=re):fg(X)}K=K.sibling}e:for(K=null,X=r;;){if(X.tag===5){if(K===null){K=X;try{f=X.stateNode,j?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=X.stateNode,k=X.memoizedProps.style,E=k!=null&&k.hasOwnProperty("display")?k.display:null,S.style.display=Yo("display",E))}catch(ae){tt(r,r.return,ae)}}}else if(X.tag===6){if(K===null)try{X.stateNode.nodeValue=j?"":X.memoizedProps}catch(ae){tt(r,r.return,ae)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;K===X&&(K=null),X=X.return}K===X&&(K=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Bn(s,r),Zn(r),h&4&&ug(r);break;case 21:break;default:Bn(s,r),Zn(r)}}function Zn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(og(a)){var h=a;break e}a=a.return}throw Error(n(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(jr(f,""),h.flags&=-33);var g=ag(r);rd(r,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,S=ag(r);nd(r,S,E);break;default:throw Error(n(161))}}catch(k){tt(r,r.return,k)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Fw(r,s,a){ie=r,hg(r)}function hg(r,s,a){for(var h=(r.mode&1)!==0;ie!==null;){var f=ie,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||Tu;if(!E){var S=f.alternate,k=S!==null&&S.memoizedState!==null||jt;S=Tu;var j=jt;if(Tu=E,(jt=k)&&!j)for(ie=f;ie!==null;)E=ie,k=E.child,E.tag===22&&E.memoizedState!==null?pg(f):k!==null?(k.return=E,ie=k):pg(f);for(;g!==null;)ie=g,hg(g),g=g.sibling;ie=f,Tu=S,jt=j}dg(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ie=g):dg(r)}}function dg(r){for(;ie!==null;){var s=ie;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:jt||Iu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Un(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&um(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}um(s,E,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var j=s.alternate;if(j!==null){var K=j.memoizedState;if(K!==null){var X=K.dehydrated;X!==null&&Vn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jt||s.flags&512&&td(s)}catch(W){tt(s,s.return,W)}}if(s===r){ie=null;break}if(a=s.sibling,a!==null){a.return=s.return,ie=a;break}ie=s.return}}function fg(r){for(;ie!==null;){var s=ie;if(s===r){ie=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ie=a;break}ie=s.return}}function pg(r){for(;ie!==null;){var s=ie;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Iu(4,s)}catch(k){tt(s,a,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(k){tt(s,f,k)}}var g=s.return;try{td(s)}catch(k){tt(s,g,k)}break;case 5:var E=s.return;try{td(s)}catch(k){tt(s,E,k)}}}catch(k){tt(s,s.return,k)}if(s===r){ie=null;break}var S=s.sibling;if(S!==null){S.return=s.return,ie=S;break}ie=s.return}}var Uw=Math.ceil,Su=Te.ReactCurrentDispatcher,id=Te.ReactCurrentOwner,Rn=Te.ReactCurrentBatchConfig,Ve=0,Tt=null,lt=null,Pt=0,gn=0,uo=Jr(0),_t=0,Va=null,Zi=0,Au=0,sd=0,ba=null,rn=null,od=0,co=1/0,Rr=null,Ru=!1,ad=null,ii=null,Cu=!1,si=null,Pu=0,Ma=0,ld=null,ku=-1,xu=0;function Yt(){return(Ve&6)!==0?We():ku!==-1?ku:ku=We()}function oi(r){return(r.mode&1)===0?1:(Ve&2)!==0&&Pt!==0?Pt&-Pt:Tw.transition!==null?(xu===0&&(xu=Bi()),xu):(r=xe,r!==0||(r=window.event,r=r===void 0?16:ha(r.type)),r)}function zn(r,s,a,h){if(50<Ma)throw Ma=0,ld=null,Error(n(185));Hr(r,a,h),((Ve&2)===0||r!==Tt)&&(r===Tt&&((Ve&2)===0&&(Au|=a),_t===4&&ai(r,Pt)),sn(r,h),a===1&&Ve===0&&(s.mode&1)===0&&(co=We()+500,iu&&ei()))}function sn(r,s){var a=r.callbackNode;pr(r,s);var h=ji(r,r===Tt?Pt:0);if(h===0)a!==null&&oa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&oa(a),s===1)r.tag===0?ww(gg.bind(null,r)):em(gg.bind(null,r)),_w(function(){(Ve&6)===0&&ei()}),a=null;else{switch(qr(h)){case 1:a=Fi;break;case 4:a=Br;break;case 16:a=vn;break;case 536870912:a=xl;break;default:a=vn}a=Sg(a,mg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function mg(r,s){if(ku=-1,xu=0,(Ve&6)!==0)throw Error(n(327));var a=r.callbackNode;if(ho()&&r.callbackNode!==a)return null;var h=ji(r,r===Tt?Pt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Nu(r,h);else{s=h;var f=Ve;Ve|=2;var g=yg();(Tt!==r||Pt!==s)&&(Rr=null,co=We()+500,ts(r,s));do try{zw();break}catch(S){_g(r,S)}while(!0);Rh(),Su.current=g,Ve=f,lt!==null?s=0:(Tt=null,Pt=0,s=_t)}if(s!==0){if(s===2&&(f=hn(r),f!==0&&(h=f,s=ud(r,f))),s===1)throw a=Va,ts(r,0),ai(r,h),sn(r,We()),a;if(s===6)ai(r,h);else{if(f=r.current.alternate,(h&30)===0&&!jw(f)&&(s=Nu(r,h),s===2&&(g=hn(r),g!==0&&(h=g,s=ud(r,g))),s===1))throw a=Va,ts(r,0),ai(r,h),sn(r,We()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:ns(r,rn,Rr);break;case 3:if(ai(r,h),(h&130023424)===h&&(s=od+500-We(),10<s)){if(ji(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Yt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=mh(ns.bind(null,r,rn,Rr),s);break}ns(r,rn,Rr);break;case 4:if(ai(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-Kt(h);g=1<<E,E=s[E],E>f&&(f=E),h&=~g}if(h=f,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Uw(h/1960))-h,10<h){r.timeoutHandle=mh(ns.bind(null,r,rn,Rr),h);break}ns(r,rn,Rr);break;case 5:ns(r,rn,Rr);break;default:throw Error(n(329))}}}return sn(r,We()),r.callbackNode===a?mg.bind(null,r):null}function ud(r,s){var a=ba;return r.current.memoizedState.isDehydrated&&(ts(r,s).flags|=256),r=Nu(r,s),r!==2&&(s=rn,rn=a,s!==null&&cd(s)),r}function cd(r){rn===null?rn=r:rn.push.apply(rn,r)}function jw(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Mn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ai(r,s){for(s&=~sd,s&=~Au,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Kt(s),h=1<<a;r[a]=-1,s&=~h}}function gg(r){if((Ve&6)!==0)throw Error(n(327));ho();var s=ji(r,0);if((s&1)===0)return sn(r,We()),null;var a=Nu(r,s);if(r.tag!==0&&a===2){var h=hn(r);h!==0&&(s=h,a=ud(r,h))}if(a===1)throw a=Va,ts(r,0),ai(r,s),sn(r,We()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ns(r,rn,Rr),sn(r,We()),null}function hd(r,s){var a=Ve;Ve|=1;try{return r(s)}finally{Ve=a,Ve===0&&(co=We()+500,iu&&ei())}}function es(r){si!==null&&si.tag===0&&(Ve&6)===0&&ho();var s=Ve;Ve|=1;var a=Rn.transition,h=xe;try{if(Rn.transition=null,xe=1,r)return r()}finally{xe=h,Rn.transition=a,Ve=s,(Ve&6)===0&&ei()}}function dd(){gn=uo.current,Ge(uo)}function ts(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,gw(a)),lt!==null)for(a=lt.return;a!==null;){var h=a;switch(wh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&nu();break;case 3:oo(),Ge(en),Ge(Mt),bh();break;case 5:Lh(h);break;case 4:oo();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:Ch(h.type._context);break;case 22:case 23:dd()}a=a.return}if(Tt=r,lt=r=li(r.current,null),Pt=gn=s,_t=0,Va=null,sd=Au=Zi=0,rn=ba=null,Yi!==null){for(s=0;s<Yi.length;s++)if(a=Yi[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}a.pending=h}Yi=null}return r}function _g(r,s){do{var a=lt;try{if(Rh(),mu.current=vu,gu){for(var h=Ze.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}gu=!1}if(Ji=0,wt=gt=Ze=null,ka=!1,xa=0,id.current=null,a===null||a.return===null){_t=1,Va=s,lt=null;break}e:{var g=r,E=a.return,S=a,k=s;if(s=Pt,S.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var j=k,K=S,X=K.tag;if((K.mode&1)===0&&(X===0||X===11||X===15)){var W=K.alternate;W?(K.updateQueue=W.updateQueue,K.memoizedState=W.memoizedState,K.lanes=W.lanes):(K.updateQueue=null,K.memoizedState=null)}var re=zm(E);if(re!==null){re.flags&=-257,$m(re,E,S,g,s),re.mode&1&&Bm(g,j,s),s=re,k=j;var oe=s.updateQueue;if(oe===null){var ae=new Set;ae.add(k),s.updateQueue=ae}else oe.add(k);break e}else{if((s&1)===0){Bm(g,j,s),fd();break e}k=Error(n(426))}}else if(Xe&&S.mode&1){var st=zm(E);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),$m(st,E,S,g,s),Sh(ao(k,S));break e}}g=k=ao(k,S),_t!==4&&(_t=2),ba===null?ba=[g]:ba.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var F=Um(g,k,s);lm(g,F);break e;case 1:S=k;var N=g.type,U=g.stateNode;if((g.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ii===null||!ii.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var Z=jm(g,S,s);lm(g,Z);break e}}g=g.return}while(g!==null)}Eg(a)}catch(ue){s=ue,lt===a&&a!==null&&(lt=a=a.return);continue}break}while(!0)}function yg(){var r=Su.current;return Su.current=vu,r===null?vu:r}function fd(){(_t===0||_t===3||_t===2)&&(_t=4),Tt===null||(Zi&268435455)===0&&(Au&268435455)===0||ai(Tt,Pt)}function Nu(r,s){var a=Ve;Ve|=2;var h=yg();(Tt!==r||Pt!==s)&&(Rr=null,ts(r,s));do try{Bw();break}catch(f){_g(r,f)}while(!0);if(Rh(),Ve=a,Su.current=h,lt!==null)throw Error(n(261));return Tt=null,Pt=0,_t}function Bw(){for(;lt!==null;)vg(lt)}function zw(){for(;lt!==null&&!Pl();)vg(lt)}function vg(r){var s=Ig(r.alternate,r,gn);r.memoizedProps=r.pendingProps,s===null?Eg(r):lt=s,id.current=null}function Eg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=Lw(a,s,gn),a!==null){lt=a;return}}else{if(a=Vw(a,s),a!==null){a.flags&=32767,lt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,lt=null;return}}if(s=s.sibling,s!==null){lt=s;return}lt=s=r}while(s!==null);_t===0&&(_t=5)}function ns(r,s,a){var h=xe,f=Rn.transition;try{Rn.transition=null,xe=1,$w(r,s,a,h)}finally{Rn.transition=f,xe=h}return null}function $w(r,s,a,h){do ho();while(si!==null);if((Ve&6)!==0)throw Error(n(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(He(r,g),r===Tt&&(lt=Tt=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Cu||(Cu=!0,Sg(vn,function(){return ho(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Rn.transition,Rn.transition=null;var E=xe;xe=1;var S=Ve;Ve|=4,id.current=null,Mw(r,a),cg(a,r),uw(fh),Gr=!!dh,fh=dh=null,r.current=a,Fw(a),Yc(),Ve=S,xe=E,Rn.transition=g}else r.current=a;if(Cu&&(Cu=!1,si=r,Pu=f),g=r.pendingLanes,g===0&&(ii=null),Nl(a.stateNode),sn(r,We()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Ru)throw Ru=!1,r=ad,ad=null,r;return(Pu&1)!==0&&r.tag!==0&&ho(),g=r.pendingLanes,(g&1)!==0?r===ld?Ma++:(Ma=0,ld=r):Ma=0,ei(),null}function ho(){if(si!==null){var r=qr(Pu),s=Rn.transition,a=xe;try{if(Rn.transition=null,xe=16>r?16:r,si===null)var h=!1;else{if(r=si,si=null,Pu=0,(Ve&6)!==0)throw Error(n(331));var f=Ve;for(Ve|=4,ie=r.current;ie!==null;){var g=ie,E=g.child;if((ie.flags&16)!==0){var S=g.deletions;if(S!==null){for(var k=0;k<S.length;k++){var j=S[k];for(ie=j;ie!==null;){var K=ie;switch(K.tag){case 0:case 11:case 15:La(8,K,g)}var X=K.child;if(X!==null)X.return=K,ie=X;else for(;ie!==null;){K=ie;var W=K.sibling,re=K.return;if(sg(K),K===j){ie=null;break}if(W!==null){W.return=re,ie=W;break}ie=re}}}var oe=g.alternate;if(oe!==null){var ae=oe.child;if(ae!==null){oe.child=null;do{var st=ae.sibling;ae.sibling=null,ae=st}while(ae!==null)}}ie=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,ie=E;else e:for(;ie!==null;){if(g=ie,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:La(9,g,g.return)}var F=g.sibling;if(F!==null){F.return=g.return,ie=F;break e}ie=g.return}}var N=r.current;for(ie=N;ie!==null;){E=ie;var U=E.child;if((E.subtreeFlags&2064)!==0&&U!==null)U.return=E,ie=U;else e:for(E=N;ie!==null;){if(S=ie,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Iu(9,S)}}catch(ue){tt(S,S.return,ue)}if(S===E){ie=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,ie=Z;break e}ie=S.return}}if(Ve=f,ei(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ui,r)}catch{}h=!0}return h}finally{xe=a,Rn.transition=s}}return!1}function wg(r,s,a){s=ao(a,s),s=Um(r,s,1),r=ni(r,s,1),s=Yt(),r!==null&&(Hr(r,1,s),sn(r,s))}function tt(r,s,a){if(r.tag===3)wg(r,r,a);else for(;s!==null;){if(s.tag===3){wg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ii===null||!ii.has(h))){r=ao(a,r),r=jm(s,r,1),s=ni(s,r,1),r=Yt(),s!==null&&(Hr(s,1,r),sn(s,r));break}}s=s.return}}function Hw(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Yt(),r.pingedLanes|=r.suspendedLanes&a,Tt===r&&(Pt&a)===a&&(_t===4||_t===3&&(Pt&130023424)===Pt&&500>We()-od?ts(r,0):sd|=a),sn(r,s)}function Tg(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ls,Ls<<=1,(Ls&130023424)===0&&(Ls=4194304)));var a=Yt();r=Ir(r,s),r!==null&&(Hr(r,s,a),sn(r,a))}function Ww(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Tg(r,a)}function qw(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),Tg(r,a)}var Ig;Ig=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||en.current)nn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return nn=!1,Dw(r,s,a);nn=(r.flags&131072)!==0}else nn=!1,Xe&&(s.flags&1048576)!==0&&tm(s,ou,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;wu(r,s),r=s.pendingProps;var f=Zs(s,Mt.current);io(s,a),f=Uh(null,s,h,r,f,a);var g=jh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,tn(h)?(g=!0,ru(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,xh(s),f.updater=du,s.stateNode=f,f._reactInternals=s,Oh(s,h,r,a),s=Gh(null,s,h,!0,g,a)):(s.tag=0,Xe&&g&&Eh(s),Qt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(wu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=Gw(h),r=Un(h,r),f){case 0:s=Kh(null,s,h,r,a);break e;case 1:s=Qm(null,s,h,r,a);break e;case 11:s=Hm(null,s,h,r,a);break e;case 14:s=Wm(null,s,h,Un(h.type,r),a);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Un(h,f),Kh(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Un(h,f),Qm(r,s,h,f,a);case 3:e:{if(Ym(s),r===null)throw Error(n(387));h=s.pendingProps,g=s.memoizedState,f=g.element,am(r,s),hu(s,h,null,a);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=ao(Error(n(423)),s),s=Xm(r,s,h,a,f);break e}else if(h!==f){f=ao(Error(n(424)),s),s=Xm(r,s,h,a,f);break e}else for(mn=Xr(s.stateNode.containerInfo.firstChild),pn=s,Xe=!0,Fn=null,a=gm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(no(),h===f){s=Ar(r,s,a);break e}Qt(r,s,h,a)}s=s.child}return s;case 5:return _m(s),r===null&&Ih(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,ph(h,f)?E=null:g!==null&&ph(h,g)&&(s.flags|=32),Gm(r,s),Qt(r,s,E,a),s.child;case 6:return r===null&&Ih(s),null;case 13:return Jm(r,s,a);case 4:return Dh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=so(s,null,h,a):Qt(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Un(h,f),Hm(r,s,h,f,a);case 7:return Qt(r,s,s.pendingProps,a),s.child;case 8:return Qt(r,s,s.pendingProps.children,a),s.child;case 12:return Qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,qe(lu,h._currentValue),h._currentValue=E,g!==null)if(Mn(g.value,E)){if(g.children===f.children&&!en.current){s=Ar(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var S=g.dependencies;if(S!==null){E=g.child;for(var k=S.firstContext;k!==null;){if(k.context===h){if(g.tag===1){k=Sr(-1,a&-a),k.tag=2;var j=g.updateQueue;if(j!==null){j=j.shared;var K=j.pending;K===null?k.next=k:(k.next=K.next,K.next=k),j.pending=k}}g.lanes|=a,k=g.alternate,k!==null&&(k.lanes|=a),Ph(g.return,a,s),S.lanes|=a;break}k=k.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(n(341));E.lanes|=a,S=E.alternate,S!==null&&(S.lanes|=a),Ph(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Qt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,io(s,a),f=Sn(f),h=h(f),s.flags|=1,Qt(r,s,h,a),s.child;case 14:return h=s.type,f=Un(h,s.pendingProps),f=Un(h.type,f),Wm(r,s,h,f,a);case 15:return qm(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Un(h,f),wu(r,s),s.tag=1,tn(h)?(r=!0,ru(s)):r=!1,io(s,a),dm(s,h,f),Oh(s,h,f,a),Gh(null,s,h,!0,r,a);case 19:return eg(r,s,a);case 22:return Km(r,s,a)}throw Error(n(156,s.tag))};function Sg(r,s){return Os(r,s)}function Kw(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,a,h){return new Kw(r,s,a,h)}function pd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Gw(r){if(typeof r=="function")return pd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===Lt)return 14}return 2}function li(r,s){var a=r.alternate;return a===null?(a=Cn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ou(r,s,a,h,f,g){var E=2;if(h=r,typeof r=="function")pd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case D:return rs(a.children,f,g,s);case A:E=8,f|=8;break;case C:return r=Cn(12,a,s,f|2),r.elementType=C,r.lanes=g,r;case R:return r=Cn(13,a,s,f),r.elementType=R,r.lanes=g,r;case rt:return r=Cn(19,a,s,f),r.elementType=rt,r.lanes=g,r;case $e:return Du(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:E=10;break e;case L:E=9;break e;case b:E=11;break e;case Lt:E=14;break e;case Vt:E=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Cn(E,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function rs(r,s,a,h){return r=Cn(7,r,h,s),r.lanes=a,r}function Du(r,s,a,h){return r=Cn(22,r,h,s),r.elementType=$e,r.lanes=a,r.stateNode={isHidden:!1},r}function md(r,s,a){return r=Cn(6,r,null,s),r.lanes=a,r}function gd(r,s,a){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Qw(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$r(0),this.expirationTimes=$r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function _d(r,s,a,h,f,g,E,S,k){return r=new Qw(r,s,a,S,k),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Cn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(g),r}function Yw(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Ag(r){if(!r)return Zr;r=r._reactInternals;e:{if(xn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(tn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(tn(a))return Jp(r,a,s)}return s}function Rg(r,s,a,h,f,g,E,S,k){return r=_d(a,h,!0,r,f,g,E,S,k),r.context=Ag(null),a=r.current,h=Yt(),f=oi(a),g=Sr(h,f),g.callback=s??null,ni(a,g,f),r.current.lanes=f,Hr(r,f,h),sn(r,h),r}function Lu(r,s,a,h){var f=s.current,g=Yt(),E=oi(f);return a=Ag(a),s.context===null?s.context=a:s.pendingContext=a,s=Sr(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ni(f,s,E),r!==null&&(zn(r,f,E,g),cu(r,f,E)),E}function Vu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Cg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function yd(r,s){Cg(r,s),(r=r.alternate)&&Cg(r,s)}function Xw(){return null}var Pg=typeof reportError=="function"?reportError:function(r){console.error(r)};function vd(r){this._internalRoot=r}bu.prototype.render=vd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Lu(r,s,null,null)},bu.prototype.unmount=vd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;es(function(){Lu(null,r,null,null)}),s[vr]=null}};function bu(r){this._internalRoot=r}bu.prototype.unstable_scheduleHydration=function(r){if(r){var s=bl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<qn.length&&s!==0&&s<qn[a].priority;a++);qn.splice(a,0,r),a===0&&Ul(r)}};function Ed(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Mu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function kg(){}function Jw(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var j=Vu(E);g.call(j)}}var E=Rg(s,h,r,0,null,!1,!1,"",kg);return r._reactRootContainer=E,r[vr]=E.current,wa(r.nodeType===8?r.parentNode:r),es(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var S=h;h=function(){var j=Vu(k);S.call(j)}}var k=_d(r,0,!1,null,null,!1,!1,"",kg);return r._reactRootContainer=k,r[vr]=k.current,wa(r.nodeType===8?r.parentNode:r),es(function(){Lu(s,k,a,h)}),k}function Fu(r,s,a,h,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var S=f;f=function(){var k=Vu(E);S.call(k)}}Lu(s,E,r,f)}else E=Jw(a,s,r,f,h);return Vu(E)}Ll=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=zr(s.pendingLanes);a!==0&&(Wr(s,a|1),sn(s,We()),(Ve&6)===0&&(co=We()+500,ei()))}break;case 13:es(function(){var h=Ir(r,1);if(h!==null){var f=Yt();zn(h,r,1,f)}}),yd(r,1)}},Vs=function(r){if(r.tag===13){var s=Ir(r,134217728);if(s!==null){var a=Yt();zn(s,r,134217728,a)}yd(r,134217728)}},Vl=function(r){if(r.tag===13){var s=oi(r),a=Ir(r,s);if(a!==null){var h=Yt();zn(a,r,s,h)}yd(r,s)}},bl=function(){return xe},Ml=function(r,s){var a=xe;try{return xe=r,s()}finally{xe=a}},Rs=function(r,s,a){switch(s){case"input":if(qo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=tu(h);if(!f)throw Error(n(90));Es(h),qo(h,f)}}}break;case"textarea":Ss(r,a);break;case"select":s=a.value,s!=null&&hr(r,!!a.multiple,s,!1)}},Li=hd,na=es;var Zw={usingClientEntryPoint:!1,Events:[Sa,Xs,tu,Hn,ta,hd]},Fa={findFiberByHostInstance:qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eT={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sa(r),r===null?null:r.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||Xw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Ui=Uu.inject(eT),cn=Uu}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zw,on.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ed(s))throw Error(n(200));return Yw(r,s,null,a)},on.createRoot=function(r,s){if(!Ed(r))throw Error(n(299));var a=!1,h="",f=Pg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=_d(r,1,!1,null,null,a,!1,h,f),r[vr]=s.current,wa(r.nodeType===8?r.parentNode:r),new vd(s)},on.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=sa(s),r=r===null?null:r.stateNode,r},on.flushSync=function(r){return es(r)},on.hydrate=function(r,s,a){if(!Mu(s))throw Error(n(200));return Fu(null,r,s,!0,a)},on.hydrateRoot=function(r,s,a){if(!Ed(r))throw Error(n(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",E=Pg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Rg(s,null,r,1,a??null,f,!1,g,E),r[vr]=s.current,wa(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new bu(s)},on.render=function(r,s,a){if(!Mu(s))throw Error(n(200));return Fu(null,r,s,!1,a)},on.unmountComponentAtNode=function(r){if(!Mu(r))throw Error(n(40));return r._reactRootContainer?(es(function(){Fu(null,null,r,!1,function(){r._reactRootContainer=null,r[vr]=null})}),!0):!1},on.unstable_batchedUpdates=hd,on.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Mu(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Fu(r,s,a,!1,h)},on.version="18.2.0-next-9e3b772b8-20220608",on}var Mg;function Iy(){if(Mg)return Id.exports;Mg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Id.exports=uT(),Id.exports}var Fg;function cT(){if(Fg)return ju;Fg=1;var t=Iy();return ju.createRoot=t.createRoot,ju.hydrateRoot=t.hydrateRoot,ju}var hT=cT();const dT=Rc(hT);var Rd={exports:{}},Cd,Ug;function fT(){if(Ug)return Cd;Ug=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cd=t,Cd}var Pd,jg;function pT(){if(jg)return Pd;jg=1;var t=fT();function e(){}function n(){}return n.resetWarningCache=e,Pd=function(){function i(c,d,p,_,v,w){if(w!==t){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}i.isRequired=i;function o(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},Pd}var Bg;function mT(){return Bg||(Bg=1,Rd.exports=pT()()),Rd.exports}var gT=mT();const Qe=Rc(gT);var _T=Iy();const yT=Rc(_T);/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xa.apply(this,arguments)}var mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mi||(mi={}));const zg="popstate";function vT(t){t===void 0&&(t={});function e(i,o){let{pathname:l,search:c,hash:d}=i.location;return Hd("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Ay(o)}return wT(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ET(){return Math.random().toString(36).substr(2,8)}function $g(t,e){return{usr:t.state,key:t.key,idx:e}}function Hd(t,e,n,i){return n===void 0&&(n=null),Xa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mo(e):e,{state:n,key:e&&e.key||i||ET()})}function Ay(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function wT(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d=mi.Pop,p=null,_=v();_==null&&(_=0,c.replaceState(Xa({},c.state,{idx:_}),""));function v(){return(c.state||{idx:null}).idx}function w(){d=mi.Pop;let V=v(),ne=V==null?null:V-_;_=V,p&&p({action:d,location:$.location,delta:ne})}function I(V,ne){d=mi.Push;let J=Hd($.location,V,ne);_=v()+1;let de=$g(J,_),Te=$.createHref(J);try{c.pushState(de,"",Te)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(Te)}l&&p&&p({action:d,location:$.location,delta:1})}function O(V,ne){d=mi.Replace;let J=Hd($.location,V,ne);_=v();let de=$g(J,_),Te=$.createHref(J);c.replaceState(de,"",Te),l&&p&&p({action:d,location:$.location,delta:0})}function B(V){let ne=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof V=="string"?V:Ay(V);return J=J.replace(/ $/,"%20"),ht(ne,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,ne)}let $={get action(){return d},get location(){return t(o,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(zg,w),p=V,()=>{o.removeEventListener(zg,w),p=null}},createHref(V){return e(o,V)},createURL:B,encodeLocation(V){let ne=B(V);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:I,replace:O,go(V){return c.go(V)}};return $}var Hg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hg||(Hg={}));function TT(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Mo(e):e,o=Py(i.pathname||"/",n);if(o==null)return null;let l=Ry(t);IT(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=VT(o);c=OT(l[d],p)}return c}function Ry(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(ht(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let _=os([i,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(ht(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),Ry(l.children,e,v,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:xT(_,l.index),routesMeta:v})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of Cy(l.path))o(l,c,p)}),e}function Cy(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=Cy(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function IT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const ST=/^:[\w-]+$/,AT=3,RT=2,CT=1,PT=10,kT=-2,Wg=t=>t==="*";function xT(t,e){let n=t.split("/"),i=n.length;return n.some(Wg)&&(i+=kT),e&&(i+=RT),n.filter(o=>!Wg(o)).reduce((o,l)=>o+(ST.test(l)?AT:l===""?CT:PT),i)}function NT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function OT(t,e){let{routesMeta:n}=t,i={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],p=c===n.length-1,_=o==="/"?e:e.slice(o.length)||"/",v=DT({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_);if(!v)return null;Object.assign(i,v.params);let w=d.route;l.push({params:i,pathname:os([o,v.pathname]),pathnameBase:UT(os([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=os([o,v.pathnameBase]))}return l}function DT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=LT(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((_,v,w)=>{let{paramName:I,isOptional:O}=v;if(I==="*"){let $=d[w]||"";c=l.slice(0,l.length-$.length).replace(/(.)\/+$/,"$1")}const B=d[w];return O&&!B?_[I]=void 0:_[I]=(B||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:c,pattern:t}}function LT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Sy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function VT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Py(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function bT(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Mo(t):t;return{pathname:n?n.startsWith("/")?n:MT(n,e):e,search:jT(i),hash:BT(o)}}function MT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function kd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ky(t,e){let n=FT(t);return e?n.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function xy(t,e,n,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=Mo(t):(o=Xa({},t),ht(!o.pathname||!o.pathname.includes("?"),kd("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),kd("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),kd("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let w=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}d=w>=0?e[w]:"/"}let p=bT(o,d),_=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||v)&&(p.pathname+="/"),p}const os=t=>t.join("/").replace(/\/\/+/g,"/"),UT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ny=["post","put","patch","delete"];new Set(Ny);const $T=["get",...Ny];new Set($T);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ja.apply(this,arguments)}const Sf=Q.createContext(null),HT=Q.createContext(null),hl=Q.createContext(null),Cc=Q.createContext(null),ms=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),Oy=Q.createContext(null);function dl(){return Q.useContext(Cc)!=null}function Pc(){return dl()||ht(!1),Q.useContext(Cc).location}function Dy(t){Q.useContext(hl).static||Q.useLayoutEffect(t)}function Ly(){let{isDataRoute:t}=Q.useContext(ms);return t?rI():WT()}function WT(){dl()||ht(!1);let t=Q.useContext(Sf),{basename:e,future:n,navigator:i}=Q.useContext(hl),{matches:o}=Q.useContext(ms),{pathname:l}=Pc(),c=JSON.stringify(ky(o,n.v7_relativeSplatPath)),d=Q.useRef(!1);return Dy(()=>{d.current=!0}),Q.useCallback(function(_,v){if(v===void 0&&(v={}),!d.current)return;if(typeof _=="number"){i.go(_);return}let w=xy(_,JSON.parse(c),l,v.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:os([e,w.pathname])),(v.replace?i.replace:i.push)(w,v.state,v)},[e,i,c,l,t])}function qT(t,e){return KT(t,e)}function KT(t,e,n,i){dl()||ht(!1);let{navigator:o}=Q.useContext(hl),{matches:l}=Q.useContext(ms),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let _=Pc(),v;if(e){var w;let V=typeof e=="string"?Mo(e):e;p==="/"||(w=V.pathname)!=null&&w.startsWith(p)||ht(!1),v=V}else v=_;let I=v.pathname||"/",O=I;if(p!=="/"){let V=p.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(V.length).join("/")}let B=TT(t,{pathname:O}),$=JT(B&&B.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:os([p,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:os([p,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,n,i);return e&&$?Q.createElement(Cc.Provider,{value:{location:Ja({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:mi.Pop}},$):$}function GT(){let t=nI(),e=zT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,null)}const QT=Q.createElement(GT,null);class YT extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(ms.Provider,{value:this.props.routeContext},Q.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XT(t){let{routeContext:e,match:n,children:i}=t,o=Q.useContext(Sf);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(ms.Provider,{value:e},i)}function JT(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var l;if((l=n)!=null&&l.errors)t=n.matches;else return null}let c=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let v=c.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);v>=0||ht(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,_=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let w=c[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(_=v),w.route.id){let{loaderData:I,errors:O}=n,B=w.route.loader&&I[w.route.id]===void 0&&(!O||O[w.route.id]===void 0);if(w.route.lazy||B){p=!0,_>=0?c=c.slice(0,_+1):c=[c[0]];break}}}return c.reduceRight((v,w,I)=>{let O,B=!1,$=null,V=null;n&&(O=d&&w.route.id?d[w.route.id]:void 0,$=w.route.errorElement||QT,p&&(_<0&&I===0?(iI("route-fallback"),B=!0,V=null):_===I&&(B=!0,V=w.route.hydrateFallbackElement||null)));let ne=e.concat(c.slice(0,I+1)),J=()=>{let de;return O?de=$:B?de=V:w.route.Component?de=Q.createElement(w.route.Component,null):w.route.element?de=w.route.element:de=v,Q.createElement(XT,{match:w,routeContext:{outlet:v,matches:ne,isDataRoute:n!=null},children:de})};return n&&(w.route.ErrorBoundary||w.route.errorElement||I===0)?Q.createElement(YT,{location:n.location,revalidation:n.revalidation,component:$,error:O,children:J(),routeContext:{outlet:null,matches:ne,isDataRoute:!0}}):J()},null)}var Vy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vy||{}),by=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(by||{});function ZT(t){let e=Q.useContext(Sf);return e||ht(!1),e}function eI(t){let e=Q.useContext(HT);return e||ht(!1),e}function tI(t){let e=Q.useContext(ms);return e||ht(!1),e}function My(t){let e=tI(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function nI(){var t;let e=Q.useContext(Oy),n=eI(),i=My();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function rI(){let{router:t}=ZT(Vy.UseNavigateStable),e=My(by.UseNavigateStable),n=Q.useRef(!1);return Dy(()=>{n.current=!0}),Q.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Ja({fromRouteId:e},l)))},[t,e])}const qg={};function iI(t,e,n){qg[t]||(qg[t]=!0)}function sI(t){let{to:e,replace:n,state:i,relative:o}=t;dl()||ht(!1);let{future:l,static:c}=Q.useContext(hl),{matches:d}=Q.useContext(ms),{pathname:p}=Pc(),_=Ly(),v=xy(e,ky(d,l.v7_relativeSplatPath),p,o==="path"),w=JSON.stringify(v);return Q.useEffect(()=>_(JSON.parse(w),{replace:n,state:i,relative:o}),[_,w,o,n,i]),null}function Wd(t){ht(!1)}function oI(t){let{basename:e="/",children:n=null,location:i,navigationType:o=mi.Pop,navigator:l,static:c=!1,future:d}=t;dl()&&ht(!1);let p=e.replace(/^\/*/,"/"),_=Q.useMemo(()=>({basename:p,navigator:l,static:c,future:Ja({v7_relativeSplatPath:!1},d)}),[p,d,l,c]);typeof i=="string"&&(i=Mo(i));let{pathname:v="/",search:w="",hash:I="",state:O=null,key:B="default"}=i,$=Q.useMemo(()=>{let V=Py(v,p);return V==null?null:{location:{pathname:V,search:w,hash:I,state:O,key:B},navigationType:o}},[p,v,w,I,O,B,o]);return $==null?null:Q.createElement(hl.Provider,{value:_},Q.createElement(Cc.Provider,{children:n,value:$}))}function aI(t){let{children:e,location:n}=t;return qT(qd(e),n)}new Promise(()=>{});function qd(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(i,o)=>{if(!Q.isValidElement(i))return;let l=[...e,o];if(i.type===Q.Fragment){n.push.apply(n,qd(i.props.children,l));return}i.type!==Wd&&ht(!1),!i.props.index||!i.props.children||ht(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=qd(i.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const lI="6";try{window.__reactRouterVersion=lI}catch{}const uI="startTransition",Kg=oT[uI];function cI(t){let{basename:e,children:n,future:i,window:o}=t,l=Q.useRef();l.current==null&&(l.current=vT({window:o,v5Compat:!0}));let c=l.current,[d,p]=Q.useState({action:c.action,location:c.location}),{v7_startTransition:_}=i||{},v=Q.useCallback(w=>{_&&Kg?Kg(()=>p(w)):p(w)},[p,_]);return Q.useLayoutEffect(()=>c.listen(v),[c,v]),Q.createElement(oI,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:i})}var Gg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gg||(Gg={}));var Qg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qg||(Qg={}));var Yg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},hI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],d=t[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Uy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,d=c?t[o+1]:0,p=o+2<t.length,_=p?t[o+2]:0,v=l>>2,w=(l&3)<<4|d>>4;let I=(d&15)<<2|_>>6,O=_&63;p||(O=64,c||(I=64)),i.push(n[v],n[w],n[I],n[O])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const _=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||_==null||w==null)throw new dI;const I=l<<2|d>>4;if(i.push(I),_!==64){const O=d<<4&240|_>>2;if(i.push(O),w!==64){const B=_<<6&192|w;i.push(B)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fI=function(t){const e=Fy(t);return Uy.encodeByteArray(e,!0)},nc=function(t){return fI(t).replace(/\./g,"")},jy=function(t){try{return Uy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=()=>pI().__FIREBASE_DEFAULTS__,gI=()=>{if(typeof process>"u"||typeof Yg>"u")return;const t=Yg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jy(t[1]);return e&&JSON.parse(e)},kc=()=>{try{return mI()||gI()||_I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},By=t=>{var e,n;return(n=(e=kc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yI=t=>{const e=By(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},zy=()=>{var t;return(t=kc())===null||t===void 0?void 0:t.config},$y=t=>{var e;return(e=kc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nc(JSON.stringify(n)),nc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function TI(){var t;const e=(t=kc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function II(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RI(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CI(){return!TI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PI(){try{return typeof indexedDB=="object"}catch{return!1}}function kI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="FirebaseError";class Fr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xI,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?NI(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Fr(o,d,i)}}function NI(t,e){return t.replace(OI,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const OI=/\{\$([^}]+)}/g;function DI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],c=e[o];if(Xg(l)&&Xg(c)){if(!rc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Xg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function LI(t,e){const n=new VI(t,e);return n.subscribe.bind(n)}class VI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=xd),o.error===void 0&&(o.error=xd),o.complete===void 0&&(o.complete=xd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class us{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new vI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UI(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:FI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FI(t){return t===is?void 0:t}function UI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const BI={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},zI=Ne.INFO,$I={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},HI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=$I[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Af{constructor(e){this.name=e,this._logLevel=zI,this._logHandler=HI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const WI=(t,e)=>e.some(n=>t instanceof n);let Jg,Zg;function qI(){return Jg||(Jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KI(){return Zg||(Zg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hy=new WeakMap,Kd=new WeakMap,Wy=new WeakMap,Nd=new WeakMap,Rf=new WeakMap;function GI(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(_i(t.result)),o()},c=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Hy.set(n,t)}).catch(()=>{}),Rf.set(e,t),e}function QI(t){if(Kd.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Kd.set(t,e)}let Gd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YI(t){Gd=t(Gd)}function XI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Od(this),e,...n);return Wy.set(i,e.sort?e.sort():[e]),_i(i)}:KI().includes(t)?function(...e){return t.apply(Od(this),e),_i(Hy.get(this))}:function(...e){return _i(t.apply(Od(this),e))}}function JI(t){return typeof t=="function"?XI(t):(t instanceof IDBTransaction&&QI(t),WI(t,qI())?new Proxy(t,Gd):t)}function _i(t){if(t instanceof IDBRequest)return GI(t);if(Nd.has(t))return Nd.get(t);const e=JI(t);return e!==t&&(Nd.set(t,e),Rf.set(e,t)),e}const Od=t=>Rf.get(t);function ZI(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),d=_i(c);return i&&c.addEventListener("upgradeneeded",p=>{i(_i(c.result),p.oldVersion,p.newVersion,_i(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const eS=["get","getKey","getAll","getAllKeys","count"],tS=["put","add","delete","clear"],Dd=new Map;function e_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dd.get(e))return Dd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=tS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||eS.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(d.shift())),(await Promise.all([_[n](...d),o&&p.done]))[0]};return Dd.set(e,l),l}YI(t=>({...t,get:(e,n,i)=>e_(e,n)||t.get(e,n,i),has:(e,n)=>!!e_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function rS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qd="@firebase/app",t_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Af("@firebase/app"),iS="@firebase/app-compat",sS="@firebase/analytics-compat",oS="@firebase/analytics",aS="@firebase/app-check-compat",lS="@firebase/app-check",uS="@firebase/auth",cS="@firebase/auth-compat",hS="@firebase/database",dS="@firebase/data-connect",fS="@firebase/database-compat",pS="@firebase/functions",mS="@firebase/functions-compat",gS="@firebase/installations",_S="@firebase/installations-compat",yS="@firebase/messaging",vS="@firebase/messaging-compat",ES="@firebase/performance",wS="@firebase/performance-compat",TS="@firebase/remote-config",IS="@firebase/remote-config-compat",SS="@firebase/storage",AS="@firebase/storage-compat",RS="@firebase/firestore",CS="@firebase/vertexai-preview",PS="@firebase/firestore-compat",kS="firebase",xS="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="[DEFAULT]",NS={[Qd]:"fire-core",[iS]:"fire-core-compat",[oS]:"fire-analytics",[sS]:"fire-analytics-compat",[lS]:"fire-app-check",[aS]:"fire-app-check-compat",[uS]:"fire-auth",[cS]:"fire-auth-compat",[hS]:"fire-rtdb",[dS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[pS]:"fire-fn",[mS]:"fire-fn-compat",[gS]:"fire-iid",[_S]:"fire-iid-compat",[yS]:"fire-fcm",[vS]:"fire-fcm-compat",[ES]:"fire-perf",[wS]:"fire-perf-compat",[TS]:"fire-rc",[IS]:"fire-rc-compat",[SS]:"fire-gcs",[AS]:"fire-gcs-compat",[RS]:"fire-fst",[PS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[kS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,OS=new Map,Xd=new Map;function n_(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ao(t){const e=t.name;if(Xd.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Xd.set(e,t);for(const n of ic.values())n_(n,t);for(const n of OS.values())n_(n,t);return!0}function Cf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new fl("app","Firebase",DS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=xS;function qy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw yi.create("bad-app-name",{appName:String(o)});if(n||(n=zy()),!n)throw yi.create("no-options");const l=ic.get(o);if(l){if(rc(n,l.options)&&rc(i,l.config))return l;throw yi.create("duplicate-app",{appName:o})}const c=new jI(o);for(const p of Xd.values())c.addComponent(p);const d=new LS(n,i,c);return ic.set(o,d),d}function Ky(t=Yd){const e=ic.get(t);if(!e&&t===Yd&&zy())return qy();if(!e)throw yi.create("no-app",{appName:t});return e}function vi(t,e,n){var i;let o=(i=NS[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(d.join(" "));return}Ao(new us(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firebase-heartbeat-database",bS=1,Za="firebase-heartbeat-store";let Ld=null;function Gy(){return Ld||(Ld=ZI(VS,bS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Za)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),Ld}async function MS(t){try{const n=(await Gy()).transaction(Za),i=await n.objectStore(Za).get(Qy(t));return await n.done,i}catch(e){if(e instanceof Fr)Or.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(n.message)}}}async function r_(t,e){try{const i=(await Gy()).transaction(Za,"readwrite");await i.objectStore(Za).put(e,Qy(t)),await i.done}catch(n){if(n instanceof Fr)Or.warn(n.message);else{const i=yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(i.message)}}}function Qy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=1024,US=30*24*60*60*1e3;class jS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zS(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=i_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=US}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Or.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:i,unsentEntries:o}=BS(this._heartbeatsCache.heartbeats),l=nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Or.warn(n),""}}}function i_(){return new Date().toISOString().substring(0,10)}function BS(t,e=FS){const n=[];let i=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),s_(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),s_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PI()?kI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function s_(t){return nc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){Ao(new us("platform-logger",e=>new nS(e),"PRIVATE")),Ao(new us("heartbeat",e=>new jS(e),"PRIVATE")),vi(Qd,t_,t),vi(Qd,t_,"esm2017"),vi("fire-js","")}$S("");function Pf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Yy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HS=Yy,Xy=new fl("auth","Firebase",Yy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Af("@firebase/auth");function WS(t,...e){sc.logLevel<=Ne.WARN&&sc.warn(`Auth (${Fo}): ${t}`,...e)}function qu(t,...e){sc.logLevel<=Ne.ERROR&&sc.error(`Auth (${Fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw kf(t,...e)}function er(t,...e){return kf(t,...e)}function Jy(t,e,n){const i=Object.assign(Object.assign({},HS()),{[e]:n});return new fl("auth","Firebase",i).create(e,{appName:t.name})}function Ei(t){return Jy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kf(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Xy.create(t,...e)}function Ee(t,e,...n){if(!t)throw kf(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qu(e),new Error(e)}function Lr(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qS(){return o_()==="http:"||o_()==="https:"}function o_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qS()||SI()||"connection"in navigator)?navigator.onLine:!0}function GS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=wI()||AI()}get(){return KS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new ml(3e4,6e4);function xc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gs(t,e,n,i,o={}){return ev(t,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=pl(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const _=Object.assign({method:e,headers:p},l);return II()||(_.referrerPolicy="no-referrer"),Zy.fetch()(nv(t,t.config.apiHost,n,d),_)})}async function ev(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},QS),e);try{const o=new XS(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Bu(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,_]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Bu(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Bu(t,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Jy(t,v,_);Dr(t,v)}}catch(o){if(o instanceof Fr)throw o;Dr(t,"network-request-failed",{message:String(o)})}}async function tv(t,e,n,i,o={}){const l=await gs(t,e,n,i,o);return"mfaPendingCredential"in l&&Dr(t,"multi-factor-auth-required",{_serverResponse:l}),l}function nv(t,e,n,i){const o=`${e}${n}?${i}`;return t.config.emulator?xf(t.config,o):`${t.config.apiScheme}://${o}`}class XS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(er(this.auth,"network-request-failed")),YS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=er(t,e,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function rv(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZS(t,e=!1){const n=Wt(t),i=await n.getIdToken(e),o=Nf(i);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:qa(Vd(o.auth_time)),issuedAtTime:qa(Vd(o.iat)),expirationTime:qa(Vd(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Vd(t){return Number(t)*1e3}function Nf(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return qu("JWT malformed, contained fewer than 3 sections"),null;try{const o=jy(n);return o?JSON.parse(o):(qu("Failed to decode base64 JWT payload"),null)}catch(o){return qu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function a_(t){const e=Nf(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Fr&&eA(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function eA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){var e;const n=t.auth,i=await t.getIdToken(),o=await Ro(t,rv(n,{idToken:i}));Ee(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?iv(l.providerUserInfo):[],d=rA(t.providerData,c),p=t.isAnonymous,_=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?_:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,w)}async function nA(t){const e=Wt(t);await oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rA(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function iv(t){return t.map(e=>{var{providerId:n}=e,i=Pf(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(t,e){const n=await ev(t,{},async()=>{const i=pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,c=nv(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Zy.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sA(t,e){return gs(t,"POST","/v2/accounts:revokeToken",xc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=a_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:l}=await iA(e,n);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:l}=n,c=new wo;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,l=Pf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ro(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZS(this,e)}reload(){return nA(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await oc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await Ro(this,JS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,l,c,d,p,_,v;const w=(i=n.displayName)!==null&&i!==void 0?i:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,O=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,B=(c=n.photoURL)!==null&&c!==void 0?c:void 0,$=(d=n.tenantId)!==null&&d!==void 0?d:void 0,V=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ne=(_=n.createdAt)!==null&&_!==void 0?_:void 0,J=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:de,emailVerified:Te,isAnonymous:Ce,providerData:Ae,stsTokenManager:D}=n;Ee(de&&D,e,"internal-error");const A=wo.fromJSON(this.name,D);Ee(typeof de=="string",e,"internal-error"),ci(w,e.name),ci(I,e.name),Ee(typeof Te=="boolean",e,"internal-error"),Ee(typeof Ce=="boolean",e,"internal-error"),ci(O,e.name),ci(B,e.name),ci($,e.name),ci(V,e.name),ci(ne,e.name),ci(J,e.name);const C=new kr({uid:de,auth:e,email:I,emailVerified:Te,displayName:w,isAnonymous:Ce,photoURL:B,phoneNumber:O,tenantId:$,stsTokenManager:A,createdAt:ne,lastLoginAt:J});return Ae&&Array.isArray(Ae)&&(C.providerData=Ae.map(x=>Object.assign({},x))),V&&(C._redirectEventId=V),C}static async _fromIdTokenResponse(e,n,i=!1){const o=new wo;o.updateFromServerResponse(n);const l=new kr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await oc(l),l}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?iv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new wo;d.updateFromIdToken(i);const p=new kr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;function xr(t){Lr(t instanceof Function,"Expected a class definition");let e=l_.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sv.type="NONE";const u_=sv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e,n){return`firebase:${t}:${e}:${n}`}class To{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Ku(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ku("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new To(xr(u_),e,i);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||xr(u_);const c=Ku(i,e.config.apiKey,e.name);let d=null;for(const _ of n)try{const v=await _._get(c);if(v){const w=kr._fromJSON(e,v);_!==l&&(d=w),l=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new To(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async _=>{if(_!==l)try{await _._remove(c)}catch{}})),new To(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ov(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hv(e))return"Blackberry";if(dv(e))return"Webos";if(av(e))return"Safari";if((e.includes("chrome/")||lv(e))&&!e.includes("edge/"))return"Chrome";if(cv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ov(t=Ht()){return/firefox\//i.test(t)}function av(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lv(t=Ht()){return/crios\//i.test(t)}function uv(t=Ht()){return/iemobile/i.test(t)}function cv(t=Ht()){return/android/i.test(t)}function hv(t=Ht()){return/blackberry/i.test(t)}function dv(t=Ht()){return/webos/i.test(t)}function Of(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oA(t=Ht()){var e;return Of(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aA(){return RI()&&document.documentMode===10}function fv(t=Ht()){return Of(t)||cv(t)||dv(t)||hv(t)||/windows phone/i.test(t)||uv(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e=[]){let n;switch(t){case"Browser":n=c_(Ht());break;case"Worker":n=`${c_(Ht())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(t,e={}){return gs(t,"GET","/v2/passwordPolicy",xc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=6;class hA{constructor(e){var n,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:cA,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new lA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rv(this,{idToken:e}),i=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(Ei(this));const n=e?Wt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uA(this),n=new hA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await sA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Nc(t){return Wt(t)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=LI(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fA(t){Df=t}function pA(t){return Df.loadJS(t)}function mA(){return Df.gapiScript}function gA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e){const n=Cf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(rc(l,e??{}))return o;Dr(o,"already-initialized")}return n.initialize({options:e})}function yA(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function vA(t,e,n){const i=Nc(t);Ee(i._canInitEmulator,i,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=mv(e),{host:c,port:d}=EA(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),wA()}function mv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EA(t){const e=mv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:d_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:d_(c)}}}function d_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e){return tv(t,"POST","/v1/accounts:signInWithIdp",xc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="http://localhost";class cs extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,l=Pf(n,["providerId","signInMethod"]);if(!i||!o)return null;const c=new cs(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Io(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:TA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends _v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends gl{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cs._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return di.credential(n,i)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends gl{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends gl{constructor(){super("twitter.com")}static credential(e,n){return cs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return pi.credential(n,i)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t,e){return tv(t,"POST","/v1/accounts:signUp",xc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const l=await kr._fromIdTokenResponse(e,i,o),c=f_(i);return new Si({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=f_(i);return new Si({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function f_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t){var e;if(Cr(t.app))return Promise.reject(Ei(t));const n=Nc(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Si({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await IA(n,{returnSecureToken:!0}),o=await Si._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Fr{constructor(e,n,i,o){var l;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ac.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new ac(e,n,i,o)}}function yv(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ac._fromErrorAndOperation(t,l,e,i):l})}async function AA(t,e,n=!1){const i=await Ro(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Si._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e,n=!1){const{auth:i}=t;if(Cr(i.app))return Promise.reject(Ei(i));const o="reauthenticate";try{const l=await Ro(t,yv(i,o,e,t),n);Ee(l.idToken,i,"internal-error");const c=Nf(l.idToken);Ee(c,i,"internal-error");const{sub:d}=c;return Ee(t.uid===d,i,"user-mismatch"),Si._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Dr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(t,e,n=!1){if(Cr(t.app))return Promise.reject(Ei(t));const i="signIn",o=await yv(t,i,e),l=await Si._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e){return gs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Wt(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Ro(i,PA(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function xA(t,e,n,i){return Wt(t).onIdTokenChanged(e,n,i)}function NA(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function vv(t,e,n,i){return Wt(t).onAuthStateChanged(e,n,i)}const lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lc,"1"),this.storage.removeItem(lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=1e3,DA=10;class wv extends Ev{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);aA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DA):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wv.type="LOCAL";const LA=wv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends Ev{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tv.type="SESSION";const Iv=Tv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Oc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async _=>_(n.origin,l)),p=await VA(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const _=Lf("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function MA(t){tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function FA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jA(){return Sv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="firebaseLocalStorageDb",BA=1,uc="firebaseLocalStorage",Rv="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dc(t,e){return t.transaction([uc],e?"readwrite":"readonly").objectStore(uc)}function zA(){const t=indexedDB.deleteDatabase(Av);return new _l(t).toPromise()}function ef(){const t=indexedDB.open(Av,BA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(uc,{keyPath:Rv})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(uc)?e(i):(i.close(),await zA(),e(await ef()))})})}async function p_(t,e,n){const i=Dc(t,!0).put({[Rv]:e,value:n});return new _l(i).toPromise()}async function $A(t,e){const n=Dc(t,!1).get(e),i=await new _l(n).toPromise();return i===void 0?null:i.value}function m_(t,e){const n=Dc(t,!0).delete(e);return new _l(n).toPromise()}const HA=800,WA=3;class Cv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ef(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>WA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oc._getInstance(jA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FA(),!this.activeServiceWorker)return;this.sender=new bA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ef();return await p_(e,lc,"1"),await m_(e,lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>p_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$A(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Dc(o,!1).getAll();return new _l(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cv.type="LOCAL";const qA=Cv;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e){return e?xr(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GA(t){return CA(t.auth,new Vf(t),t.bypassAuthState)}function QA(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),RA(n,new Vf(t),t.bypassAuthState)}async function YA(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),AA(n,new Vf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GA;case"linkViaPopup":case"linkViaRedirect":return YA;case"reauthViaPopup":case"reauthViaRedirect":return QA;default:Dr(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new ml(2e3,1e4);class yo extends Pv{constructor(e,n,i,o,l){super(e,n,o,l),this.provider=i,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Lf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XA.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="pendingRedirect",Gu=new Map;class ZA extends Pv{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Gu.get(this.auth._key());if(!e){try{const i=await e1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e1(t,e){const n=r1(e),i=n1(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function t1(t,e){Gu.set(t._key(),e)}function n1(t){return xr(t._redirectPersistence)}function r1(t){return Ku(JA,t.config.apiKey,t.name)}async function i1(t,e,n=!1){if(Cr(t.app))return Promise.reject(Ei(t));const i=Nc(t),o=KA(i,e),c=await new ZA(i,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=10*60*1e3;class o1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!kv(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(er(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s1&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(e))}saveEventToCache(e){this.cachedEventUids.add(g_(e)),this.lastProcessedEventTime=Date.now()}}function g_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c1=/^https?/;async function h1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l1(t);for(const n of e)try{if(d1(n))return}catch{}Dr(t,"unauthorized-domain")}function d1(t){const e=Jd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!c1.test(n))return!1;if(u1.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new ml(3e4,6e4);function __(){const t=tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p1(t){return new Promise((e,n)=>{var i,o,l;function c(){__(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{__(),n(er(t,"network-request-failed"))},timeout:f1.get()})}if(!((o=(i=tr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=tr().gapi)===null||l===void 0)&&l.load)c();else{const d=gA("iframefcb");return tr()[d]=()=>{gapi.load?c():n(er(t,"network-request-failed"))},pA(`${mA()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw Qu=null,e})}let Qu=null;function m1(t){return Qu=Qu||p1(t),Qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new ml(5e3,15e3),_1="__/auth/iframe",y1="emulator/auth/iframe",v1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w1(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xf(e,y1):`https://${t.config.authDomain}/${_1}`,i={apiKey:e.apiKey,appName:t.name,v:Fo},o=E1.get(t.config.apiHost);o&&(i.eid=o);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${pl(i).slice(1)}`}async function T1(t){const e=await m1(t),n=tr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:w1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v1,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=er(t,"network-request-failed"),d=tr().setTimeout(()=>{l(c)},g1.get());function p(){tr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S1=500,A1=600,R1="_blank",C1="http://localhost";class y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P1(t,e,n,i=S1,o=A1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},I1),{width:i.toString(),height:o.toString(),top:l,left:c}),_=Ht().toLowerCase();n&&(d=lv(_)?R1:n),ov(_)&&(e=e||C1,p.scrollbars="yes");const v=Object.entries(p).reduce((I,[O,B])=>`${I}${O}=${B},`,"");if(oA(_)&&d!=="_self")return k1(e||"",d),new y_(null);const w=window.open(e||"",d,v);Ee(w,t,"popup-blocked");try{w.focus()}catch{}return new y_(w)}function k1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="__/auth/handler",N1="emulator/auth/handler",O1=encodeURIComponent("fac");async function v_(t,e,n,i,o,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Fo,eventId:o};if(e instanceof _v){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",DI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))c[v]=w}if(e instanceof gl){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await t._getAppCheckToken(),_=p?`#${O1}=${encodeURIComponent(p)}`:"";return`${D1(t)}?${pl(d).slice(1)}${_}`}function D1({config:t}){return t.emulator?xf(t,N1):`https://${t.authDomain}/${x1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class L1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iv,this._completeRedirectFn=i1,this._overrideRedirectResult=t1}async _openPopup(e,n,i,o){var l;Lr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await v_(e,n,i,Jd(),o);return P1(e,c,Lf())}async _openRedirect(e,n,i,o){await this._originValidation(e);const l=await v_(e,n,i,Jd(),o);return MA(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Lr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await T1(e),i=new o1(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bd,{type:bd},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[bd];c!==void 0&&n(!!c),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fv()||av()||Of()}}const V1=L1;var E_="@firebase/auth",w_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F1(t){Ao(new us("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pv(t)},_=new dA(i,o,l,p);return yA(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ao(new us("auth-internal",e=>{const n=Nc(e.getProvider("auth").getImmediate());return(i=>new b1(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(E_,w_,M1(t)),vi(E_,w_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=5*60,j1=$y("authIdTokenMaxAge")||U1;let T_=null;const B1=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>j1)return;const o=n==null?void 0:n.token;T_!==o&&(T_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function z1(t=Ky()){const e=Cf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_A(t,{popupRedirectResolver:V1,persistence:[qA,LA,Iv]}),i=$y("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=B1(l.toString());NA(n,c,()=>c(n.currentUser)),xA(n,d=>c(d))}}const o=By("auth");return o&&vA(n,`http://${o}`),n}function $1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fA({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const l=er("internal-error");l.customData=o,n(l)},i.type="text/javascript",i.charset="UTF-8",$1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F1("Browser");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,xv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function C(){}C.prototype=A.prototype,D.D=A.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(x,L,b){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return A.prototype[L].apply(x,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,C){C||(C=0);var x=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)x[L]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(L=0;16>L;++L)x[L]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=D.g[0],C=D.g[1],L=D.g[2];var b=D.g[3],R=A+(b^C&(L^b))+x[0]+3614090360&4294967295;A=C+(R<<7&4294967295|R>>>25),R=b+(L^A&(C^L))+x[1]+3905402710&4294967295,b=A+(R<<12&4294967295|R>>>20),R=L+(C^b&(A^C))+x[2]+606105819&4294967295,L=b+(R<<17&4294967295|R>>>15),R=C+(A^L&(b^A))+x[3]+3250441966&4294967295,C=L+(R<<22&4294967295|R>>>10),R=A+(b^C&(L^b))+x[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=b+(L^A&(C^L))+x[5]+1200080426&4294967295,b=A+(R<<12&4294967295|R>>>20),R=L+(C^b&(A^C))+x[6]+2821735955&4294967295,L=b+(R<<17&4294967295|R>>>15),R=C+(A^L&(b^A))+x[7]+4249261313&4294967295,C=L+(R<<22&4294967295|R>>>10),R=A+(b^C&(L^b))+x[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=b+(L^A&(C^L))+x[9]+2336552879&4294967295,b=A+(R<<12&4294967295|R>>>20),R=L+(C^b&(A^C))+x[10]+4294925233&4294967295,L=b+(R<<17&4294967295|R>>>15),R=C+(A^L&(b^A))+x[11]+2304563134&4294967295,C=L+(R<<22&4294967295|R>>>10),R=A+(b^C&(L^b))+x[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=b+(L^A&(C^L))+x[13]+4254626195&4294967295,b=A+(R<<12&4294967295|R>>>20),R=L+(C^b&(A^C))+x[14]+2792965006&4294967295,L=b+(R<<17&4294967295|R>>>15),R=C+(A^L&(b^A))+x[15]+1236535329&4294967295,C=L+(R<<22&4294967295|R>>>10),R=A+(L^b&(C^L))+x[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=b+(C^L&(A^C))+x[6]+3225465664&4294967295,b=A+(R<<9&4294967295|R>>>23),R=L+(A^C&(b^A))+x[11]+643717713&4294967295,L=b+(R<<14&4294967295|R>>>18),R=C+(b^A&(L^b))+x[0]+3921069994&4294967295,C=L+(R<<20&4294967295|R>>>12),R=A+(L^b&(C^L))+x[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=b+(C^L&(A^C))+x[10]+38016083&4294967295,b=A+(R<<9&4294967295|R>>>23),R=L+(A^C&(b^A))+x[15]+3634488961&4294967295,L=b+(R<<14&4294967295|R>>>18),R=C+(b^A&(L^b))+x[4]+3889429448&4294967295,C=L+(R<<20&4294967295|R>>>12),R=A+(L^b&(C^L))+x[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=b+(C^L&(A^C))+x[14]+3275163606&4294967295,b=A+(R<<9&4294967295|R>>>23),R=L+(A^C&(b^A))+x[3]+4107603335&4294967295,L=b+(R<<14&4294967295|R>>>18),R=C+(b^A&(L^b))+x[8]+1163531501&4294967295,C=L+(R<<20&4294967295|R>>>12),R=A+(L^b&(C^L))+x[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=b+(C^L&(A^C))+x[2]+4243563512&4294967295,b=A+(R<<9&4294967295|R>>>23),R=L+(A^C&(b^A))+x[7]+1735328473&4294967295,L=b+(R<<14&4294967295|R>>>18),R=C+(b^A&(L^b))+x[12]+2368359562&4294967295,C=L+(R<<20&4294967295|R>>>12),R=A+(C^L^b)+x[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=b+(A^C^L)+x[8]+2272392833&4294967295,b=A+(R<<11&4294967295|R>>>21),R=L+(b^A^C)+x[11]+1839030562&4294967295,L=b+(R<<16&4294967295|R>>>16),R=C+(L^b^A)+x[14]+4259657740&4294967295,C=L+(R<<23&4294967295|R>>>9),R=A+(C^L^b)+x[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=b+(A^C^L)+x[4]+1272893353&4294967295,b=A+(R<<11&4294967295|R>>>21),R=L+(b^A^C)+x[7]+4139469664&4294967295,L=b+(R<<16&4294967295|R>>>16),R=C+(L^b^A)+x[10]+3200236656&4294967295,C=L+(R<<23&4294967295|R>>>9),R=A+(C^L^b)+x[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=b+(A^C^L)+x[0]+3936430074&4294967295,b=A+(R<<11&4294967295|R>>>21),R=L+(b^A^C)+x[3]+3572445317&4294967295,L=b+(R<<16&4294967295|R>>>16),R=C+(L^b^A)+x[6]+76029189&4294967295,C=L+(R<<23&4294967295|R>>>9),R=A+(C^L^b)+x[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=b+(A^C^L)+x[12]+3873151461&4294967295,b=A+(R<<11&4294967295|R>>>21),R=L+(b^A^C)+x[15]+530742520&4294967295,L=b+(R<<16&4294967295|R>>>16),R=C+(L^b^A)+x[2]+3299628645&4294967295,C=L+(R<<23&4294967295|R>>>9),R=A+(L^(C|~b))+x[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=b+(C^(A|~L))+x[7]+1126891415&4294967295,b=A+(R<<10&4294967295|R>>>22),R=L+(A^(b|~C))+x[14]+2878612391&4294967295,L=b+(R<<15&4294967295|R>>>17),R=C+(b^(L|~A))+x[5]+4237533241&4294967295,C=L+(R<<21&4294967295|R>>>11),R=A+(L^(C|~b))+x[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=b+(C^(A|~L))+x[3]+2399980690&4294967295,b=A+(R<<10&4294967295|R>>>22),R=L+(A^(b|~C))+x[10]+4293915773&4294967295,L=b+(R<<15&4294967295|R>>>17),R=C+(b^(L|~A))+x[1]+2240044497&4294967295,C=L+(R<<21&4294967295|R>>>11),R=A+(L^(C|~b))+x[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=b+(C^(A|~L))+x[15]+4264355552&4294967295,b=A+(R<<10&4294967295|R>>>22),R=L+(A^(b|~C))+x[6]+2734768916&4294967295,L=b+(R<<15&4294967295|R>>>17),R=C+(b^(L|~A))+x[13]+1309151649&4294967295,C=L+(R<<21&4294967295|R>>>11),R=A+(L^(C|~b))+x[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=b+(C^(A|~L))+x[11]+3174756917&4294967295,b=A+(R<<10&4294967295|R>>>22),R=L+(A^(b|~C))+x[2]+718787259&4294967295,L=b+(R<<15&4294967295|R>>>17),R=C+(b^(L|~A))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+b&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var C=A-this.blockSize,x=this.B,L=this.h,b=0;b<A;){if(L==0)for(;b<=C;)o(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<A;)if(x[L++]=D.charCodeAt(b++),L==this.blockSize){o(this,x),L=0;break}}else for(;b<A;)if(x[L++]=D[b++],L==this.blockSize){o(this,x),L=0;break}}this.h=L,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var C=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=C&255,C/=256;for(this.u(D),D=Array(16),A=C=0;4>A;++A)for(var x=0;32>x;x+=8)D[C++]=this.g[A]>>>x&255;return D};function l(D,A){var C=d;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=A(D)}function c(D,A){this.h=A;for(var C=[],x=!0,L=D.length-1;0<=L;L--){var b=D[L]|0;x&&b==A||(C[L]=b,x=!1)}this.g=C}var d={};function p(D){return-128<=D&&128>D?l(D,function(A){return new c([A|0],0>A?-1:0)}):new c([D|0],0>D?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return V(_(-D));for(var A=[],C=1,x=0;D>=C;x++)A[x]=D/C|0,C*=4294967296;return new c(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return V(v(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(A,8)),x=w,L=0;L<D.length;L+=8){var b=Math.min(8,D.length-L),R=parseInt(D.substring(L,L+b),A);8>b?(b=_(Math.pow(A,b)),x=x.j(b).add(_(R))):(x=x.j(C),x=x.add(_(R)))}return x}var w=p(0),I=p(1),O=p(16777216);t=c.prototype,t.m=function(){if($(this))return-V(this).m();for(var D=0,A=1,C=0;C<this.g.length;C++){var x=this.i(C);D+=(0<=x?x:4294967296+x)*A,A*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(B(this))return"0";if($(this))return"-"+V(this).toString(D);for(var A=_(Math.pow(D,6)),C=this,x="";;){var L=Te(C,A).g;C=ne(C,L.j(A));var b=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=L,B(C))return b+x;for(;6>b.length;)b="0"+b;x=b+x}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function B(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function $(D){return D.h==-1}t.l=function(D){return D=ne(this,D),$(D)?-1:B(D)?0:1};function V(D){for(var A=D.g.length,C=[],x=0;x<A;x++)C[x]=~D.g[x];return new c(C,~D.h).add(I)}t.abs=function(){return $(this)?V(this):this},t.add=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],x=0,L=0;L<=A;L++){var b=x+(this.i(L)&65535)+(D.i(L)&65535),R=(b>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);x=R>>>16,b&=65535,R&=65535,C[L]=R<<16|b}return new c(C,C[C.length-1]&-2147483648?-1:0)};function ne(D,A){return D.add(V(A))}t.j=function(D){if(B(this)||B(D))return w;if($(this))return $(D)?V(this).j(V(D)):V(V(this).j(D));if($(D))return V(this.j(V(D)));if(0>this.l(O)&&0>D.l(O))return _(this.m()*D.m());for(var A=this.g.length+D.g.length,C=[],x=0;x<2*A;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var L=0;L<D.g.length;L++){var b=this.i(x)>>>16,R=this.i(x)&65535,rt=D.i(L)>>>16,Lt=D.i(L)&65535;C[2*x+2*L]+=R*Lt,J(C,2*x+2*L),C[2*x+2*L+1]+=b*Lt,J(C,2*x+2*L+1),C[2*x+2*L+1]+=R*rt,J(C,2*x+2*L+1),C[2*x+2*L+2]+=b*rt,J(C,2*x+2*L+2)}for(x=0;x<A;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=A;x<2*A;x++)C[x]=0;return new c(C,0)};function J(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function de(D,A){this.g=D,this.h=A}function Te(D,A){if(B(A))throw Error("division by zero");if(B(D))return new de(w,w);if($(D))return A=Te(V(D),A),new de(V(A.g),V(A.h));if($(A))return A=Te(D,V(A)),new de(V(A.g),A.h);if(30<D.g.length){if($(D)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var C=I,x=A;0>=x.l(D);)C=Ce(C),x=Ce(x);var L=Ae(C,1),b=Ae(x,1);for(x=Ae(x,2),C=Ae(C,2);!B(x);){var R=b.add(x);0>=R.l(D)&&(L=L.add(C),b=R),x=Ae(x,1),C=Ae(C,1)}return A=ne(D,L.j(A)),new de(L,A)}for(L=w;0<=D.l(A);){for(C=Math.max(1,Math.floor(D.m()/A.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),b=_(C),R=b.j(A);$(R)||0<R.l(D);)C-=x,b=_(C),R=b.j(A);B(b)&&(b=I),L=L.add(b),D=ne(D,R)}return new de(L,D)}t.A=function(D){return Te(this,D).h},t.and=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],x=0;x<A;x++)C[x]=this.i(x)&D.i(x);return new c(C,this.h&D.h)},t.or=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],x=0;x<A;x++)C[x]=this.i(x)|D.i(x);return new c(C,this.h|D.h)},t.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],x=0;x<A;x++)C[x]=this.i(x)^D.i(x);return new c(C,this.h^D.h)};function Ce(D){for(var A=D.g.length+1,C=[],x=0;x<A;x++)C[x]=D.i(x)<<1|D.i(x-1)>>>31;return new c(C,D.h)}function Ae(D,A){var C=A>>5;A%=32;for(var x=D.g.length-C,L=[],b=0;b<x;b++)L[b]=0<A?D.i(b+C)>>>A|D.i(b+C+1)<<32-A:D.i(b+C);return new c(L,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xv=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=v,as=c}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nv,Ba,Ov,Yu,tf,Dv,Lv,Vv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function o(u,m){if(m)e:{var y=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var M=u[T];if(!(M in y))break e;y=y[M]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var y=0,T=!1,M={next:function(){if(!T&&y<u.length){var z=y++;return{value:m(z,u[z]),done:!1}}return T=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,T),u.apply(m,M)}}return function(){return u.apply(m,arguments)}}function I(u,m,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,I.apply(null,arguments)}function O(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function B(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,M,z){for(var ee=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ee[Be-2]=arguments[Be];return m.prototype[M].apply(T,ee)}}function $(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function V(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const M=u.length||0,z=T.length||0;u.length=M+z;for(let ee=0;ee<z;ee++)u[M+ee]=T[ee]}else u.push(T)}}class ne{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){return/^[\s\xa0]*$/.test(u)}function de(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function Te(u){return Te[" "](u),u}Te[" "]=function(){};var Ce=de().indexOf("Gecko")!=-1&&!(de().toLowerCase().indexOf("webkit")!=-1&&de().indexOf("Edge")==-1)&&!(de().indexOf("Trident")!=-1||de().indexOf("MSIE")!=-1)&&de().indexOf("Edge")==-1;function Ae(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function D(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function A(u){const m={};for(const y in u)m[y]=u[y];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let y,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(y in T)u[y]=T[y];for(let z=0;z<C.length;z++)y=C[z],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function L(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function b(u){d.setTimeout(()=>{throw u},0)}function R(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,y){const T=Lt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var Lt=new ne(()=>new Vt,u=>u.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,te=!1,pe=new rt,P=()=>{const u=d.Promise.resolve(void 0);$e=()=>{u.then(H)}};var H=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){b(y)}var m=Lt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}te=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u}();function be(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ce){e:{try{Te(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&be.aa.h.call(this)}}B(be,_e);var Le={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function bt(u,m,y,T,M){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function vs(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ur(u){this.src=u,this.g={},this.h=0}ur.prototype.add=function(u,m,y,T,M){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var ee=Ur(u,m,T,M);return-1<ee?(m=u[ee],y||(m.fa=!1)):(m=new bt(m,this.src,z,!!T,M),m.fa=y,u.push(m)),m};function Es(u,m){var y=m.type;if(y in u.g){var T=u.g[y],M=Array.prototype.indexOf.call(T,m,void 0),z;(z=0<=M)&&Array.prototype.splice.call(T,M,1),z&&(vs(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ur(u,m,y,T){for(var M=0;M<u.length;++M){var z=u[M];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==T)return M}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),ws={};function Wo(u,m,y,T,M){if(Array.isArray(m)){for(var z=0;z<m.length;z++)Wo(u,m[z],y,T,M);return null}return y=Go(y),u&&u[Me]?u.K(m,y,_(T)?!!T.capture:!1,M):qo(u,m,y,!1,T,M)}function qo(u,m,y,T,M,z){if(!m)throw Error("Invalid event type");var ee=_(M)?!!M.capture:!!M,Be=Is(u);if(Be||(u[xi]=Be=new ur(u)),y=Be.add(m,y,T,ee,z),y.proxy)return y;if(T=Al(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)Re||(M=ee),M===void 0&&(M=!1),u.addEventListener(m.toString(),T,M);else if(u.attachEvent)u.attachEvent(hr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Al(){function u(y){return m.call(u.src,u.listener,y)}const m=Ko;return u}function Ts(u,m,y,T,M){if(Array.isArray(m))for(var z=0;z<m.length;z++)Ts(u,m[z],y,T,M);else T=_(T)?!!T.capture:!!T,y=Go(y),u&&u[Me]?(u=u.i,m=String(m).toString(),m in u.g&&(z=u.g[m],y=Ur(z,y,T,M),-1<y&&(vs(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete u.g[m],u.h--)))):u&&(u=Is(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ur(m,y,T,M)),(y=-1<u?m[u]:null)&&cr(y))}function cr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Me])Es(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(hr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Is(m))?(Es(y,u),y.h==0&&(y.src=null,m[xi]=null)):vs(u)}}}function hr(u){return u in ws?ws[u]:ws[u]="on"+u}function Ko(u,m){if(u.da)u=!0;else{m=new be(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&cr(u),u=y.call(T,m)}return u}function Is(u){return u=u[xi],u instanceof ur?u:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function Go(u){return typeof u=="function"?u:(u[Ss]||(u[Ss]=function(m){return u.handleEvent(m)}),u[Ss])}function ft(){se.call(this),this.i=new ur(this),this.M=this,this.F=null}B(ft,se),ft.prototype[Me]=!0,ft.prototype.removeEventListener=function(u,m,y,T){Ts(this,u,m,y,T)};function pt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var M=m;m=new _e(T,u),x(m,M)}if(M=!0,y)for(var z=y.length-1;0<=z;z--){var ee=m.g=y[z];M=dr(ee,T,!0,m)&&M}if(ee=m.g=u,M=dr(ee,T,!0,m)&&M,M=dr(ee,T,!1,m)&&M,y)for(z=0;z<y.length;z++)ee=m.g=y[z],M=dr(ee,T,!1,m)&&M}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)vs(y[T]);delete u.g[m],u.h--}}this.F=null},ft.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ft.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function dr(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,z=0;z<m.length;++z){var ee=m[z];if(ee&&!ee.da&&ee.capture==y){var Be=ee.listener,mt=ee.ha||ee.src;ee.fa&&Es(u.i,ee),M=Be.call(mt,T)!==!1&&M}}return M&&!T.defaultPrevented}function Qo(u,m,y){if(typeof u=="function")y&&(u=I(u,y));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function jr(u){u.g=Qo(()=>{u.g=null,u.i&&(u.i=!1,jr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ni extends se{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(u){se.call(this),this.h=u,this.g={}}B(Oi,se);var Yo=[];function Xo(u){Ae(u.g,function(m,y){this.g.hasOwnProperty(y)&&cr(m)},u),u.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),Xo(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jo=d.JSON.stringify,Zo=d.JSON.parse,ea=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Di(){}Di.prototype.h=null;function As(u){return u.h||(u.h=u.i())}function Rs(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){_e.call(this,"d")}B($n,_e);function Cs(){_e.call(this,"c")}B(Cs,_e);var Hn={},ta=null;function Li(){return ta=ta||new ft}Hn.La="serverreachability";function na(u){_e.call(this,Hn.La,u)}B(na,_e);function fr(u){const m=Li();pt(m,new na(m))}Hn.STAT_EVENT="statevent";function ra(u,m){_e.call(this,Hn.STAT_EVENT,u),this.stat=m}B(ra,_e);function it(u){const m=Li();pt(m,new ra(m,u))}Hn.Ma="timingevent";function Ps(u,m){_e.call(this,Hn.Ma,u),this.size=m}B(Ps,_e);function Pn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Vi(){this.g=!0}Vi.prototype.xa=function(){this.g=!1};function bi(u,m,y,T,M,z){u.info(function(){if(u.g)if(z)for(var ee="",Be=z.split("&"),mt=0;mt<Be.length;mt++){var Oe=Be[mt].split("=");if(1<Oe.length){var Et=Oe[0];Oe=Oe[1];var at=Et.split("_");ee=2<=at.length&&at[1]=="type"?ee+(Et+"="+Oe+"&"):ee+(Et+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+m+`
`+y+`
`+ee})}function ks(u,m,y,T,M,z,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+m+`
`+y+`
`+z+" "+ee})}function kn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qc(u,y)+(T?" "+T:"")})}function ia(u,m){u.info(function(){return"TIMEOUT: "+m})}Vi.prototype.info=function(){};function Qc(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var M=T[1];if(Array.isArray(M)&&!(1>M.length)){var z=M[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<M.length;ee++)M[ee]=""}}}}return Jo(y)}catch{return m}}var xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xn;function Mi(){}B(Mi,Di),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},xn=new Mi;function Nn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}var sa={},Ns={};function Os(u,m,y){u.L=1,u.v=Wr(hn(m)),u.m=y,u.P=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),We(u),u.A=hn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Kr(y.i,"t",T),u.C=0,y=u.j.J,u.h=new Cl,u.g=Wl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Ni(I(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Yo[0]=M.toString()),M=Yo);for(var z=0;z<M.length;z++){var ee=Wo(y,M[z],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),fr(),bi(u.i,u.u,u.A,u.l,u.R,u.m)}Nn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Zt(u)==3?m.j():this.Y(u)},Nn.prototype.Y=function(u){try{if(u==this.g)e:{const at=Zt(this.g);var m=this.g.Ba();const wn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||da(this.g)))){this.J||at!=4||m==7||(m==8||0>=wn?fr(3):fr(2)),Fi(this);var y=this.g.Z();this.X=y;t:if(Pl(this)){var T=da(this.g);u="";var M=T.length,z=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Br(this);var ee="";break t}this.h.i=new d.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(z&&m==M-1)});T.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,ks(this.i,this.u,this.A,this.l,this.R,at,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,mt=this.g;if((Be=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Be)){var Oe=Be;break t}}Oe=null}if(y=Oe)kn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,y);else{this.o=!1,this.s=3,it(12),vn(this),Br(this);break e}}if(this.P){y=!0;let fn;for(;!this.J&&this.C<ee.length;)if(fn=Yc(this,ee),fn==Ns){at==4&&(this.s=4,it(14),y=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==sa){this.s=4,it(15),kn(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else kn(this.i,this.l,fn,null),aa(this,fn);if(Pl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||ee.length!=0||this.h.h||(this.s=1,it(16),y=!1),this.o=this.o&&y,!y)kn(this.i,this.l,ee,"[Invalid Chunked Response]"),vn(this),Br(this);else if(0<ee.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),pa(Et),Et.M=!0,it(11))}}else kn(this.i,this.l,ee,null),aa(this,ee);at==4&&vn(this),this.o&&!this.J&&(at==4?$s(this.j,this):(this.o=!1,We(this)))}else Fs(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),vn(this),Br(this)}}}catch{}finally{}};function Pl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yc(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ns:(y=Number(m.substring(y,T)),isNaN(y)?sa:(T+=1,T+y>m.length?Ns:(m=m.slice(T,T+y),u.C=T+y,m)))}Nn.prototype.cancel=function(){this.J=!0,vn(this)};function We(u){u.S=Date.now()+u.I,kl(u,u.I)}function kl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Pn(I(u.ba,u),m)}function Fi(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Nn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ia(this.i,this.A),this.L!=2&&(fr(),it(17)),vn(this),this.s=2,Br(this)):kl(this,this.S-u)};function Br(u){u.j.G==0||u.J||$s(u.j,u)}function vn(u){Fi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Xo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function aa(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Kt(y.h,u))){if(!u.K&&Kt(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)zs(y),bn(y);else break e;Bs(y),it(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Pn(I(y.Za,y),6e3));if(1>=Nl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else yr(y,11)}else if((u.K||y.g==u)&&zs(y),!J(m))for(M=y.Da.g.parse(m),m=0;m<M.length;m++){let Oe=M[m];if(y.T=Oe[0],Oe=Oe[1],y.G==2)if(Oe[0]=="c"){y.K=Oe[1],y.ia=Oe[2];const Et=Oe[3];Et!=null&&(y.la=Et,y.j.info("VER="+y.la));const at=Oe[4];at!=null&&(y.Aa=at,y.j.info("SVER="+y.Aa));const wn=Oe[5];wn!=null&&typeof wn=="number"&&0<wn&&(T=1.5*wn,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const fn=u.g;if(fn){const Wi=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var z=T.h;z.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(la(z,z.h),z.h=null))}if(T.D){const Ws=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ws&&(T.ya=Ws,He(T.I,T.D,Ws))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var ee=u;if(T.qa=Hl(T,T.J?T.ia:null,T.W),ee.K){Ol(T.h,ee);var Be=ee,mt=T.L;mt&&(Be.I=mt),Be.B&&(Fi(Be),We(Be)),T.g=ee}else Hi(T);0<y.i.length&&Gn(y)}else Oe[0]!="stop"&&Oe[0]!="close"||yr(y,7);else y.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?yr(y,7):Rt(y):Oe[0]!="noop"&&y.l&&y.l.ta(Oe),y.v=0)}}fr(4)}catch{}}var xl=class{constructor(u,m){this.g=u,this.map=m}};function Ui(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Nl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function la(u,m){u.g?u.g.add(m):u.h=m}function Ol(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ui.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return $(u.i)}function Ds(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Ls(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function zr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ls(u),T=Ds(u),M=T.length,z=0;z<M;z++)m.call(void 0,T[z],y&&y[z],u)}var ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),M=null;if(0<=T){var z=u[y].substring(0,T);M=u[y].substring(T+1)}else z=u[y];m(z,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function pr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pr){this.h=u.h,Bi(this,u.j),this.o=u.o,this.g=u.g,$r(this,u.s),this.l=u.l;var m=u.i,y=new Wn;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Hr(this,y),this.m=u.m}else u&&(m=String(u).match(ji))?(this.h=!1,Bi(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),$r(this,m[4]),this.l=xe(m[5]||"",!0),Hr(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}pr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qr(m,Vs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qr(m,Vs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(qr(y,y.charAt(0)=="/"?bl:Vl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",qr(y,ua)),u.join("")};function hn(u){return new pr(u)}function Bi(u,m,y){u.j=y?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $r(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Hr(u,m,y){m instanceof Wn?(u.i=m,qn(u.i,u.h)):(y||(m=qr(m,Ml)),u.i=new Wn(m,u.h))}function He(u,m,y){u.i.set(m,y)}function Wr(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Ll),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ll(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vs=/[#\/\?@]/g,Vl=/[#\?:]/g,bl=/[#\?]/g,Ml=/[#\?@]/g,ua=/#/g;function Wn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function At(u){u.g||(u.g=new Map,u.h=0,u.i&&Xc(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Wn.prototype,t.add=function(u,m){At(this),this.i=null,u=En(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function On(u,m){At(u),m=En(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dn(u,m){return At(u),m=En(u,m),u.g.has(m)}t.forEach=function(u,m){At(this),this.g.forEach(function(y,T){y.forEach(function(M){u.call(m,M,T,this)},this)},this)},t.na=function(){At(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const M=u[T];for(let z=0;z<M.length;z++)y.push(m[T])}return y},t.V=function(u){At(this);let m=[];if(typeof u=="string")Dn(this,u)&&(m=m.concat(this.g.get(En(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return At(this),this.i=null,u=En(this,u),Dn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Kr(u,m,y){On(u,m),0<y.length&&(u.i=null,u.g.set(En(u,m),$(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const z=encodeURIComponent(String(T)),ee=this.V(T);for(T=0;T<ee.length;T++){var M=z;ee[T]!==""&&(M+="="+encodeURIComponent(String(ee[T]))),u.push(M)}}return this.i=u.join("&")};function En(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function qn(u,m){m&&!u.j&&(At(u),u.i=null,u.g.forEach(function(y,T){var M=T.toLowerCase();T!=M&&(On(this,T),Kr(this,M,y))},u)),u.j=m}function Jc(u,m){const y=new Vi;if(d.Image){const T=new Image;T.onload=O(Jt,y,"TestLoadImage: loaded",!0,m,T),T.onerror=O(Jt,y,"TestLoadImage: error",!1,m,T),T.onabort=O(Jt,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=O(Jt,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Fl(u,m){const y=new Vi,T=new AbortController,M=setTimeout(()=>{T.abort(),Jt(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(z=>{clearTimeout(M),z.ok?Jt(y,"TestPingServer: ok",!0,m):Jt(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),Jt(y,"TestPingServer: error",!1,m)})}function Jt(u,m,y,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(y)}catch{}}function Zc(){this.g=new ea}function Ul(u,m,y){const T=y||"";try{zr(u,function(M,z){let ee=M;_(M)&&(ee=Jo(M)),m.push(T+z+"="+encodeURIComponent(ee))})}catch(M){throw m.push(T+"type="+encodeURIComponent("_badmap")),M}}function mr(u){this.l=u.Ub||null,this.j=u.eb||!1}B(mr,Di),mr.prototype.g=function(){return new zi(this.l,this.j)},mr.prototype.i=function(u){return function(){return u}}({});function zi(u,m){ft.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(zi,ft),t=zi.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Vn(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ln(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ln(this):Vn(this),this.readyState==3&&jl(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ln(this))},t.Qa=function(u){this.g&&(this.response=u,Ln(this))},t.ga=function(){this.g&&Ln(this)};function Ln(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Vn(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Vn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gr(u){let m="";return Ae(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Gr(u,m,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=gr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):He(u,m,y))}function Ye(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Ye,ft);var eh=/^https?$/i,ca=["POST","PUT"];t=Ye.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xn.g(),this.v=this.o?As(this.o):As(xn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){$i(this,z);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)y.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const z of T.keys())y.set(z,T.get(z));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),M=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ca,m,void 0))||T||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of y)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ms(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){$i(this,z)}};function $i(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,bs(u),dn(u)}function bs(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),dn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},t.bb=function(){ha(this)};function ha(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Zt(u)!=4||u.Z()!=2)){if(u.u&&Zt(u)==4)Qo(u.Ea,0,u);else if(pt(u,"readystatechange"),Zt(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var T;if(T=ee===0){var M=String(u.D).match(ji)[1]||null;!M&&d.self&&d.self.location&&(M=d.self.location.protocol.slice(0,-1)),T=!eh.test(M?M.toLowerCase():"")}y=T}if(y)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var z=2<Zt(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",bs(u)}}finally{dn(u)}}}}function dn(u,m){if(u.g){Ms(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||pt(u,"ready");try{y.onreadystatechange=T}catch{}}}function Ms(u){u.I&&(d.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Zt(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Zo(m)}};function da(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(u){const m={};u=(u.g&&2<=Zt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(J(u[T]))continue;var y=L(u[T]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[M]||[];m[M]=z,z.push(y)}D(m,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function fa(u){this.Aa=0,this.i=[],this.j=new Vi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,u),this.cb=Kn("retryDelaySeedMs",1e4,u),this.Wa=Kn("forwardChannelMaxRetries",2,u),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(u&&u.concurrentRequestLimit),this.Da=new Zc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fa.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,T){it(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Hl(this,null,this.W),Gn(this)};function Rt(u){if(Us(u),u.G==3){var m=u.U++,y=hn(u.I);if(He(y,"SID",u.K),He(y,"RID",m),He(y,"TYPE","terminate"),_r(u,y),m=new Nn(u,u.j,m),m.L=2,m.v=Wr(hn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.v,y=!0),y||(m.g=Wl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),We(m)}$l(u)}function bn(u){u.g&&(pa(u),u.g.cancel(),u.g=null)}function Us(u){bn(u),u.u&&(d.clearTimeout(u.u),u.u=null),zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Gn(u){if(!cn(u.h)&&!u.s){u.s=!0;var m=u.Ga;$e||P(),te||($e(),te=!0),pe.add(m,u),u.B=0}}function th(u,m){return Nl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Pn(I(u.Ga,u,m),zl(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Nn(this,this.j,u);let z=this.o;if(this.S&&(z?(z=A(z),x(z,this.S)):z=this.S),this.m!==null||this.O||(M.H=z,z=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Qr(this,M,m),y=hn(this.I),He(y,"RID",u),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),_r(this,y),z&&(this.O?m="headers="+encodeURIComponent(String(gr(z)))+"&"+m:this.m&&Gr(y,this.m,z)),la(this.h,M),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",m),He(y,"SID","null"),M.T=!0,Os(M,y,null)):Os(M,y,m),this.G=2}}else this.G==3&&(u?js(this,u):this.i.length==0||cn(this.h)||js(this))};function js(u,m){var y;m?y=m.l:y=u.U++;const T=hn(u.I);He(T,"SID",u.K),He(T,"RID",y),He(T,"AID",u.T),_r(u,T),u.m&&u.o&&Gr(T,u.m,u.o),y=new Nn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Qr(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),la(u.h,y),Os(y,T,m)}function _r(u,m){u.H&&Ae(u.H,function(y,T){He(m,T,y)}),u.l&&zr({},function(y,T){He(m,T,y)})}function Qr(u,m,y){y=Math.min(u.i.length,y);var T=u.l?I(u.l.Na,u.l,u):null;e:{var M=u.i;let z=-1;for(;;){const ee=["count="+y];z==-1?0<y?(z=M[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let Be=!0;for(let mt=0;mt<y;mt++){let Oe=M[mt].g;const Et=M[mt].map;if(Oe-=z,0>Oe)z=Math.max(0,M[mt].g-100),Be=!1;else try{Ul(Et,ee,"req"+Oe+"_")}catch{T&&T(Et)}}if(Be){T=ee.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,T}function Hi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;$e||P(),te||($e(),te=!0),pe.add(m,u),u.v=0}}function Bs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Pn(I(u.Fa,u),zl(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Pn(I(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),bn(this),Bl(this))};function pa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Bl(u){u.g=new Nn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=hn(u.qa);He(m,"RID","rpc"),He(m,"SID",u.K),He(m,"AID",u.T),He(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(m,"TO",u.ja),He(m,"TYPE","xmlhttp"),_r(u,m),u.m&&u.o&&Gr(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Wr(hn(m)),y.m=null,y.P=!0,oa(y,u)}t.Za=function(){this.C!=null&&(this.C=null,bn(this),Bs(this),it(19))};function zs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function $s(u,m){var y=null;if(u.g==m){zs(u),pa(u),u.g=null;var T=2}else if(Kt(u.h,m))y=m.D,Ol(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var M=u.B;T=Li(),pt(T,new Ps(T,y)),Gn(u)}else Hi(u);else if(M=m.s,M==3||M==0&&0<m.X||!(T==1&&th(u,m)||T==2&&Bs(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),M){case 1:yr(u,5);break;case 4:yr(u,10);break;case 3:yr(u,6);break;default:yr(u,2)}}}function zl(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function yr(u,m){if(u.j.info("Error code "+m),m==2){var y=I(u.fb,u),T=u.Xa;const M=!T;T=new pr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Bi(T,"https"),Wr(T),M?Jc(T.toString(),y):Fl(T.toString(),y)}else it(2);u.G=0,u.l&&u.l.sa(m),$l(u),Us(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function $l(u){if(u.G=0,u.ka=[],u.l){const m=Dl(u.h);(m.length!=0||u.i.length!=0)&&(V(u.ka,m),V(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Hl(u,m,y){var T=y instanceof pr?hn(y):new pr(y);if(T.g!="")m&&(T.g=m+"."+T.g),$r(T,T.s);else{var M=d.location;T=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var z=new pr(null);T&&Bi(z,T),m&&(z.g=m),M&&$r(z,M),y&&(z.l=y),T=z}return y=u.D,m=u.ya,y&&m&&He(T,y,m),He(T,"VER",u.la),_r(u,T),T}function Wl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new mr({eb:y})):new Ye(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ma(){}t=ma.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new Gt(u,m)};function Gt(u,m){ft.call(this),this.g=new fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!J(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!J(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}B(Gt,ft),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Rt(this.g)},Gt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Jo(u),u=y);m.i.push(new xl(m.Ya++,u)),m.G==3&&Gn(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Rt(this.g),delete this.g,Gt.aa.N.call(this)};function ql(u){$n.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}B(ql,$n);function Kl(){Cs.call(this),this.status=1}B(Kl,Cs);function Qn(u){this.g=u}B(Qn,ma),Qn.prototype.ua=function(){pt(this.g,"a")},Qn.prototype.ta=function(u){pt(this.g,new ql(u))},Qn.prototype.sa=function(u){pt(this.g,new Kl)},Qn.prototype.ra=function(){pt(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,Vv=function(){return new Hs},Lv=function(){return Li()},Dv=Hn,tf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,Yu=xs,Rl.COMPLETE="complete",Ov=Rl,Rs.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ba=Rs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Nv=Ye}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Af("@firebase/firestore");function ja(){return hs.logLevel}function le(t,...e){if(hs.logLevel<=Ne.DEBUG){const n=e.map(bf);hs.debug(`Firestore (${Uo}): ${t}`,...n)}}function Vr(t,...e){if(hs.logLevel<=Ne.ERROR){const n=e.map(bf);hs.error(`Firestore (${Uo}): ${t}`,...n)}}function Co(t,...e){if(hs.logLevel<=Ne.WARN){const n=e.map(bf);hs.warn(`Firestore (${Uo}): ${t}`,...n)}}function bf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+t;throw Vr(e),new Error(e)}function ze(t,e){t||we()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class W1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q1{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wi)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string"),new bv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new zt(e)}}class K1{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G1{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new K1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new Q1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=X1(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%e.length))}return i}}function je(t,e){return t<e?-1:t>e?1:0}function Po(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new dt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new dt(0,0))}static max(){return new Ie(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(),i===void 0?i=e.length-n:i>e.length-n&&we(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return el.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends el{construct(e,n,i){return new nt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const J1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends el{construct(e,n,i){return new xt(e,n,i)}static isValidIdentifier(e){return J1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function Z1(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new dt(n+1,0):new dt(n,i));return new Ai(o,ye.empty(),e)}function eR(t){return new Ai(t.readTime,t.key,-1)}class Ai{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ai(Ie.min(),ye.empty(),-1)}static max(){return new Ai(Ie.max(),ye.empty(),-1)}}function tR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==nR)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,i)=>{n(e)})}static reject(e){return new G((n,i)=>{i(e)})}static waitFor(e){return new G((n,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&n()},p=>i(p))}),c=!0,l===o&&n()})}static or(e){let n=G.resolve(!1);for(const i of e)n=n.next(o=>o?G.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,l)=>{i.push(n.call(this,o,l))}),this.waitFor(i)}static mapArray(e,n){return new G((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const _=p;n(e[_]).next(v=>{c[_]=v,++d,d===l&&i(c)},v=>o(v))}})}static doWhile(e,n){return new G((i,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):i()};l()})}}function iR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mf.oe=-1;function Lc(t){return t==null}function cc(t){return t===0&&1/t==-1/0}function sR(t){return typeof t=="number"&&Number.isInteger(t)&&!cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??kt.RED,this.left=o??kt.EMPTY,this.right=l??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new kt(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,i,o,l){return this}insert(e,n,i){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new R_(this.data.getIterator())}getIteratorFrom(e){return new R_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class R_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Nt(xt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Uv("Invalid base64 string: "+l):l}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const oR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(ze(!!t),typeof t=="string"){let e=0;const n=oR.exec(t);if(ze(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ds(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uf(t){const e=t.mapValue.fields.__previous_value__;return Ff(e)?Uf(e):e}function tl(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,i,o,l,c,d,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=_}}class nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu={mapValue:{}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ff(t)?4:uR(t)?9007199254740991:lR(t)?10:11:we()}function ar(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tl(t).isEqual(tl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ri(o.timestampValue),d=Ri(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return ds(o.bytesValue).isEqual(ds(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return ot(o.geoPointValue.latitude)===ot(l.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ot(o.integerValue)===ot(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ot(o.doubleValue),d=ot(l.doubleValue);return c===d?cc(c)===cc(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(A_(c)!==A_(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ar(c[p],d[p])))return!1;return!0}(t,e);default:return we()}}function rl(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function ko(t,e){if(t===e)return 0;const n=fs(t),i=fs(e);if(n!==i)return je(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=ot(l.integerValue||l.doubleValue),p=ot(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return C_(t.timestampValue,e.timestampValue);case 4:return C_(tl(t),tl(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(l,c){const d=ds(l),p=ds(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let _=0;_<d.length&&_<p.length;_++){const v=je(d[_],p[_]);if(v!==0)return v}return je(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=je(ot(l.latitude),ot(c.latitude));return d!==0?d:je(ot(l.longitude),ot(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return P_(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,_,v;const w=l.fields||{},I=c.fields||{},O=(d=w.value)===null||d===void 0?void 0:d.arrayValue,B=(p=I.value)===null||p===void 0?void 0:p.arrayValue,$=je(((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0,((v=B==null?void 0:B.values)===null||v===void 0?void 0:v.length)||0);return $!==0?$:P_(O,B)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Hu.mapValue&&c===Hu.mapValue)return 0;if(l===Hu.mapValue)return 1;if(c===Hu.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),_=c.fields||{},v=Object.keys(_);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const I=je(p[w],v[w]);if(I!==0)return I;const O=ko(d[p[w]],_[v[w]]);if(O!==0)return O}return je(p.length,v.length)}(t.mapValue,e.mapValue);default:throw we()}}function C_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Ri(t),i=Ri(e),o=je(n.seconds,i.seconds);return o!==0?o:je(n.nanos,i.nanos)}function P_(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=ko(n[o],i[o]);if(l)return l}return je(n.length,i.length)}function xo(t){return nf(t)}function nf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ri(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=nf(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${nf(n.fields[c])}`;return o+"}"}(t.mapValue):we()}function rf(t){return!!t&&"integerValue"in t}function jf(t){return!!t&&"arrayValue"in t}function k_(t){return!!t&&"nullValue"in t}function x_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xu(t){return!!t&&"mapValue"in t}function lR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ka(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Xu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(n)}setAll(e){let n=xt.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=d.popLast()}c?i[d.lastSegment()]=Ka(c):o.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());Xu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){_s(n,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new an(Ka(this.value))}}function jv(t){const e=[];return _s(t.fields,(n,i)=>{const o=new xt([n]);if(Xu(i)){const l=jv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,i,o,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new $t(e,0,Ie.min(),Ie.min(),Ie.min(),an.empty(),0)}static newFoundDocument(e,n,i,o){return new $t(e,1,n,Ie.min(),i,o,0)}static newNoDocument(e,n){return new $t(e,2,n,Ie.min(),Ie.min(),an.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Ie.min(),Ie.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.position=e,this.inclusive=n}}function N_(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(c.referenceValue),n.key):i=ko(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function O_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n="asc"){this.field=e,this.dir=n}}function cR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{}class yt extends Bv{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new dR(e,n,i):n==="array-contains"?new mR(e,i):n==="in"?new gR(e,i):n==="not-in"?new _R(e,i):n==="array-contains-any"?new yR(e,i):new yt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new fR(e,i):new pR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ko(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends Bv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new lr(e,n)}matches(e){return zv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zv(t){return t.op==="and"}function $v(t){return hR(t)&&zv(t)}function hR(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function sf(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+xo(t.value);if($v(t))return t.filters.map(e=>sf(e)).join(",");{const e=t.filters.map(n=>sf(n)).join(",");return`${t.op}(${e})`}}function Hv(t,e){return t instanceof yt?function(i,o){return o instanceof yt&&i.op===o.op&&i.field.isEqual(o.field)&&ar(i.value,o.value)}(t,e):t instanceof lr?function(i,o){return o instanceof lr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&Hv(c,o.filters[d]),!0):!1}(t,e):void we()}function Wv(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`}(t):t instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(Wv).join(" ,")+"}"}(t):"Filter"}class dR extends yt{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class fR extends yt{constructor(e,n){super(e,"in",n),this.keys=qv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pR extends yt{constructor(e,n){super(e,"not-in",n),this.keys=qv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ye.fromName(i.referenceValue))}class mR extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jf(n)&&rl(n.arrayValue,this.value)}}class gR extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class _R extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rl(this.value.arrayValue,n)}}class yR extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function D_(t,e=null,n=[],i=[],o=null,l=null,c=null){return new vR(t,e,n,i,o,l,c)}function Bf(t){const e=Se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>sf(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Lc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>xo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>xo(i)).join(",")),e.ue=n}return e.ue}function zf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Hv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O_(t.startAt,e.startAt)&&O_(t.endAt,e.endAt)}function of(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ER(t,e,n,i,o,l,c,d){return new Vc(t,e,n,i,o,l,c,d)}function bc(t){return new Vc(t)}function L_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wR(t){return t.collectionGroup!==null}function Ga(t){const e=Se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Nt(xt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new dc(l,i))}),n.has(xt.keyField().canonicalString())||e.ce.push(new dc(xt.keyField(),i))}return e.ce}function nr(t){const e=Se(t);return e.le||(e.le=TR(e,Ga(t))),e.le}function TR(t,e){if(t.limitType==="F")return D_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new dc(o.field,l)});const n=t.endAt?new hc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new hc(t.startAt.position,t.startAt.inclusive):null;return D_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function af(t,e,n){return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mc(t,e){return zf(nr(t),nr(e))&&t.limitType===e.limitType}function Kv(t){return`${Bf(nr(t))}|lt:${t.limitType}`}function po(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>Wv(o)).join(", ")}]`),Lc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>xo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>xo(o)).join(",")),`Target(${i})`}(nr(t))}; limitType=${t.limitType})`}function Fc(t,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,o){for(const l of Ga(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const _=N_(c,d,p);return c.inclusive?_<=0:_<0}(i.startAt,Ga(i),o)||i.endAt&&!function(c,d,p){const _=N_(c,d,p);return c.inclusive?_>=0:_>0}(i.endAt,Ga(i),o))}(t,e)}function IR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gv(t){return(e,n)=>{let i=!1;for(const o of Ga(t)){const l=SR(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function SR(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):function(l,c,d){const p=c.data.field(l),_=d.data.field(l);return p!==null&&_!==null?ko(p,_):we()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Fv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new et(ye.comparator);function br(){return AR}const Qv=new et(ye.comparator);function za(...t){let e=Qv;for(const n of t)e=e.insert(n.key,n);return e}function Yv(t){let e=Qv;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ss(){return Qa()}function Xv(){return Qa()}function Qa(){return new jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const RR=new et(ye.comparator),CR=new Nt(ye.comparator);function ke(...t){let e=CR;for(const n of t)e=e.add(n);return e}const PR=new Nt(je);function kR(){return PR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function Jv(t){return{integerValue:""+t}}function xR(t,e){return sR(e)?Jv(e):$f(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this._=void 0}}function NR(t,e,n){return t instanceof fc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ff(l)&&(l=Uf(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(n,e):t instanceof il?e0(t,e):t instanceof sl?t0(t,e):function(o,l){const c=Zv(o,l),d=V_(c)+V_(o.Pe);return rf(c)&&rf(o.Pe)?Jv(d):$f(o.serializer,d)}(t,e)}function OR(t,e,n){return t instanceof il?e0(t,e):t instanceof sl?t0(t,e):n}function Zv(t,e){return t instanceof pc?function(i){return rf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class fc extends Uc{}class il extends Uc{constructor(e){super(),this.elements=e}}function e0(t,e){const n=n0(e);for(const i of t.elements)n.some(o=>ar(o,i))||n.push(i);return{arrayValue:{values:n}}}class sl extends Uc{constructor(e){super(),this.elements=e}}function t0(t,e){let n=n0(e);for(const i of t.elements)n=n.filter(o=>!ar(o,i));return{arrayValue:{values:n}}}class pc extends Uc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function V_(t){return ot(t.integerValue||t.doubleValue)}function n0(t){return jf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DR(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof il&&o instanceof il||i instanceof sl&&o instanceof sl?Po(i.elements,o.elements,ar):i instanceof pc&&o instanceof pc?ar(i.Pe,o.Pe):i instanceof fc&&o instanceof fc}(t.transform,e.transform)}class LR{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jc{}function r0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new s0(t.key,rr.none()):new El(t.key,t.data,rr.none());{const n=t.data,i=an.empty();let o=new Nt(xt.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new ki(t.key,i,new _n(o.toArray()),rr.none())}}function VR(t,e,n){t instanceof El?function(o,l,c){const d=o.value.clone(),p=M_(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof ki?function(o,l,c){if(!Ju(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=M_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(i0(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Ya(t,e,n,i){return t instanceof El?function(l,c,d,p){if(!Ju(l.precondition,c))return d;const _=l.value.clone(),v=F_(l.fieldTransforms,p,c);return _.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(t,e,n,i):t instanceof ki?function(l,c,d,p){if(!Ju(l.precondition,c))return d;const _=F_(l.fieldTransforms,p,c),v=c.data;return v.setAll(i0(l)),v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(l,c,d){return Ju(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function bR(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),l=Zv(i.transform,o||null);l!=null&&(n===null&&(n=an.empty()),n.set(i.field,l))}return n||null}function b_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Po(i,o,(l,c)=>DR(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class El extends jc{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ki extends jc{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function i0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function M_(t,e,n){const i=new Map;ze(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,OR(c,d,n[o]))}return i}function F_(t,e,n){const i=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);i.set(o.field,NR(l,c,e))}return i}class s0 extends jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MR extends jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&VR(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ya(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ya(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Xv();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const p=r0(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,i)=>b_(n,i))&&Po(this.baseMutations,e.baseMutations,(n,i)=>b_(n,i))}}class Hf{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){ze(e.mutations.length===i.length);let o=function(){return RR}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Hf(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,De;function BR(t){switch(t){default:return we();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function o0(t){if(t===void 0)return Vr("GRPC error has no .code"),Y.UNKNOWN;switch(t){case ut.OK:return Y.OK;case ut.CANCELLED:return Y.CANCELLED;case ut.UNKNOWN:return Y.UNKNOWN;case ut.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ut.INTERNAL:return Y.INTERNAL;case ut.UNAVAILABLE:return Y.UNAVAILABLE;case ut.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ut.NOT_FOUND:return Y.NOT_FOUND;case ut.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ut.ABORTED:return Y.ABORTED;case ut.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ut.DATA_LOSS:return Y.DATA_LOSS;default:return we()}}(De=ut||(ut={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new as([4294967295,4294967295],0);function U_(t){const e=zR().encode(t),n=new xv;return n.update(e),new Uint8Array(n.digest())}function j_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new as([n,i],0),new as([o,l],0)]}class Wf{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $a(`Invalid padding: ${n}`);if(i<0)throw new $a(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new $a(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=as.fromNumber(this.Ie)}Ee(e,n,i){let o=e.add(n.multiply(as.fromNumber(i)));return o.compare($R)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=U_(e),[i,o]=j_(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wf(l,o,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ie===0)return;const n=U_(e),[i,o]=j_(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Bc(Ie.min(),o,new et(je),br(),ke())}}class wl{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new wl(i,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,i,o){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=o}}class a0{constructor(e,n){this.targetId=e,this.me=n}}class l0{constructor(e,n,i=Dt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class B_{constructor(){this.fe=0,this.ge=$_(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),i=ke();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:we()}}),new wl(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=$_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HR{constructor(e){this.Le=e,this.Be=new Map,this.ke=br(),this.qe=z_(),this.Qe=new et(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,i=e.me.count,o=this.Je(n);if(o){const l=o.target;if(of(l))if(i===0){const c=new ye(l.path);this.Ue(n,c,$t.newNoDocument(c,Ie.min()))}else ze(i===1);else{const c=this.Ye(n);if(c!==i){const d=this.Ze(e),p=d?this.Xe(d,e,c):1;if(p!==0){this.je(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,_)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=ds(i).toUint8Array()}catch(p){if(p instanceof Uv)return Co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Wf(c,o,l)}catch(p){return Co(p instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ie===0?null:d}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((l,c)=>{const d=this.Je(c);if(d){if(l.current&&of(d.target)){const p=new ye(d.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,$t.newNoDocument(p,e))}l.be&&(n.set(c,l.ve()),l.Ce())}});let i=ke();this.qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Je(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Bc(e,n,this.Qe,this.ke,i);return this.ke=br(),this.qe=z_(),this.Qe=new et(je),o}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new B_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nt(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new B_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function z_(){return new et(ye.comparator)}function $_(){return new et(ye.comparator)}const WR={asc:"ASCENDING",desc:"DESCENDING"},qR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KR={and:"AND",or:"OR"};class GR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lf(t,e){return t.useProto3Json||Lc(e)?e:{value:e}}function mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QR(t,e){return mc(t,e.toTimestamp())}function ir(t){return ze(!!t),Ie.fromTimestamp(function(n){const i=Ri(n);return new dt(i.seconds,i.nanos)}(t))}function qf(t,e){return uf(t,e).canonicalString()}function uf(t,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function c0(t){const e=nt.fromString(t);return ze(m0(e)),e}function cf(t,e){return qf(t.databaseId,e.path)}function Md(t,e){const n=c0(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(d0(n))}function h0(t,e){return qf(t.databaseId,e)}function YR(t){const e=c0(t);return e.length===4?nt.emptyPath():d0(e)}function hf(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function d0(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function H_(t,e,n){return{name:cf(t,e),fields:n.value.mapValue.fields}}function XR(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,v){return _.useProto3Json?(ze(v===void 0||typeof v=="string"),Dt.fromBase64String(v||"")):(ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Dt.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(_){const v=_.code===void 0?Y.UNKNOWN:o0(_.code);return new fe(v,_.message||"")}(c);n=new l0(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Md(t,i.document.name),l=ir(i.document.updateTime),c=i.document.createTime?ir(i.document.createTime):Ie.min(),d=new an({mapValue:{fields:i.document.fields}}),p=$t.newFoundDocument(o,l,c,d),_=i.targetIds||[],v=i.removedTargetIds||[];n=new Zu(_,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Md(t,i.document),l=i.readTime?ir(i.readTime):Ie.min(),c=$t.newNoDocument(o,l),d=i.removedTargetIds||[];n=new Zu([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Md(t,i.document),l=i.removedTargetIds||[];n=new Zu([],l,o,null)}else{if(!("filter"in e))return we();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new jR(o,l),d=i.targetId;n=new a0(d,c)}}return n}function JR(t,e){let n;if(e instanceof El)n={update:H_(t,e.key,e.value)};else if(e instanceof s0)n={delete:cf(t,e.key)};else if(e instanceof ki)n={update:H_(t,e.key,e.data),updateMask:aC(e.fieldMask)};else{if(!(e instanceof MR))return we();n={verify:cf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof fc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof il)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof pc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw we()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:QR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we()}(t,e.precondition)),n}function ZR(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(o,l){let c=o.updateTime?ir(o.updateTime):ir(l);return c.isEqual(Ie.min())&&(c=ir(l)),new LR(c,o.transformResults||[])}(n,e))):[]}function eC(t,e){return{documents:[h0(t,e.path)]}}function tC(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=h0(t,o);const l=function(_){if(_.length!==0)return p0(lr.create(_,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(_){if(_.length!==0)return _.map(v=>function(I){return{field:mo(I.field),direction:iC(I.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=lf(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:n,parent:o}}function nC(t){let e=YR(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){ze(i===1);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(w){const I=f0(w);return I instanceof lr&&$v(I)?I.getFilters():[I]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(I=>function(B){return new dc(go(B.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(I))}(n.orderBy));let d=null;n.limit&&(d=function(w){let I;return I=typeof w=="object"?w.value:w,Lc(I)?null:I}(n.limit));let p=null;n.startAt&&(p=function(w){const I=!!w.before,O=w.values||[];return new hc(O,I)}(n.startAt));let _=null;return n.endAt&&(_=function(w){const I=!w.before,O=w.values||[];return new hc(O,I)}(n.endAt)),ER(e,o,c,l,d,"F",p,_)}function rC(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function f0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=go(n.unaryFilter.field);return yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=go(n.unaryFilter.field);return yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=go(n.unaryFilter.field);return yt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(go(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(i=>f0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function iC(t){return WR[t]}function sC(t){return qR[t]}function oC(t){return KR[t]}function mo(t){return{fieldPath:t.canonicalString()}}function go(t){return xt.fromServerFormat(t.fieldPath)}function p0(t){return t instanceof yt?function(n){if(n.op==="=="){if(x_(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(k_(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x_(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(k_(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:sC(n.op),value:n.value}}}(t):t instanceof lr?function(n){const i=n.getFilters().map(o=>p0(o));return i.length===1?i[0]:{compositeFilter:{op:oC(n.op),filters:i}}}(t):we()}function aC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function m0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,i,o,l=Ie.min(),c=Ie.min(),d=Dt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.ct=e}}function uC(t){const e=nC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?af(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.un=new hC}addToCollectionParentIndex(e,n){return this.un.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Ai.min())}updateCollectionGroup(e,n,i){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class hC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Nt(nt.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Nt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new No(0)}static kn(){return new No(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.changes=new jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?G.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&Ya(i.mutation,o,_n.empty(),dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ke()){const o=ss();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(l=>{let c=za();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ke()))}populateOverlays(e,n,i){const o=[];return i.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,o){let l=br();const c=Qa(),d=function(){return Qa()}();return n.forEach((p,_)=>{const v=i.get(_.key);o.has(_.key)&&(v===void 0||v.mutation instanceof ki)?l=l.insert(_.key,_):v!==void 0?(c.set(_.key,v.mutation.getFieldMask()),Ya(v.mutation,_,v.mutation.getFieldMask(),dt.now())):c.set(_.key,_n.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((_,v)=>c.set(_,v)),n.forEach((_,v)=>{var w;return d.set(_,new fC(v,(w=c.get(_))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,n){const i=Qa();let o=new et((c,d)=>c-d),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let v=i.get(p)||_n.empty();v=d.applyToLocalView(_,v),i.set(p,v);const w=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,v=p.value,w=Xv();v.forEach(I=>{if(!l.has(I)){const O=r0(n.get(I),i.get(I));O!==null&&w.set(I,O),l=l.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,w))}return G.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):G.resolve(ss());let d=-1,p=l;return c.next(_=>G.forEach(_,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next(I=>{p=p.insert(v,I)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,p,_,ke())).next(v=>({batchId:d,changes:Yv(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(i=>{let o=za();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let c=za();return this.indexManager.getCollectionParents(e,l).next(d=>G.forEach(d,p=>{const _=function(w,I){return new Vc(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(v=>{v.forEach((w,I)=>{c=c.insert(w,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o))).next(c=>{l.forEach((p,_)=>{const v=_.getKey();c.get(v)===null&&(c=c.insert(v,$t.newInvalidDocument(v)))});let d=za();return c.forEach((p,_)=>{const v=l.get(p);v!==void 0&&Ya(v.mutation,_,_n.empty(),dt.now()),Fc(n,_)&&(d=d.insert(p,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return G.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:uC(o.bundledQuery),readTime:ir(o.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.overlays=new et(ye.comparator),this.Ir=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ss();return G.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,l)=>{this.ht(e,n,l)}),G.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ir.delete(i)),G.resolve()}getOverlaysForCollection(e,n,i){const o=ss(),l=n.length+1,c=new ye(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new et((_,v)=>_-v);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>i){let v=l.get(_.largestBatchId);v===null&&(v=ss(),l=l.insert(_.largestBatchId,v)),v.set(_.getKey(),_)}}const d=ss(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,v)=>d.set(_,v)),!(d.size()>=o)););return G.resolve(d)}ht(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new UR(n,i));let l=this.Ir.get(n);l===void 0&&(l=ke(),this.Ir.set(n,l)),this.Ir.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this.Tr=new Nt(St.Er),this.dr=new Nt(St.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new St(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new St(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new ye(new nt([])),i=new St(n,e),o=new St(n,e+1),l=[];return this.dr.forEachInRange([i,o],c=>{this.Vr(c),l.push(c.key)}),l}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new nt([])),i=new St(n,e),o=new St(n,e+1);let l=ke();return this.dr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new St(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class St{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Nt(St.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FR(l,n,i,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new St(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(c)}lookupMutationBatch(e,n){return G.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.vr(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new St(n,0),o=new St(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([i,o],c=>{const d=this.Dr(c.wr);l.push(d)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Nt(je);return n.forEach(o=>{const l=new St(o,0),c=new St(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],d=>{i=i.add(d.wr)})}),G.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const c=new St(new ye(l),0);let d=new Nt(je);return this.br.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(d=d.add(p.wr)),!0)},c),G.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach(i=>{const o=this.Dr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return G.forEach(n.mutations,o=>{const l=new St(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new St(n,0),o=this.br.firstAfterOrEqual(i);return G.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.Mr=e,this.docs=function(){return new et(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return G.resolve(i?i.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let i=br();return n.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():$t.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=br();const c=n.path,d=new ye(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:v}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||tR(eR(v),i)<=0||(o.has(v.key)||Fc(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,n,i,o){we()}Or(e,n){return G.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new EC(this)}getSize(e){return G.resolve(this.size)}}class EC extends dC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)}),G.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.persistence=e,this.Nr=new jo(n=>Bf(n),zf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Kf,this.targetCount=0,this.kr=No.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,o)=>n(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),G.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new No(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Kn(n),G.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.Nr.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),G.waitFor(l).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return G.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),G.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),G.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return G.resolve(i)}containsKey(e,n){return G.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Mf(0),this.Kr=!1,this.Kr=!0,this.$r=new _C,this.referenceDelegate=e(this),this.Ur=new wC(this),this.indexManager=new cC,this.remoteDocumentCache=function(o){return new vC(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new lC(n),this.Gr=new mC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new yC(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){le("MemoryPersistence","Starting transaction:",e);const o=new IC(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(l=>this.referenceDelegate.jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Hr(e,n){return G.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class IC extends rR{constructor(e){super(),this.currentSequenceNumber=e}}class Gf{constructor(e){this.persistence=e,this.Jr=new Kf,this.Yr=null}static Zr(e){return new Gf(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),G.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.Xr.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,i=>{const o=ye.fromPath(i);return this.ei(e,o).next(l=>{l||n.removeEntry(o,Ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return G.or([()=>G.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=o}static Wi(e,n){let i=ke(),o=ke();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Qf(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return CI()?8:iR(Ht())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.Yi(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Zi(e,n,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new SC;return this.Xi(e,n,c).next(d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)})}).next(()=>l.result)}es(e,n,i,o){return i.documentReadCount<this.ji?(ja()<=Ne.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(ja()<=Ne.DEBUG&&le("QueryEngine","Query:",po(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(ja()<=Ne.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):G.resolve())}Yi(e,n){if(L_(n))return G.resolve(null);let i=nr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=af(n,null,"F"),i=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ke(...l);return this.Ji.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.ts(n,d);return this.ns(n,_,c,p.readTime)?this.Yi(e,af(n,null,"F")):this.rs(e,_,n,p)}))})))}Zi(e,n,i,o){return L_(n)||o.isEqual(Ie.min())?G.resolve(null):this.Ji.getDocuments(e,i).next(l=>{const c=this.ts(n,l);return this.ns(n,c,i,o)?G.resolve(null):(ja()<=Ne.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.rs(e,c,n,Z1(o,-1)).next(d=>d))})}ts(e,n){let i=new Nt(Gv(e));return n.forEach((o,l)=>{Fc(e,l)&&(i=i.add(l))}),i}ns(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,i){return ja()<=Ne.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",po(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ai.min(),i)}rs(e,n,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,i,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new et(je),this._s=new jo(l=>Bf(l),zf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function CC(t,e,n,i){return new RC(t,e,n,i)}async function g0(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=ke();for(const _ of o){c.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}for(const _ of l){d.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(_=>({hs:_,removedBatchIds:c,addedBatchIds:d}))})})}function PC(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return function(d,p,_,v){const w=_.batch,I=w.keys();let O=G.resolve();return I.forEach(B=>{O=O.next(()=>v.getEntry(p,B)).next($=>{const V=_.docVersions.get(B);ze(V!==null),$.version.compareTo(V)<0&&(w.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),v.addEntry($)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=ke();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(p=p.add(d.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function _0(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function kC(t,e){const n=Se(t),i=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const d=[];e.targetChanges.forEach((v,w)=>{const I=o.get(w);if(!I)return;d.push(n.Ur.removeMatchingKeys(l,v.removedDocuments,w).next(()=>n.Ur.addMatchingKeys(l,v.addedDocuments,w)));let O=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Dt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,i)),o=o.insert(w,O),function($,V,ne){return $.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0}(I,O,v)&&d.push(n.Ur.updateTargetData(l,O))});let p=br(),_=ke();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(xC(l,c,e.documentUpdates).next(v=>{p=v.Ps,_=v.Is})),!i.isEqual(Ie.min())){const v=n.Ur.getLastRemoteSnapshotVersion(l).next(w=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return G.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,_)).next(()=>p)}).then(l=>(n.os=o,l))}function xC(t,e,n){let i=ke(),o=ke();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=br();return n.forEach((d,p)=>{const _=l.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):le("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Ps:c,Is:o}})}function NC(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function OC(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Ur.getTargetData(i,e).next(l=>l?(o=l,G.resolve(o)):n.Ur.allocateTargetId(i).next(c=>(o=new gi(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function df(t,e,n){const i=Se(t),o=i.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!vl(c))throw c;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function W_(t,e,n){const i=Se(t);let o=Ie.min(),l=ke();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,v){const w=Se(p),I=w._s.get(v);return I!==void 0?G.resolve(w.os.get(I)):w.Ur.getTargetData(_,v)}(i,c,nr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.ss.getDocumentsMatchingQuery(c,e,n?o:Ie.min(),n?l:ke())).next(d=>(DC(i,IR(e),d),{documents:d,Ts:l})))}function DC(t,e,n){let i=t.us.get(e)||Ie.min();n.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.us.set(e,i)}class q_{constructor(){this.activeTargetIds=kR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LC{constructor(){this.so=new q_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new q_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function Fd(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class FC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,i,o,l,c){const d=Fd(),p=this.xo(n,i.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${d}:`,p,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,l,c),this.No(n,p,_,o).then(v=>(le("RestConnection",`Received RPC '${n}' ${d}: `,v),v),v=>{throw Co("RestConnection",`RPC '${n}' ${d} failed with error: `,v,"url: ",p,"request:",o),v})}Lo(n,i,o,l,c,d){return this.Mo(n,i,o,l,c)}Oo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>n[c]=l),o&&o.headers.forEach((l,c)=>n[c]=l)}xo(n,i){const o=bC[n];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,o){const l=Fd();return new Promise((c,d)=>{const p=new Nv;p.setWithCredentials(!0),p.listenOnce(Ov.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yu.NO_ERROR:const v=p.getResponseJson();le(Bt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Yu.TIMEOUT:le(Bt,`RPC '${e}' ${l} timed out`),d(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const w=p.getStatus();if(le(Bt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I==null?void 0:I.error;if(O&&O.status&&O.message){const B=function(V){const ne=V.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ne)>=0?ne:Y.UNKNOWN}(O.status);d(new fe(B,O.message))}else d(new fe(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{le(Bt,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);le(Bt,`RPC '${e}' ${l} sending request:`,o),p.send(n,"POST",_,i,15)})}Bo(e,n,i){const o=Fd(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Vv(),d=Lv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=l.join("");le(Bt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=c.createWebChannel(v,p);let I=!1,O=!1;const B=new MC({Io:V=>{O?le(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(I||(le(Bt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),le(Bt,`RPC '${e}' stream ${o} sending:`,V),w.send(V))},To:()=>w.close()}),$=(V,ne,J)=>{V.listen(ne,de=>{try{J(de)}catch(Te){setTimeout(()=>{throw Te},0)}})};return $(w,Ba.EventType.OPEN,()=>{O||(le(Bt,`RPC '${e}' stream ${o} transport opened.`),B.yo())}),$(w,Ba.EventType.CLOSE,()=>{O||(O=!0,le(Bt,`RPC '${e}' stream ${o} transport closed`),B.So())}),$(w,Ba.EventType.ERROR,V=>{O||(O=!0,Co(Bt,`RPC '${e}' stream ${o} transport errored:`,V),B.So(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),$(w,Ba.EventType.MESSAGE,V=>{var ne;if(!O){const J=V.data[0];ze(!!J);const de=J,Te=de.error||((ne=de[0])===null||ne===void 0?void 0:ne.error);if(Te){le(Bt,`RPC '${e}' stream ${o} received error:`,Te);const Ce=Te.status;let Ae=function(C){const x=ut[C];if(x!==void 0)return o0(x)}(Ce),D=Te.message;Ae===void 0&&(Ae=Y.INTERNAL,D="Unknown error status: "+Ce+" with message "+Te.message),O=!0,B.So(new fe(Ae,D)),w.close()}else le(Bt,`RPC '${e}' stream ${o} received:`,J),B.bo(J)}}),$(d,Dv.STAT_EVENT,V=>{V.stat===tf.PROXY?le(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===tf.NOPROXY&&le(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.wo()},0),B}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){return new GR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,i=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,i,o,l,c,d,p){this.ui=e,this.Ho=i,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new y0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===n&&this.P_(i,o)},i=>{e(()=>{const o=new fe(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UC extends v0{constructor(e,n,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=XR(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?ir(c.readTime):Ie.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=hf(this.serializer),n.addTarget=function(l,c){let d;const p=c.target;if(d=of(p)?{documents:eC(l,p)}:{query:tC(l,p)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=u0(l,c.resumeToken);const _=lf(l,c.expectedCount);_!==null&&(d.expectedCount=_)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=mc(l,c.snapshotVersion.toTimestamp());const _=lf(l,c.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const i=rC(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=hf(this.serializer),n.removeTarget=e,this.a_(n)}}class jC extends v0{constructor(e,n,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ZR(e.writeResults,e.commitTime),i=ir(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=hf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>JR(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends class{}{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Mo(e,uf(n,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Y.UNKNOWN,l.toString())})}Lo(e,n,i,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Lo(e,uf(n,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Y.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vr(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o(c=>{i.enqueueAndForget(async()=>{ys(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=Se(p);_.L_.add(4),await Tl(_),_.q_.set("Unknown"),_.L_.delete(4),await $c(_)}(this))})}),this.q_=new zC(i,o)}}async function $c(t){if(ys(t))for(const e of t.B_)await e(!0)}async function Tl(t){for(const e of t.B_)await e(!1)}function E0(t,e){const n=Se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Zf(n)?Jf(n):Bo(n).r_()&&Xf(n,e))}function Yf(t,e){const n=Se(t),i=Bo(n);n.N_.delete(e),i.r_()&&w0(n,e),n.N_.size===0&&(i.r_()?i.o_():ys(n)&&n.q_.set("Unknown"))}function Xf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(t).A_(e)}function w0(t,e){t.Q_.xe(e),Bo(t).R_(e)}function Jf(t){t.Q_=new HR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Bo(t).start(),t.q_.v_()}function Zf(t){return ys(t)&&!Bo(t).n_()&&t.N_.size>0}function ys(t){return Se(t).L_.size===0}function T0(t){t.Q_=void 0}async function HC(t){t.q_.set("Online")}async function WC(t){t.N_.forEach((e,n)=>{Xf(t,e)})}async function qC(t,e){T0(t),Zf(t)?(t.q_.M_(e),Jf(t)):t.q_.set("Unknown")}async function KC(t,e,n){if(t.q_.set("Online"),e instanceof l0&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))}(t,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gc(t,i)}else if(e instanceof Zu?t.Q_.Ke(e):e instanceof a0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ie.min()))try{const i=await _0(t.localStore);n.compareTo(i)>=0&&await function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.N_.get(_);v&&l.N_.set(_,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,_)=>{const v=l.N_.get(p);if(!v)return;l.N_.set(p,v.withResumeToken(Dt.EMPTY_BYTE_STRING,v.snapshotVersion)),w0(l,p);const w=new gi(v.target,p,_,v.sequenceNumber);Xf(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await gc(t,i)}}async function gc(t,e,n){if(!vl(e))throw e;t.L_.add(1),await Tl(t),t.q_.set("Offline"),n||(n=()=>_0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await $c(t)})}function I0(t,e){return e().catch(n=>gc(t,n,e))}async function Hc(t){const e=Se(t),n=Ci(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;GC(e);)try{const o=await NC(e.localStore,i);if(o===null){e.O_.length===0&&n.o_();break}i=o.batchId,QC(e,o)}catch(o){await gc(e,o)}S0(e)&&A0(e)}function GC(t){return ys(t)&&t.O_.length<10}function QC(t,e){t.O_.push(e);const n=Ci(t);n.r_()&&n.V_&&n.m_(e.mutations)}function S0(t){return ys(t)&&!Ci(t).n_()&&t.O_.length>0}function A0(t){Ci(t).start()}async function YC(t){Ci(t).p_()}async function XC(t){const e=Ci(t);for(const n of t.O_)e.m_(n.mutations)}async function JC(t,e,n){const i=t.O_.shift(),o=Hf.from(i,e,n);await I0(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Hc(t)}async function ZC(t,e){e&&Ci(t).V_&&await async function(i,o){if(function(c){return BR(c)&&c!==Y.ABORTED}(o.code)){const l=i.O_.shift();Ci(i).s_(),await I0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Hc(i)}}(t,e),S0(t)&&A0(t)}async function G_(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=ys(n);n.L_.add(3),await Tl(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await $c(n)}async function eP(t,e){const n=Se(t);e?(n.L_.delete(2),await $c(n)):e||(n.L_.add(2),await Tl(n),n.q_.set("Unknown"))}function Bo(t){return t.K_||(t.K_=function(n,i,o){const l=Se(n);return l.w_(),new UC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Eo:HC.bind(null,t),Ro:WC.bind(null,t),mo:qC.bind(null,t),d_:KC.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Zf(t)?Jf(t):t.q_.set("Unknown")):(await t.K_.stop(),T0(t))})),t.K_}function Ci(t){return t.U_||(t.U_=function(n,i,o){const l=Se(n);return l.w_(),new jC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YC.bind(null,t),mo:ZC.bind(null,t),f_:XC.bind(null,t),g_:JC.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hc(t)):(await t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const c=Date.now()+i,d=new ep(e,n,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),vl(t))return new fe(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=za(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new So(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new So;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.W_=new et(ye.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Oo{constructor(e,n,i,o,l,c,d,p,_){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,i,o,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Oo(e,n,So.emptySet(n),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class nP{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const o=Se(n),l=o.queries;o.queries=Y_(),l.forEach((c,d)=>{for(const p of d.j_)p.onError(i)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}}function Y_(){return new jo(t=>Kv(t),Mc)}async function R0(t,e){const n=Se(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(i=2):(l=new tP,i=e.J_()?0:1);try{switch(i){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=tp(c,`Initialization of query '${po(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&np(n)}async function C0(t,e){const n=Se(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function rP(t,e){const n=Se(t);let i=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(o)&&(i=!0);c.z_=o}}i&&np(n)}function iP(t,e,n){const i=Se(t),o=i.queries.get(e);if(o)for(const l of o.j_)l.onError(n);i.queries.delete(e)}function np(t){t.Y_.forEach(e=>{e.next()})}var ff,X_;(X_=ff||(ff={})).ea="default",X_.Cache="cache";class P0{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Oo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.key=e}}class x0{constructor(e){this.key=e}}class sP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=Gv(e),this.Ra=new So(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new Q_,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const I=o.get(v),O=Fc(this.query,w)?w:null,B=!!I&&this.mutatedKeys.has(I.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;I&&O?I.data.isEqual(O.data)?B!==$&&(i.track({type:3,doc:O}),V=!0):this.ga(I,O)||(i.track({type:2,doc:O}),V=!0,(p&&this.Aa(O,p)>0||_&&this.Aa(O,_)<0)&&(d=!0)):!I&&O?(i.track({type:0,doc:O}),V=!0):I&&!O&&(i.track({type:1,doc:I}),V=!0,(p||_)&&(d=!0)),V&&(O?(c=c.add(O),l=$?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Ra:c,fa:i,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort((v,w)=>function(O,B){const $=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return $(O)-$(B)}(v.type,w.type)||this.Aa(v.doc,w.doc)),this.pa(i),o=o!=null&&o;const d=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,_=p!==this.Ea;return this.Ea=p,c.length!==0||_?{snapshot:new Oo(this.query,e.Ra,l,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Q_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new x0(i))}),this.da.forEach(i=>{e.has(i)||n.push(new k0(i))}),n}ba(e){this.Ta=e.Ts,this.da=ke();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class oP{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class aP{constructor(e){this.key=e,this.va=!1}}class lP{constructor(e,n,i,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new jo(d=>Kv(d),Mc),this.Ma=new Map,this.xa=new Set,this.Oa=new et(ye.comparator),this.Na=new Map,this.La=new Kf,this.Ba={},this.ka=new Map,this.qa=No.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function uP(t,e,n=!0){const i=b0(t);let o;const l=i.Fa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await N0(i,e,n,!0),o}async function cP(t,e){const n=b0(t);await N0(n,e,!0,!1)}async function N0(t,e,n,i){const o=await OC(t.localStore,nr(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await hP(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&E0(t.remoteStore,o),d}async function hP(t,e,n,i,o){t.Ka=(w,I,O)=>async function($,V,ne,J){let de=V.view.ma(ne);de.ns&&(de=await W_($.localStore,V.query,!1).then(({documents:D})=>V.view.ma(D,de)));const Te=J&&J.targetChanges.get(V.targetId),Ce=J&&J.targetMismatches.get(V.targetId)!=null,Ae=V.view.applyChanges(de,$.isPrimaryClient,Te,Ce);return Z_($,V.targetId,Ae.wa),Ae.snapshot}(t,w,I,O);const l=await W_(t.localStore,e,!0),c=new sP(e,l.Ts),d=c.ma(l.documents),p=wl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),_=c.applyChanges(d,t.isPrimaryClient,p);Z_(t,n,_.wa);const v=new oP(e,n,c);return t.Fa.set(e,v),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),_.snapshot}async function dP(t,e,n){const i=Se(t),o=i.Fa.get(e),l=i.Ma.get(o.targetId);if(l.length>1)return i.Ma.set(o.targetId,l.filter(c=>!Mc(c,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await df(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Yf(i.remoteStore,o.targetId),pf(i,o.targetId)}).catch(yl)):(pf(i,o.targetId),await df(i.localStore,o.targetId,!0))}async function fP(t,e){const n=Se(t),i=n.Fa.get(e),o=n.Ma.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Yf(n.remoteStore,i.targetId))}async function pP(t,e,n){const i=wP(t);try{const o=await function(c,d){const p=Se(c),_=dt.now(),v=d.reduce((O,B)=>O.add(B.key),ke());let w,I;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let B=br(),$=ke();return p.cs.getEntries(O,v).next(V=>{B=V,B.forEach((ne,J)=>{J.isValidDocument()||($=$.add(ne))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,B)).next(V=>{w=V;const ne=[];for(const J of d){const de=bR(J,w.get(J.key).overlayedDocument);de!=null&&ne.push(new ki(J.key,de,jv(de.value.mapValue),rr.exists(!0)))}return p.mutationQueue.addMutationBatch(O,_,ne,d)}).next(V=>{I=V;const ne=V.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(O,V.batchId,ne)})}).then(()=>({batchId:I.batchId,changes:Yv(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let _=c.Ba[c.currentUser.toKey()];_||(_=new et(je)),_=_.insert(d,p),c.Ba[c.currentUser.toKey()]=_}(i,o.batchId,n),await Il(i,o.changes),await Hc(i.remoteStore)}catch(o){const l=tp(o,"Failed to persist write");n.reject(l)}}async function O0(t,e){const n=Se(t);try{const i=await kC(n.localStore,e);e.targetChanges.forEach((o,l)=>{const c=n.Na.get(l);c&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?ze(c.va):o.removedDocuments.size>0&&(ze(c.va),c.va=!1))}),await Il(n,i,e)}catch(i){await yl(i)}}function J_(t,e,n){const i=Se(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Fa.forEach((l,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Se(c);p.onlineState=d;let _=!1;p.queries.forEach((v,w)=>{for(const I of w.j_)I.Z_(d)&&(_=!0)}),_&&np(p)}(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function mP(t,e,n){const i=Se(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Na.get(e),l=o&&o.key;if(l){let c=new et(ye.comparator);c=c.insert(l,$t.newNoDocument(l,Ie.min()));const d=ke().add(l),p=new Bc(Ie.min(),new Map,new et(je),c,d);await O0(i,p),i.Oa=i.Oa.remove(l),i.Na.delete(e),rp(i)}else await df(i.localStore,e,!1).then(()=>pf(i,e,n)).catch(yl)}async function gP(t,e){const n=Se(t),i=e.batch.batchId;try{const o=await PC(n.localStore,e);L0(n,i,null),D0(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Il(n,o)}catch(o){await yl(o)}}async function _P(t,e,n){const i=Se(t);try{const o=await function(c,d){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return p.mutationQueue.lookupMutationBatch(_,d).next(w=>(ze(w!==null),v=w.keys(),p.mutationQueue.removeMutationBatch(_,w))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>p.localDocuments.getDocuments(_,v))})}(i.localStore,e);L0(i,e,n),D0(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Il(i,o)}catch(o){await yl(o)}}function D0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function L0(t,e,n){const i=Se(t);let o=i.Ba[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function pf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||V0(t,i)})}function V0(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Yf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),rp(t))}function Z_(t,e,n){for(const i of n)i instanceof k0?(t.La.addReference(i.key,e),yP(t,i)):i instanceof x0?(le("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||V0(t,i.key)):we()}function yP(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(i),rp(t))}function rp(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(nt.fromString(e)),i=t.qa.next();t.Na.set(i,new aP(n)),t.Oa=t.Oa.insert(n,i),E0(t.remoteStore,new gi(nr(bc(n.path)),i,"TargetPurposeLimboResolution",Mf.oe))}}async function Il(t,e,n){const i=Se(t),o=[],l=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach((d,p)=>{c.push(i.Ka(p,e,n).then(_=>{var v;if((_||n)&&i.isPrimaryClient){const w=_?!_.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(_){o.push(_);const w=Qf.Wi(p.targetId,_);l.push(w)}}))}),await Promise.all(c),i.Ca.d_(o),await async function(p,_){const v=Se(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>G.forEach(_,I=>G.forEach(I.$i,O=>v.persistence.referenceDelegate.addReference(w,I.targetId,O)).next(()=>G.forEach(I.Ui,O=>v.persistence.referenceDelegate.removeReference(w,I.targetId,O)))))}catch(w){if(!vl(w))throw w;le("LocalStore","Failed to update sequence numbers: "+w)}for(const w of _){const I=w.targetId;if(!w.fromCache){const O=v.os.get(I),B=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(B);v.os=v.os.insert(I,$)}}}(i.localStore,l))}async function vP(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await g0(n.localStore,e);n.currentUser=e,function(l,c){l.ka.forEach(d=>{d.forEach(p=>{p.reject(new fe(Y.CANCELLED,c))})}),l.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Il(n,i.hs)}}function EP(t,e){const n=Se(t),i=n.Na.get(e);if(i&&i.va)return ke().add(i.key);{let o=ke();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const d=n.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function b0(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=O0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mP.bind(null,e),e.Ca.d_=rP.bind(null,e.eventManager),e.Ca.$a=iP.bind(null,e.eventManager),e}function wP(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_P.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return CC(this.persistence,new AC,e.initialUser,this.serializer)}Ga(e){return new TC(Gf.Zr,this.serializer)}Wa(e){return new LC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class mf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>J_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vP.bind(null,this.syncEngine),await eP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nP}()}createDatastore(e){const n=zc(e.databaseInfo.databaseId),i=function(l){return new FC(l)}(e.databaseInfo);return function(l,c,d,p){return new BC(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,l,c,d){return new $C(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>J_(this.syncEngine,n,0),function(){return K_.D()?new K_:new VC}())}createSyncEngine(e,n){return function(o,l,c,d,p,_,v){const w=new lP(o,l,c,d,p,_);return v&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const l=Se(o);le("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Tl(l),l.k_.shutdown(),l.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mf.provider={build:()=>new mf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=Mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{le("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=tp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function jd(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await g0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ey(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IP(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>G_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>G_(e.remoteStore,o)),t._onlineComponents=e}async function IP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await jd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await jd(t,new _c)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await jd(t,new _c);return t._offlineComponents}async function F0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await ey(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await ey(t,new mf))),t._onlineComponents}function SP(t){return F0(t).then(e=>e.syncEngine)}async function gf(t){const e=await F0(t),n=e.eventManager;return n.onListen=uP.bind(null,e.syncEngine),n.onUnlisten=dP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fP.bind(null,e.syncEngine),n}function AP(t,e,n={}){const i=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const v=new M0({next:I=>{v.Za(),c.enqueueAndForget(()=>C0(l,w));const O=I.docs.has(d);!O&&I.fromCache?_.reject(new fe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&p&&p.source==="server"?_.reject(new fe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),w=new P0(bc(d.path),v,{includeMetadataChanges:!0,_a:!0});return R0(l,w)}(await gf(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e,n){if(!n)throw new fe(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CP(t,e,n,i){if(e===!0&&i===!0)throw new fe(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ny(t){if(!ye.isDocumentKey(t))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ip(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(t);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sp{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ry({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ry(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new H1;switch(i.type){case"firstParty":return new G1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=ty.get(n);i&&(le("ComponentProvider","Removing Datastore"),ty.delete(n),i.terminate())}(this),Promise.resolve()}}function PP(t,e,n,i={}){var o;const l=(t=sr(t,sp))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=zt.MOCK_USER;else{d=EI(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zt(_)}t._authCredentials=new W1(new bv(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wc(this.firestore,e,this._query)}}class un{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class ol extends Wc{constructor(e,n,i){super(e,n,bc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new ye(e))}withConverter(e){return new ol(this.firestore,e,this._path)}}function zo(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=Mv.newId()),RP("doc","path",e),t instanceof sp){const i=nt.fromString(e,...n);return ny(i),new un(t,null,new ye(i))}{if(!(t instanceof un||t instanceof ol))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(nt.fromString(e,...n));return ny(i),new un(t.firestore,t instanceof ol?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new y0(this,"async_queue_retry"),this.Vu=()=>{const i=Ud();i&&le("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Ud();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new wi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vl(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Vr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=ep.createAndSchedule(this,e,n,i,l=>this.yu(l));return this.Tu.push(o),o}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function sy(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Do extends sp{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new iy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iy(e),this._firestoreClient=void 0,await e}}}function kP(t,e){const n=typeof t=="object"?t:Ky(),i=typeof t=="string"?t:"(default)",o=Cf(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=yI("firestore");l&&PP(o,...l)}return o}function op(t){if(t._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xP(t),t._firestoreClient}function xP(t){var e,n,i;const o=t._freezeSettings(),l=function(d,p,_,v){return new aR(d,p,_,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,U0(v.experimentalLongPollingOptions),v.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new TP(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(Dt.fromBase64String(e))}catch(n){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^__.*__$/;class OP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new El(e,this.data,n,this.fieldTransforms)}}class j0{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ki(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function B0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class cp{constructor(e,n,i,o,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(B0(this.Cu)&&NP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class DP{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||zc(e)}Qu(e,n,i,o=!1){return new cp({Cu:e,methodName:n,qu:i,path:xt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z0(t){const e=t._freezeSettings(),n=zc(t._databaseId);return new DP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LP(t,e,n,i,o,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,o);hp("Data must be an object, but it was:",c,i);const d=$0(i,c);let p,_;if(l.merge)p=new _n(c.fieldMask),_=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const I=_f(e,w,n);if(!c.contains(I))throw new fe(Y.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);W0(v,I)||v.push(I)}p=new _n(v),_=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,_=c.fieldTransforms;return new OP(new an(d),p,_)}class Sl extends ap{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sl}}function VP(t,e,n,i){const o=t.Qu(1,e,n);hp("Data must be an object, but it was:",o,i);const l=[],c=an.empty();_s(i,(p,_)=>{const v=dp(e,p,n);_=Wt(_);const w=o.Nu(v);if(_ instanceof Sl)l.push(v);else{const I=Kc(_,w);I!=null&&(l.push(v),c.set(v,I))}});const d=new _n(l);return new j0(c,d,o.fieldTransforms)}function bP(t,e,n,i,o,l){const c=t.Qu(1,e,n),d=[_f(e,i,n)],p=[o];if(l.length%2!=0)throw new fe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(_f(e,l[I])),p.push(l[I+1]);const _=[],v=an.empty();for(let I=d.length-1;I>=0;--I)if(!W0(_,d[I])){const O=d[I];let B=p[I];B=Wt(B);const $=c.Nu(O);if(B instanceof Sl)_.push(O);else{const V=Kc(B,$);V!=null&&(_.push(O),v.set(O,V))}}const w=new _n(_);return new j0(v,w,c.fieldTransforms)}function Kc(t,e){if(H0(t=Wt(t)))return hp("Unsupported field value:",e,t),$0(t,e);if(t instanceof ap)return function(i,o){if(!B0(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let p=Kc(d,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,o){if((i=Wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=dt.fromDate(i);return{timestampValue:mc(o.serializer,l)}}if(i instanceof dt){const l=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mc(o.serializer,l)}}if(i instanceof lp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Lo)return{bytesValue:u0(o.serializer,i._byteString)};if(i instanceof un){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof up)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Bu("VectorValues must only contain numeric values.");return $f(d.serializer,p)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${ip(i)}`)}(t,e)}function $0(t,e){const n={};return Fv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(i,o)=>{const l=Kc(o,e.Mu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function H0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof lp||t instanceof Lo||t instanceof un||t instanceof ap||t instanceof up)}function hp(t,e,n){if(!H0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=ip(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function _f(t,e,n){if((e=Wt(e))instanceof qc)return e._internalPath;if(typeof e=="string")return dp(t,e);throw yc("Field path arguments must be of type string or ",t,!1,void 0,n)}const MP=new RegExp("[~\\*/\\[\\]]");function dp(t,e,n){if(e.search(MP)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qc(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yc(t,e,n,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new fe(Y.INVALID_ARGUMENT,d+t+p)}function W0(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(K0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FP extends q0{data(){return super.data()}}function K0(t,e){return typeof e=="string"?dp(t,e):e instanceof qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jP{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return _s(e,(o,l)=>{i[o]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,o;const l=(o=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ot(c.doubleValue));return new up(l)}convertGeoPoint(e){return new lp(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Uf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=nt.fromString(e);ze(m0(i));const o=new nl(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(n)||Vr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G0 extends q0{constructor(e,n,i,o,l,c){super(e,n,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(K0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ec extends G0{data(e={}){return super.data(e)}}class zP{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ha(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ec(this._firestore,this._userDataWriter,i.key,i,new Ha(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new ec(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ha(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new ec(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ha(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,v=-1;return d.type!==0&&(_=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:$P(d.type),doc:p,oldIndex:_,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $P(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t){t=sr(t,un);const e=sr(t.firestore,Do);return AP(op(e),t._key).then(n=>Z0(e,t,n))}class Q0 extends jP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function Y0(t,e,n){t=sr(t,un);const i=sr(t.firestore,Do),o=BP(t.converter,e);return J0(i,[LP(z0(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,rr.none())])}function X0(t,e,n,...i){t=sr(t,un);const o=sr(t.firestore,Do),l=z0(o);let c;return c=typeof(e=Wt(e))=="string"||e instanceof qc?bP(l,"updateDoc",t._key,e,n,i):VP(l,"updateDoc",t._key,e),J0(o,[c.toMutation(t._key,rr.exists(!0))])}function HP(t,...e){var n,i,o;t=Wt(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||sy(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(sy(e[c])){const w=e[c];e[c]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[c+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[c+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,_,v;if(t instanceof un)_=sr(t.firestore,Do),v=bc(t._key.path),p={next:w=>{e[c]&&e[c](Z0(_,t,w))},error:e[c+1],complete:e[c+2]};else{const w=sr(t,Wc);_=sr(w.firestore,Do),v=w._query;const I=new Q0(_);p={next:O=>{e[c]&&e[c](new zP(_,I,w,O))},error:e[c+1],complete:e[c+2]},UP(t._query)}return function(I,O,B,$){const V=new M0($),ne=new P0(O,V,B);return I.asyncQueue.enqueueAndForget(async()=>R0(await gf(I),ne)),()=>{V.Za(),I.asyncQueue.enqueueAndForget(async()=>C0(await gf(I),ne))}}(op(_),v,d,p)}function J0(t,e){return function(i,o){const l=new wi;return i.asyncQueue.enqueueAndForget(async()=>pP(await SP(i),o,l)),l.promise}(op(t),e)}function Z0(t,e,n){const i=n.docs.get(e._key),o=new Q0(t);return new G0(t,o,e._key,i,new Ha(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(){return new Sl("deleteField")}(function(e,n=!0){(function(o){Uo=o})(Fo),Ao(new us("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Do(new q1(i.getProvider("auth-internal")),new Y1(i.getProvider("app-check-internal")),function(_,v){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(_.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),vi(S_,"4.7.3",e),vi(S_,"4.7.3","esm2017")})();var qP="firebase",KP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(qP,KP,"app");const GP={apiKey:"AIzaSyDD-XIMemNnz9ILk92MOM30-_TmmDNiKug",authDomain:"auction-thesis-webapp.firebaseapp.com",databaseURL:"https://auction-thesis-webapp-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"auction-thesis-webapp",storageBucket:"auction-thesis-webapp.firebasestorage.app",messagingSenderId:"223138678351",appId:"1:223138678351:web:53ae03d27a1d19a3e38c3a"},eE=qy(GP),$o=kP(eE),Vo=z1(eE),QP=()=>{const[t,e]=Q.useState(null),[n,i]=Q.useState(!1);return Q.useEffect(()=>{const o=vv(Vo,l=>{if(l&&l.displayName){console.debug(`Signed-in: name=${l.displayName}, uid=${l.uid}`),e(l);const c=zo($o,"users",l.uid);fp(c).then(d=>{d.exists()&&d.data().admin&&(console.debug("User is admin"),i(!0))})}else SA(Vo)});return()=>o()},[]),{user:t,admin:n}};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function tE(t){return typeof t>"u"||t===null}function YP(t){return typeof t=="object"&&t!==null}function XP(t){return Array.isArray(t)?t:tE(t)?[]:[t]}function JP(t,e){var n,i,o,l;if(e)for(l=Object.keys(e),n=0,i=l.length;n<i;n+=1)o=l[n],t[o]=e[o];return t}function ZP(t,e){var n="",i;for(i=0;i<e;i+=1)n+=t;return n}function ek(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var tk=tE,nk=YP,rk=XP,ik=ZP,sk=ek,ok=JP,vt={isNothing:tk,isObject:nk,toArray:rk,repeat:ik,isNegativeZero:sk,extend:ok};function nE(t,e){var n="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),i+" "+n):i}function al(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=nE(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}al.prototype=Object.create(Error.prototype);al.prototype.constructor=al;al.prototype.toString=function(e){return this.name+": "+nE(this,e)};var Xt=al;function Bd(t,e,n,i,o){var l="",c="",d=Math.floor(o/2)-1;return i-e>d&&(l=" ... ",e=i-d+l.length),n-i>d&&(c=" ...",n=i+d-c.length),{str:l+t.slice(e,n).replace(/\t/g,"")+c,pos:i-e+l.length}}function zd(t,e){return vt.repeat(" ",e-t.length)+t}function ak(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],o=[],l,c=-1;l=n.exec(t.buffer);)o.push(l.index),i.push(l.index+l[0].length),t.position<=l.index&&c<0&&(c=i.length-2);c<0&&(c=i.length-1);var d="",p,_,v=Math.min(t.line+e.linesAfter,o.length).toString().length,w=e.maxLength-(e.indent+v+3);for(p=1;p<=e.linesBefore&&!(c-p<0);p++)_=Bd(t.buffer,i[c-p],o[c-p],t.position-(i[c]-i[c-p]),w),d=vt.repeat(" ",e.indent)+zd((t.line-p+1).toString(),v)+" | "+_.str+`
`+d;for(_=Bd(t.buffer,i[c],o[c],t.position,w),d+=vt.repeat(" ",e.indent)+zd((t.line+1).toString(),v)+" | "+_.str+`
`,d+=vt.repeat("-",e.indent+v+3+_.pos)+`^
`,p=1;p<=e.linesAfter&&!(c+p>=o.length);p++)_=Bd(t.buffer,i[c+p],o[c+p],t.position-(i[c]-i[c+p]),w),d+=vt.repeat(" ",e.indent)+zd((t.line+p+1).toString(),v)+" | "+_.str+`
`;return d.replace(/\n$/,"")}var lk=ak,uk=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ck=["scalar","sequence","mapping"];function hk(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(i){e[String(i)]=n})}),e}function dk(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(uk.indexOf(n)===-1)throw new Xt('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=hk(e.styleAliases||null),ck.indexOf(this.kind)===-1)throw new Xt('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Ot=dk;function oy(t,e){var n=[];return t[e].forEach(function(i){var o=n.length;n.forEach(function(l,c){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(o=c)}),n[o]=i}),n}function fk(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function i(o){o.multi?(t.multi[o.kind].push(o),t.multi.fallback.push(o)):t[o.kind][o.tag]=t.fallback[o.tag]=o}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(i);return t}function yf(t){return this.extend(t)}yf.prototype.extend=function(e){var n=[],i=[];if(e instanceof Ot)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new Xt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(l){if(!(l instanceof Ot))throw new Xt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new Xt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new Xt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof Ot))throw new Xt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(yf.prototype);return o.implicit=(this.implicit||[]).concat(n),o.explicit=(this.explicit||[]).concat(i),o.compiledImplicit=oy(o,"implicit"),o.compiledExplicit=oy(o,"explicit"),o.compiledTypeMap=fk(o.compiledImplicit,o.compiledExplicit),o};var rE=yf,iE=new Ot("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),sE=new Ot("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),oE=new Ot("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),aE=new rE({explicit:[iE,sE,oE]});function pk(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function mk(){return null}function gk(t){return t===null}var lE=new Ot("tag:yaml.org,2002:null",{kind:"scalar",resolve:pk,construct:mk,predicate:gk,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function _k(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function yk(t){return t==="true"||t==="True"||t==="TRUE"}function vk(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var uE=new Ot("tag:yaml.org,2002:bool",{kind:"scalar",resolve:_k,construct:yk,predicate:vk,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Ek(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function wk(t){return 48<=t&&t<=55}function Tk(t){return 48<=t&&t<=57}function Ik(t){if(t===null)return!1;var e=t.length,n=0,i=!1,o;if(!e)return!1;if(o=t[n],(o==="-"||o==="+")&&(o=t[++n]),o==="0"){if(n+1===e)return!0;if(o=t[++n],o==="b"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(o!=="0"&&o!=="1")return!1;i=!0}return i&&o!=="_"}if(o==="x"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(!Ek(t.charCodeAt(n)))return!1;i=!0}return i&&o!=="_"}if(o==="o"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(!wk(t.charCodeAt(n)))return!1;i=!0}return i&&o!=="_"}}if(o==="_")return!1;for(;n<e;n++)if(o=t[n],o!=="_"){if(!Tk(t.charCodeAt(n)))return!1;i=!0}return!(!i||o==="_")}function Sk(t){var e=t,n=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function Ak(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!vt.isNegativeZero(t)}var cE=new Ot("tag:yaml.org,2002:int",{kind:"scalar",resolve:Ik,construct:Sk,predicate:Ak,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Rk=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Ck(t){return!(t===null||!Rk.test(t)||t[t.length-1]==="_")}function Pk(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var kk=/^[-+]?[0-9]+e/;function xk(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(vt.isNegativeZero(t))return"-0.0";return n=t.toString(10),kk.test(n)?n.replace("e",".e"):n}function Nk(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||vt.isNegativeZero(t))}var hE=new Ot("tag:yaml.org,2002:float",{kind:"scalar",resolve:Ck,construct:Pk,predicate:Nk,represent:xk,defaultStyle:"lowercase"}),dE=aE.extend({implicit:[lE,uE,cE,hE]}),fE=dE,pE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),mE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ok(t){return t===null?!1:pE.exec(t)!==null||mE.exec(t)!==null}function Dk(t){var e,n,i,o,l,c,d,p=0,_=null,v,w,I;if(e=pE.exec(t),e===null&&(e=mE.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,o=+e[3],!e[4])return new Date(Date.UTC(n,i,o));if(l=+e[4],c=+e[5],d=+e[6],e[7]){for(p=e[7].slice(0,3);p.length<3;)p+="0";p=+p}return e[9]&&(v=+e[10],w=+(e[11]||0),_=(v*60+w)*6e4,e[9]==="-"&&(_=-_)),I=new Date(Date.UTC(n,i,o,l,c,d,p)),_&&I.setTime(I.getTime()-_),I}function Lk(t){return t.toISOString()}var gE=new Ot("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ok,construct:Dk,instanceOf:Date,represent:Lk});function Vk(t){return t==="<<"||t===null}var _E=new Ot("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Vk}),pp=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function bk(t){if(t===null)return!1;var e,n,i=0,o=t.length,l=pp;for(n=0;n<o;n++)if(e=l.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function Mk(t){var e,n,i=t.replace(/[\r\n=]/g,""),o=i.length,l=pp,c=0,d=[];for(e=0;e<o;e++)e%4===0&&e&&(d.push(c>>16&255),d.push(c>>8&255),d.push(c&255)),c=c<<6|l.indexOf(i.charAt(e));return n=o%4*6,n===0?(d.push(c>>16&255),d.push(c>>8&255),d.push(c&255)):n===18?(d.push(c>>10&255),d.push(c>>2&255)):n===12&&d.push(c>>4&255),new Uint8Array(d)}function Fk(t){var e="",n=0,i,o,l=t.length,c=pp;for(i=0;i<l;i++)i%3===0&&i&&(e+=c[n>>18&63],e+=c[n>>12&63],e+=c[n>>6&63],e+=c[n&63]),n=(n<<8)+t[i];return o=l%3,o===0?(e+=c[n>>18&63],e+=c[n>>12&63],e+=c[n>>6&63],e+=c[n&63]):o===2?(e+=c[n>>10&63],e+=c[n>>4&63],e+=c[n<<2&63],e+=c[64]):o===1&&(e+=c[n>>2&63],e+=c[n<<4&63],e+=c[64],e+=c[64]),e}function Uk(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var yE=new Ot("tag:yaml.org,2002:binary",{kind:"scalar",resolve:bk,construct:Mk,predicate:Uk,represent:Fk}),jk=Object.prototype.hasOwnProperty,Bk=Object.prototype.toString;function zk(t){if(t===null)return!0;var e=[],n,i,o,l,c,d=t;for(n=0,i=d.length;n<i;n+=1){if(o=d[n],c=!1,Bk.call(o)!=="[object Object]")return!1;for(l in o)if(jk.call(o,l))if(!c)c=!0;else return!1;if(!c)return!1;if(e.indexOf(l)===-1)e.push(l);else return!1}return!0}function $k(t){return t!==null?t:[]}var vE=new Ot("tag:yaml.org,2002:omap",{kind:"sequence",resolve:zk,construct:$k}),Hk=Object.prototype.toString;function Wk(t){if(t===null)return!0;var e,n,i,o,l,c=t;for(l=new Array(c.length),e=0,n=c.length;e<n;e+=1){if(i=c[e],Hk.call(i)!=="[object Object]"||(o=Object.keys(i),o.length!==1))return!1;l[e]=[o[0],i[o[0]]]}return!0}function qk(t){if(t===null)return[];var e,n,i,o,l,c=t;for(l=new Array(c.length),e=0,n=c.length;e<n;e+=1)i=c[e],o=Object.keys(i),l[e]=[o[0],i[o[0]]];return l}var EE=new Ot("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Wk,construct:qk}),Kk=Object.prototype.hasOwnProperty;function Gk(t){if(t===null)return!0;var e,n=t;for(e in n)if(Kk.call(n,e)&&n[e]!==null)return!1;return!0}function Qk(t){return t!==null?t:{}}var wE=new Ot("tag:yaml.org,2002:set",{kind:"mapping",resolve:Gk,construct:Qk}),mp=fE.extend({implicit:[gE,_E],explicit:[yE,vE,EE,wE]}),Pi=Object.prototype.hasOwnProperty,vc=1,TE=2,IE=3,Ec=4,$d=1,Yk=2,ay=3,Xk=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Jk=/[\x85\u2028\u2029]/,Zk=/[,\[\]\{\}]/,SE=/^(?:!|!!|![a-z\-]+!)$/i,AE=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ly(t){return Object.prototype.toString.call(t)}function or(t){return t===10||t===13}function ls(t){return t===9||t===32}function ln(t){return t===9||t===32||t===10||t===13}function vo(t){return t===44||t===91||t===93||t===123||t===125}function ex(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function tx(t){return t===120?2:t===117?4:t===85?8:0}function nx(t){return 48<=t&&t<=57?t-48:-1}function uy(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}function rx(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var RE=new Array(256),CE=new Array(256);for(var fo=0;fo<256;fo++)RE[fo]=uy(fo)?1:0,CE[fo]=uy(fo);function ix(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||mp,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function PE(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=lk(n),new Xt(e,n)}function he(t,e){throw PE(t,e)}function wc(t,e){t.onWarning&&t.onWarning.call(null,PE(t,e))}var cy={YAML:function(e,n,i){var o,l,c;e.version!==null&&he(e,"duplication of %YAML directive"),i.length!==1&&he(e,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),o===null&&he(e,"ill-formed argument of the YAML directive"),l=parseInt(o[1],10),c=parseInt(o[2],10),l!==1&&he(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=c<2,c!==1&&c!==2&&wc(e,"unsupported YAML version of the document")},TAG:function(e,n,i){var o,l;i.length!==2&&he(e,"TAG directive accepts exactly two arguments"),o=i[0],l=i[1],SE.test(o)||he(e,"ill-formed tag handle (first argument) of the TAG directive"),Pi.call(e.tagMap,o)&&he(e,'there is a previously declared suffix for "'+o+'" tag handle'),AE.test(l)||he(e,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{he(e,"tag prefix is malformed: "+l)}e.tagMap[o]=l}};function Ti(t,e,n,i){var o,l,c,d;if(e<n){if(d=t.input.slice(e,n),i)for(o=0,l=d.length;o<l;o+=1)c=d.charCodeAt(o),c===9||32<=c&&c<=1114111||he(t,"expected valid JSON character");else Xk.test(d)&&he(t,"the stream contains non-printable characters");t.result+=d}}function hy(t,e,n,i){var o,l,c,d;for(vt.isObject(n)||he(t,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),c=0,d=o.length;c<d;c+=1)l=o[c],Pi.call(e,l)||(e[l]=n[l],i[l]=!0)}function Eo(t,e,n,i,o,l,c,d,p){var _,v;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),_=0,v=o.length;_<v;_+=1)Array.isArray(o[_])&&he(t,"nested arrays are not supported inside keys"),typeof o=="object"&&ly(o[_])==="[object Object]"&&(o[_]="[object Object]");if(typeof o=="object"&&ly(o)==="[object Object]"&&(o="[object Object]"),o=String(o),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(_=0,v=l.length;_<v;_+=1)hy(t,e,l[_],n);else hy(t,e,l,n);else!t.json&&!Pi.call(n,o)&&Pi.call(e,o)&&(t.line=c||t.line,t.lineStart=d||t.lineStart,t.position=p||t.position,he(t,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(e,o,{configurable:!0,enumerable:!0,writable:!0,value:l}):e[o]=l,delete n[o];return e}function gp(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):he(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function ct(t,e,n){for(var i=0,o=t.input.charCodeAt(t.position);o!==0;){for(;ls(o);)o===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),o=t.input.charCodeAt(++t.position);if(e&&o===35)do o=t.input.charCodeAt(++t.position);while(o!==10&&o!==13&&o!==0);if(or(o))for(gp(t),o=t.input.charCodeAt(t.position),i++,t.lineIndent=0;o===32;)t.lineIndent++,o=t.input.charCodeAt(++t.position);else break}return n!==-1&&i!==0&&t.lineIndent<n&&wc(t,"deficient indentation"),i}function Gc(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||ln(n)))}function _p(t,e){e===1?t.result+=" ":e>1&&(t.result+=vt.repeat(`
`,e-1))}function sx(t,e,n){var i,o,l,c,d,p,_,v,w=t.kind,I=t.result,O;if(O=t.input.charCodeAt(t.position),ln(O)||vo(O)||O===35||O===38||O===42||O===33||O===124||O===62||O===39||O===34||O===37||O===64||O===96||(O===63||O===45)&&(o=t.input.charCodeAt(t.position+1),ln(o)||n&&vo(o)))return!1;for(t.kind="scalar",t.result="",l=c=t.position,d=!1;O!==0;){if(O===58){if(o=t.input.charCodeAt(t.position+1),ln(o)||n&&vo(o))break}else if(O===35){if(i=t.input.charCodeAt(t.position-1),ln(i))break}else{if(t.position===t.lineStart&&Gc(t)||n&&vo(O))break;if(or(O))if(p=t.line,_=t.lineStart,v=t.lineIndent,ct(t,!1,-1),t.lineIndent>=e){d=!0,O=t.input.charCodeAt(t.position);continue}else{t.position=c,t.line=p,t.lineStart=_,t.lineIndent=v;break}}d&&(Ti(t,l,c,!1),_p(t,t.line-p),l=c=t.position,d=!1),ls(O)||(c=t.position+1),O=t.input.charCodeAt(++t.position)}return Ti(t,l,c,!1),t.result?!0:(t.kind=w,t.result=I,!1)}function ox(t,e){var n,i,o;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=o=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Ti(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)i=t.position,t.position++,o=t.position;else return!0;else or(n)?(Ti(t,i,o,!0),_p(t,ct(t,!1,e)),i=o=t.position):t.position===t.lineStart&&Gc(t)?he(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);he(t,"unexpected end of the stream within a single quoted scalar")}function ax(t,e){var n,i,o,l,c,d;if(d=t.input.charCodeAt(t.position),d!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(d=t.input.charCodeAt(t.position))!==0;){if(d===34)return Ti(t,n,t.position,!0),t.position++,!0;if(d===92){if(Ti(t,n,t.position,!0),d=t.input.charCodeAt(++t.position),or(d))ct(t,!1,e);else if(d<256&&RE[d])t.result+=CE[d],t.position++;else if((c=tx(d))>0){for(o=c,l=0;o>0;o--)d=t.input.charCodeAt(++t.position),(c=ex(d))>=0?l=(l<<4)+c:he(t,"expected hexadecimal character");t.result+=rx(l),t.position++}else he(t,"unknown escape sequence");n=i=t.position}else or(d)?(Ti(t,n,i,!0),_p(t,ct(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Gc(t)?he(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}he(t,"unexpected end of the stream within a double quoted scalar")}function lx(t,e){var n=!0,i,o,l,c=t.tag,d,p=t.anchor,_,v,w,I,O,B=Object.create(null),$,V,ne,J;if(J=t.input.charCodeAt(t.position),J===91)v=93,O=!1,d=[];else if(J===123)v=125,O=!0,d={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),J=t.input.charCodeAt(++t.position);J!==0;){if(ct(t,!0,e),J=t.input.charCodeAt(t.position),J===v)return t.position++,t.tag=c,t.anchor=p,t.kind=O?"mapping":"sequence",t.result=d,!0;n?J===44&&he(t,"expected the node content, but found ','"):he(t,"missed comma between flow collection entries"),V=$=ne=null,w=I=!1,J===63&&(_=t.input.charCodeAt(t.position+1),ln(_)&&(w=I=!0,t.position++,ct(t,!0,e))),i=t.line,o=t.lineStart,l=t.position,bo(t,e,vc,!1,!0),V=t.tag,$=t.result,ct(t,!0,e),J=t.input.charCodeAt(t.position),(I||t.line===i)&&J===58&&(w=!0,J=t.input.charCodeAt(++t.position),ct(t,!0,e),bo(t,e,vc,!1,!0),ne=t.result),O?Eo(t,d,B,V,$,ne,i,o,l):w?d.push(Eo(t,null,B,V,$,ne,i,o,l)):d.push($),ct(t,!0,e),J=t.input.charCodeAt(t.position),J===44?(n=!0,J=t.input.charCodeAt(++t.position)):n=!1}he(t,"unexpected end of the stream within a flow collection")}function ux(t,e){var n,i,o=$d,l=!1,c=!1,d=e,p=0,_=!1,v,w;if(w=t.input.charCodeAt(t.position),w===124)i=!1;else if(w===62)i=!0;else return!1;for(t.kind="scalar",t.result="";w!==0;)if(w=t.input.charCodeAt(++t.position),w===43||w===45)$d===o?o=w===43?ay:Yk:he(t,"repeat of a chomping mode identifier");else if((v=nx(w))>=0)v===0?he(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?he(t,"repeat of an indentation width identifier"):(d=e+v-1,c=!0);else break;if(ls(w)){do w=t.input.charCodeAt(++t.position);while(ls(w));if(w===35)do w=t.input.charCodeAt(++t.position);while(!or(w)&&w!==0)}for(;w!==0;){for(gp(t),t.lineIndent=0,w=t.input.charCodeAt(t.position);(!c||t.lineIndent<d)&&w===32;)t.lineIndent++,w=t.input.charCodeAt(++t.position);if(!c&&t.lineIndent>d&&(d=t.lineIndent),or(w)){p++;continue}if(t.lineIndent<d){o===ay?t.result+=vt.repeat(`
`,l?1+p:p):o===$d&&l&&(t.result+=`
`);break}for(i?ls(w)?(_=!0,t.result+=vt.repeat(`
`,l?1+p:p)):_?(_=!1,t.result+=vt.repeat(`
`,p+1)):p===0?l&&(t.result+=" "):t.result+=vt.repeat(`
`,p):t.result+=vt.repeat(`
`,l?1+p:p),l=!0,c=!0,p=0,n=t.position;!or(w)&&w!==0;)w=t.input.charCodeAt(++t.position);Ti(t,n,t.position,!1)}return!0}function dy(t,e){var n,i=t.tag,o=t.anchor,l=[],c,d=!1,p;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),p=t.input.charCodeAt(t.position);p!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,he(t,"tab characters must not be used in indentation")),!(p!==45||(c=t.input.charCodeAt(t.position+1),!ln(c))));){if(d=!0,t.position++,ct(t,!0,-1)&&t.lineIndent<=e){l.push(null),p=t.input.charCodeAt(t.position);continue}if(n=t.line,bo(t,e,IE,!1,!0),l.push(t.result),ct(t,!0,-1),p=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&p!==0)he(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return d?(t.tag=i,t.anchor=o,t.kind="sequence",t.result=l,!0):!1}function cx(t,e,n){var i,o,l,c,d,p,_=t.tag,v=t.anchor,w={},I=Object.create(null),O=null,B=null,$=null,V=!1,ne=!1,J;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=w),J=t.input.charCodeAt(t.position);J!==0;){if(!V&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,he(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),l=t.line,(J===63||J===58)&&ln(i))J===63?(V&&(Eo(t,w,I,O,B,null,c,d,p),O=B=$=null),ne=!0,V=!0,o=!0):V?(V=!1,o=!0):he(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,J=i;else{if(c=t.line,d=t.lineStart,p=t.position,!bo(t,n,TE,!1,!0))break;if(t.line===l){for(J=t.input.charCodeAt(t.position);ls(J);)J=t.input.charCodeAt(++t.position);if(J===58)J=t.input.charCodeAt(++t.position),ln(J)||he(t,"a whitespace character is expected after the key-value separator within a block mapping"),V&&(Eo(t,w,I,O,B,null,c,d,p),O=B=$=null),ne=!0,V=!1,o=!1,O=t.tag,B=t.result;else if(ne)he(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=_,t.anchor=v,!0}else if(ne)he(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=_,t.anchor=v,!0}if((t.line===l||t.lineIndent>e)&&(V&&(c=t.line,d=t.lineStart,p=t.position),bo(t,e,Ec,!0,o)&&(V?B=t.result:$=t.result),V||(Eo(t,w,I,O,B,$,c,d,p),O=B=$=null),ct(t,!0,-1),J=t.input.charCodeAt(t.position)),(t.line===l||t.lineIndent>e)&&J!==0)he(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return V&&Eo(t,w,I,O,B,null,c,d,p),ne&&(t.tag=_,t.anchor=v,t.kind="mapping",t.result=w),ne}function hx(t){var e,n=!1,i=!1,o,l,c;if(c=t.input.charCodeAt(t.position),c!==33)return!1;if(t.tag!==null&&he(t,"duplication of a tag property"),c=t.input.charCodeAt(++t.position),c===60?(n=!0,c=t.input.charCodeAt(++t.position)):c===33?(i=!0,o="!!",c=t.input.charCodeAt(++t.position)):o="!",e=t.position,n){do c=t.input.charCodeAt(++t.position);while(c!==0&&c!==62);t.position<t.length?(l=t.input.slice(e,t.position),c=t.input.charCodeAt(++t.position)):he(t,"unexpected end of the stream within a verbatim tag")}else{for(;c!==0&&!ln(c);)c===33&&(i?he(t,"tag suffix cannot contain exclamation marks"):(o=t.input.slice(e-1,t.position+1),SE.test(o)||he(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),c=t.input.charCodeAt(++t.position);l=t.input.slice(e,t.position),Zk.test(l)&&he(t,"tag suffix cannot contain flow indicator characters")}l&&!AE.test(l)&&he(t,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{he(t,"tag name is malformed: "+l)}return n?t.tag=l:Pi.call(t.tagMap,o)?t.tag=t.tagMap[o]+l:o==="!"?t.tag="!"+l:o==="!!"?t.tag="tag:yaml.org,2002:"+l:he(t,'undeclared tag handle "'+o+'"'),!0}function dx(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&he(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!ln(n)&&!vo(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&he(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function fx(t){var e,n,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!ln(i)&&!vo(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&he(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Pi.call(t.anchorMap,n)||he(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],ct(t,!0,-1),!0}function bo(t,e,n,i,o){var l,c,d,p=1,_=!1,v=!1,w,I,O,B,$,V;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,l=c=d=Ec===n||IE===n,i&&ct(t,!0,-1)&&(_=!0,t.lineIndent>e?p=1:t.lineIndent===e?p=0:t.lineIndent<e&&(p=-1)),p===1)for(;hx(t)||dx(t);)ct(t,!0,-1)?(_=!0,d=l,t.lineIndent>e?p=1:t.lineIndent===e?p=0:t.lineIndent<e&&(p=-1)):d=!1;if(d&&(d=_||o),(p===1||Ec===n)&&(vc===n||TE===n?$=e:$=e+1,V=t.position-t.lineStart,p===1?d&&(dy(t,V)||cx(t,V,$))||lx(t,$)?v=!0:(c&&ux(t,$)||ox(t,$)||ax(t,$)?v=!0:fx(t)?(v=!0,(t.tag!==null||t.anchor!==null)&&he(t,"alias node should not have any properties")):sx(t,$,vc===n)&&(v=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):p===0&&(v=d&&dy(t,V))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&he(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),w=0,I=t.implicitTypes.length;w<I;w+=1)if(B=t.implicitTypes[w],B.resolve(t.result)){t.result=B.construct(t.result),t.tag=B.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Pi.call(t.typeMap[t.kind||"fallback"],t.tag))B=t.typeMap[t.kind||"fallback"][t.tag];else for(B=null,O=t.typeMap.multi[t.kind||"fallback"],w=0,I=O.length;w<I;w+=1)if(t.tag.slice(0,O[w].tag.length)===O[w].tag){B=O[w];break}B||he(t,"unknown tag !<"+t.tag+">"),t.result!==null&&B.kind!==t.kind&&he(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+B.kind+'", not "'+t.kind+'"'),B.resolve(t.result,t.tag)?(t.result=B.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):he(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||v}function px(t){var e=t.position,n,i,o,l=!1,c;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(c=t.input.charCodeAt(t.position))!==0&&(ct(t,!0,-1),c=t.input.charCodeAt(t.position),!(t.lineIndent>0||c!==37));){for(l=!0,c=t.input.charCodeAt(++t.position),n=t.position;c!==0&&!ln(c);)c=t.input.charCodeAt(++t.position);for(i=t.input.slice(n,t.position),o=[],i.length<1&&he(t,"directive name must not be less than one character in length");c!==0;){for(;ls(c);)c=t.input.charCodeAt(++t.position);if(c===35){do c=t.input.charCodeAt(++t.position);while(c!==0&&!or(c));break}if(or(c))break;for(n=t.position;c!==0&&!ln(c);)c=t.input.charCodeAt(++t.position);o.push(t.input.slice(n,t.position))}c!==0&&gp(t),Pi.call(cy,i)?cy[i](t,i,o):wc(t,'unknown document directive "'+i+'"')}if(ct(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,ct(t,!0,-1)):l&&he(t,"directives end mark is expected"),bo(t,t.lineIndent-1,Ec,!1,!0),ct(t,!0,-1),t.checkLineBreaks&&Jk.test(t.input.slice(e,t.position))&&wc(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Gc(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,ct(t,!0,-1));return}if(t.position<t.length-1)he(t,"end of the stream or a document separator is expected");else return}function kE(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new ix(t,e),i=t.indexOf("\0");for(i!==-1&&(n.position=i,he(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)px(n);return n.documents}function mx(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var i=kE(t,n);if(typeof e!="function")return i;for(var o=0,l=i.length;o<l;o+=1)e(i[o])}function gx(t,e){var n=kE(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Xt("expected a single document in the stream, but found more")}}var _x=mx,yx=gx,xE={loadAll:_x,load:yx},NE=Object.prototype.toString,OE=Object.prototype.hasOwnProperty,yp=65279,vx=9,ll=10,Ex=13,wx=32,Tx=33,Ix=34,vf=35,Sx=37,Ax=38,Rx=39,Cx=42,DE=44,Px=45,Tc=58,kx=61,xx=62,Nx=63,Ox=64,LE=91,VE=93,Dx=96,bE=123,Lx=124,ME=125,qt={};qt[0]="\\0";qt[7]="\\a";qt[8]="\\b";qt[9]="\\t";qt[10]="\\n";qt[11]="\\v";qt[12]="\\f";qt[13]="\\r";qt[27]="\\e";qt[34]='\\"';qt[92]="\\\\";qt[133]="\\N";qt[160]="\\_";qt[8232]="\\L";qt[8233]="\\P";var Vx=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],bx=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Mx(t,e){var n,i,o,l,c,d,p;if(e===null)return{};for(n={},i=Object.keys(e),o=0,l=i.length;o<l;o+=1)c=i[o],d=String(e[c]),c.slice(0,2)==="!!"&&(c="tag:yaml.org,2002:"+c.slice(2)),p=t.compiledTypeMap.fallback[c],p&&OE.call(p.styleAliases,d)&&(d=p.styleAliases[d]),n[c]=d;return n}function Fx(t){var e,n,i;if(e=t.toString(16).toUpperCase(),t<=255)n="x",i=2;else if(t<=65535)n="u",i=4;else if(t<=4294967295)n="U",i=8;else throw new Xt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+vt.repeat("0",i-e.length)+e}var Ux=1,ul=2;function jx(t){this.schema=t.schema||mp,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=vt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Mx(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?ul:Ux,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function fy(t,e){for(var n=vt.repeat(" ",e),i=0,o=-1,l="",c,d=t.length;i<d;)o=t.indexOf(`
`,i),o===-1?(c=t.slice(i),i=d):(c=t.slice(i,o+1),i=o+1),c.length&&c!==`
`&&(l+=n),l+=c;return l}function Ef(t,e){return`
`+vt.repeat(" ",t.indent*e)}function Bx(t,e){var n,i,o;for(n=0,i=t.implicitTypes.length;n<i;n+=1)if(o=t.implicitTypes[n],o.resolve(e))return!0;return!1}function Ic(t){return t===wx||t===vx}function cl(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==yp||65536<=t&&t<=1114111}function py(t){return cl(t)&&t!==yp&&t!==Ex&&t!==ll}function my(t,e,n){var i=py(t),o=i&&!Ic(t);return(n?i:i&&t!==DE&&t!==LE&&t!==VE&&t!==bE&&t!==ME)&&t!==vf&&!(e===Tc&&!o)||py(e)&&!Ic(e)&&t===vf||e===Tc&&o}function zx(t){return cl(t)&&t!==yp&&!Ic(t)&&t!==Px&&t!==Nx&&t!==Tc&&t!==DE&&t!==LE&&t!==VE&&t!==bE&&t!==ME&&t!==vf&&t!==Ax&&t!==Cx&&t!==Tx&&t!==Lx&&t!==kx&&t!==xx&&t!==Rx&&t!==Ix&&t!==Sx&&t!==Ox&&t!==Dx}function $x(t){return!Ic(t)&&t!==Tc}function Wa(t,e){var n=t.charCodeAt(e),i;return n>=55296&&n<=56319&&e+1<t.length&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function FE(t){var e=/^\n* /;return e.test(t)}var UE=1,wf=2,jE=3,BE=4,_o=5;function Hx(t,e,n,i,o,l,c,d){var p,_=0,v=null,w=!1,I=!1,O=i!==-1,B=-1,$=zx(Wa(t,0))&&$x(Wa(t,t.length-1));if(e||c)for(p=0;p<t.length;_>=65536?p+=2:p++){if(_=Wa(t,p),!cl(_))return _o;$=$&&my(_,v,d),v=_}else{for(p=0;p<t.length;_>=65536?p+=2:p++){if(_=Wa(t,p),_===ll)w=!0,O&&(I=I||p-B-1>i&&t[B+1]!==" ",B=p);else if(!cl(_))return _o;$=$&&my(_,v,d),v=_}I=I||O&&p-B-1>i&&t[B+1]!==" "}return!w&&!I?$&&!c&&!o(t)?UE:l===ul?_o:wf:n>9&&FE(t)?_o:c?l===ul?_o:wf:I?BE:jE}function Wx(t,e,n,i,o){t.dump=function(){if(e.length===0)return t.quotingType===ul?'""':"''";if(!t.noCompatMode&&(Vx.indexOf(e)!==-1||bx.test(e)))return t.quotingType===ul?'"'+e+'"':"'"+e+"'";var l=t.indent*Math.max(1,n),c=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-l),d=i||t.flowLevel>-1&&n>=t.flowLevel;function p(_){return Bx(t,_)}switch(Hx(e,d,t.indent,c,p,t.quotingType,t.forceQuotes&&!i,o)){case UE:return e;case wf:return"'"+e.replace(/'/g,"''")+"'";case jE:return"|"+gy(e,t.indent)+_y(fy(e,l));case BE:return">"+gy(e,t.indent)+_y(fy(qx(e,c),l));case _o:return'"'+Kx(e)+'"';default:throw new Xt("impossible error: invalid scalar style")}}()}function gy(t,e){var n=FE(t)?String(e):"",i=t[t.length-1]===`
`,o=i&&(t[t.length-2]===`
`||t===`
`),l=o?"+":i?"":"-";return n+l+`
`}function _y(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function qx(t,e){for(var n=/(\n+)([^\n]*)/g,i=function(){var _=t.indexOf(`
`);return _=_!==-1?_:t.length,n.lastIndex=_,yy(t.slice(0,_),e)}(),o=t[0]===`
`||t[0]===" ",l,c;c=n.exec(t);){var d=c[1],p=c[2];l=p[0]===" ",i+=d+(!o&&!l&&p!==""?`
`:"")+yy(p,e),o=l}return i}function yy(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,i,o=0,l,c=0,d=0,p="";i=n.exec(t);)d=i.index,d-o>e&&(l=c>o?c:d,p+=`
`+t.slice(o,l),o=l+1),c=d;return p+=`
`,t.length-o>e&&c>o?p+=t.slice(o,c)+`
`+t.slice(c+1):p+=t.slice(o),p.slice(1)}function Kx(t){for(var e="",n=0,i,o=0;o<t.length;n>=65536?o+=2:o++)n=Wa(t,o),i=qt[n],!i&&cl(n)?(e+=t[o],n>=65536&&(e+=t[o+1])):e+=i||Fx(n);return e}function Gx(t,e,n){var i="",o=t.tag,l,c,d;for(l=0,c=n.length;l<c;l+=1)d=n[l],t.replacer&&(d=t.replacer.call(n,String(l),d)),(Mr(t,e,d,!1,!1)||typeof d>"u"&&Mr(t,e,null,!1,!1))&&(i!==""&&(i+=","+(t.condenseFlow?"":" ")),i+=t.dump);t.tag=o,t.dump="["+i+"]"}function vy(t,e,n,i){var o="",l=t.tag,c,d,p;for(c=0,d=n.length;c<d;c+=1)p=n[c],t.replacer&&(p=t.replacer.call(n,String(c),p)),(Mr(t,e+1,p,!0,!0,!1,!0)||typeof p>"u"&&Mr(t,e+1,null,!0,!0,!1,!0))&&((!i||o!=="")&&(o+=Ef(t,e)),t.dump&&ll===t.dump.charCodeAt(0)?o+="-":o+="- ",o+=t.dump);t.tag=l,t.dump=o||"[]"}function Qx(t,e,n){var i="",o=t.tag,l=Object.keys(n),c,d,p,_,v;for(c=0,d=l.length;c<d;c+=1)v="",i!==""&&(v+=", "),t.condenseFlow&&(v+='"'),p=l[c],_=n[p],t.replacer&&(_=t.replacer.call(n,p,_)),Mr(t,e,p,!1,!1)&&(t.dump.length>1024&&(v+="? "),v+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Mr(t,e,_,!1,!1)&&(v+=t.dump,i+=v));t.tag=o,t.dump="{"+i+"}"}function Yx(t,e,n,i){var o="",l=t.tag,c=Object.keys(n),d,p,_,v,w,I;if(t.sortKeys===!0)c.sort();else if(typeof t.sortKeys=="function")c.sort(t.sortKeys);else if(t.sortKeys)throw new Xt("sortKeys must be a boolean or a function");for(d=0,p=c.length;d<p;d+=1)I="",(!i||o!=="")&&(I+=Ef(t,e)),_=c[d],v=n[_],t.replacer&&(v=t.replacer.call(n,_,v)),Mr(t,e+1,_,!0,!0,!0)&&(w=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,w&&(t.dump&&ll===t.dump.charCodeAt(0)?I+="?":I+="? "),I+=t.dump,w&&(I+=Ef(t,e)),Mr(t,e+1,v,!0,w)&&(t.dump&&ll===t.dump.charCodeAt(0)?I+=":":I+=": ",I+=t.dump,o+=I));t.tag=l,t.dump=o||"{}"}function Ey(t,e,n){var i,o,l,c,d,p;for(o=n?t.explicitTypes:t.implicitTypes,l=0,c=o.length;l<c;l+=1)if(d=o[l],(d.instanceOf||d.predicate)&&(!d.instanceOf||typeof e=="object"&&e instanceof d.instanceOf)&&(!d.predicate||d.predicate(e))){if(n?d.multi&&d.representName?t.tag=d.representName(e):t.tag=d.tag:t.tag="?",d.represent){if(p=t.styleMap[d.tag]||d.defaultStyle,NE.call(d.represent)==="[object Function]")i=d.represent(e,p);else if(OE.call(d.represent,p))i=d.represent[p](e,p);else throw new Xt("!<"+d.tag+'> tag resolver accepts not "'+p+'" style');t.dump=i}return!0}return!1}function Mr(t,e,n,i,o,l,c){t.tag=null,t.dump=n,Ey(t,n,!1)||Ey(t,n,!0);var d=NE.call(t.dump),p=i,_;i&&(i=t.flowLevel<0||t.flowLevel>e);var v=d==="[object Object]"||d==="[object Array]",w,I;if(v&&(w=t.duplicates.indexOf(n),I=w!==-1),(t.tag!==null&&t.tag!=="?"||I||t.indent!==2&&e>0)&&(o=!1),I&&t.usedDuplicates[w])t.dump="*ref_"+w;else{if(v&&I&&!t.usedDuplicates[w]&&(t.usedDuplicates[w]=!0),d==="[object Object]")i&&Object.keys(t.dump).length!==0?(Yx(t,e,t.dump,o),I&&(t.dump="&ref_"+w+t.dump)):(Qx(t,e,t.dump),I&&(t.dump="&ref_"+w+" "+t.dump));else if(d==="[object Array]")i&&t.dump.length!==0?(t.noArrayIndent&&!c&&e>0?vy(t,e-1,t.dump,o):vy(t,e,t.dump,o),I&&(t.dump="&ref_"+w+t.dump)):(Gx(t,e,t.dump),I&&(t.dump="&ref_"+w+" "+t.dump));else if(d==="[object String]")t.tag!=="?"&&Wx(t,t.dump,e,l,p);else{if(d==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Xt("unacceptable kind of an object to dump "+d)}t.tag!==null&&t.tag!=="?"&&(_=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?_="!"+_:_.slice(0,18)==="tag:yaml.org,2002:"?_="!!"+_.slice(18):_="!<"+_+">",t.dump=_+" "+t.dump)}return!0}function Xx(t,e){var n=[],i=[],o,l;for(Tf(t,n,i),o=0,l=i.length;o<l;o+=1)e.duplicates.push(n[i[o]]);e.usedDuplicates=new Array(l)}function Tf(t,e,n){var i,o,l;if(t!==null&&typeof t=="object")if(o=e.indexOf(t),o!==-1)n.indexOf(o)===-1&&n.push(o);else if(e.push(t),Array.isArray(t))for(o=0,l=t.length;o<l;o+=1)Tf(t[o],e,n);else for(i=Object.keys(t),o=0,l=i.length;o<l;o+=1)Tf(t[i[o]],e,n)}function Jx(t,e){e=e||{};var n=new jx(e);n.noRefs||Xx(t,n);var i=t;return n.replacer&&(i=n.replacer.call({"":i},"",i)),Mr(n,0,i,!0,!0)?n.dump+`
`:""}var Zx=Jx,eN={dump:Zx};function vp(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var tN=Ot,nN=rE,rN=aE,iN=dE,sN=fE,oN=mp,aN=xE.load,lN=xE.loadAll,uN=eN.dump,cN=Xt,hN={binary:yE,float:hE,map:oE,null:lE,pairs:EE,set:wE,timestamp:gE,bool:uE,int:cE,merge:_E,omap:vE,seq:sE,str:iE},dN=vp("safeLoad","load"),fN=vp("safeLoadAll","loadAll"),pN=vp("safeDump","dump"),mN={Type:tN,Schema:nN,FAILSAFE_SCHEMA:rN,JSON_SCHEMA:iN,CORE_SCHEMA:sN,DEFAULT_SCHEMA:oN,load:aN,loadAll:lN,dump:uN,YAMLException:cN,types:hN,safeLoad:dN,safeLoadAll:fN,safeDump:pN};const gN=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Ep=(t,e)=>`${t}${gN(e)}`,zE=t=>{const e=t/1e3,n=Math.floor(e/86400),i=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),l=e%60,c=o>9||i||n?Math.round(l):l.toFixed(1);let d="";return n&&(d+=`${n}d `),i&&(d+=`${i}h `),o&&(d+=`${o}m `),l&&(d+=`${c}s`),d.trim()},$E=(t,e)=>{const n=t.toString().padStart(5,"0"),i=e.toString().padStart(5,"0");return`item${n}_bid${i}`},tc=t=>{const e=t.match(/item(\d+)_bid(\d+)/);return{item:Number(e[1]),bid:Number(e[2])}},_N=(t,e)=>{let n={};for(const[i,o]of Object.entries(t.data())){const{item:l,bid:c}=tc(i);if(l in n||(n[l]={bids:{}}),c===0){const{amount:d,endTime:p,..._}=o;if(n[l]={...n[l],..._,startingPrice:d,endTime:p.toDate()},e){const v=new Date;n[l].endTime=new Date(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes()+n[l].endTime.getMinutes(),n[l].endTime.getSeconds())}}else n[l].bids[c]=o}return Object.values(n)},Sc=(t=void 0,e=!1,n=!1)=>{fetch("/auction-web/items.yml").then(i=>i.text()).then(i=>mN.load(i)).then(i=>{t!==void 0&&(i=[i.find(d=>d.id===t)]);let o=e?"update item data":n?"delete all bids":"",l=t===void 0?"all items":`item ${t}`;if(confirm(`You are about to ${o} for ${l}, are you sure?`)==!1)return;const c=zo($o,"auction","items");fp(c).then(d=>{console.debug("editItems() read from auction/items");let p=Object.keys(d.data());p.length===0&&(p=i.map(v=>$E(v.id,0)));const _={};return i.forEach(v=>{v.endTime=dt.fromDate(new Date(v.endTime)),p.filter(w=>tc(w).item===v.id).forEach(w=>{e&&tc(w).bid===0&&(_[w]=v),n&&tc(w).bid&&(_[w]=WP())})}),_}).then(d=>{X0(c,d),console.debug("editItems() write to from auction/items")})})},wp=Q.createContext(),HE=({demo:t,children:e})=>{const[n,i]=Q.useState([]);return Q.useEffect(()=>{const o=zo($o,"auction","items"),l=HP(o,c=>{c.exists()?(console.debug("<ItemsProvider /> read from auction/items"),i(_N(c,t))):(console.debug("<ItemsProvider /> write to auction/items"),Y0(o,{}))});return()=>l()},[t]),q.jsx(wp.Provider,{value:{items:n},children:e})};HE.propTypes={demo:Qe.bool,children:Qe.object};const ps={ITEM:"item",SIGN_UP:"signUp",NONE:null},Ho=Q.createContext(),WE=({children:t})=>{const[e,n]=Q.useState({}),[i,o]=Q.useState(ps.NONE),l=(d,p={})=>{n(p),o(d)},c=()=>{o(ps.NONE),n({})};return q.jsx(Ho.Provider,{value:{activeItem:e,currentModal:i,openModal:l,closeModal:c},children:t})};WE.propTypes={children:Qe.arrayOf(Qe.element)};const qE=({admin:t})=>{const e=Q.useContext(Ho).openModal,n=Ly(),[i,o]=Q.useState(""),[l,c]=Q.useState("Sign up"),[d,p]=Q.useState("Admin"),_=Pc();Q.useEffect(()=>{const I=vv(Vo,O=>{O&&O.displayName!=null&&(o(`Hi ${O.displayName}`),c("Sign out"))});return()=>I()},[i.displayName]);const v=()=>{_.pathname.includes("admin")?(n("/auction-web/"),p("Admin")):(n("/auction-web/admin"),p("Home"))},w=()=>{i?(o(""),c("Sign up")):e(ps.SIGN_UP)};return q.jsx("nav",{className:"navbar navbar-dark bg-primary",children:q.jsxs("div",{className:"container-fluid",children:[q.jsxs("div",{className:"navbar-brand mb-0 h1 me-auto",children:[q.jsx("img",{src:"/auction-web/logo.webp",alt:"Logo",width:"30",height:"24",className:"d-inline-block align-text-top"}),"The AuctionZilla"]}),q.jsxs("div",{className:"row row-cols-auto",children:[q.jsx("div",{className:"navbar-brand",children:i}),t&&q.jsx("button",{onClick:v,className:"btn btn-secondary me-2",children:d}),q.jsx("button",{onClick:w,className:"btn btn-secondary me-2",children:l})]})]})})};qE.propTypes={admin:Qe.bool};const yN="modulepreload",vN=function(t){return"/auction-web/"+t},wy={},ce=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(n.map(p=>{if(p=vN(p),p in wy)return;wy[p]=!0;const _=p.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=_?"stylesheet":yN,_||(w.as="script"),w.crossOrigin="",w.href=p,d&&w.setAttribute("nonce",d),document.head.appendChild(w),_)return new Promise((I,O)=>{w.addEventListener("load",I),w.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},KE=(t,e,n)=>{const i=t[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((o,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},Ac=t=>{const e=Object.keys(t.bids??{}).length,n=e?t.bids[e].amount:t.startingPrice??0,i=e?t.bids[e].uid:"";return{bids:e,amount:n,winner:i}},Tp=({type:t,title:e,children:n})=>{const{closeModal:i,currentModal:o}=Q.useContext(Ho);return t!==o?null:yT.createPortal(q.jsx("div",{className:"modal fade show",style:{display:"block"},onClick:i,children:q.jsx("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",onClick:l=>l.stopPropagation(),children:q.jsxs("div",{className:"modal-content",children:[q.jsxs("div",{className:"modal-header",children:[q.jsx("h5",{className:"modal-title",children:e}),q.jsx("button",{className:"btn-close",onClick:i})]}),n]})})}),document.body)};Tp.propTypes={type:Qe.string,title:Qe.string,children:Qe.arrayOf(Qe.element)};const EN=()=>{const{activeItem:t,openModal:e,closeModal:n}=Q.useContext(Ho),[i,o]=Q.useState(""),l=1,c=10,[d,p]=Q.useState(),[_,v]=Q.useState(""),[w,I]=Q.useState(""),[O,B]=Q.useState(""),[$,V]=Q.useState("-.--");Q.useEffect(()=>{t.secondaryImage!==void 0&&KE(Object.assign({"../assets/item_0_primary.png":()=>ce(()=>import("./item_0_primary-Cq4mkFtb.js"),[]),"../assets/item_0_secondary.png":()=>ce(()=>import("./item_0_secondary-wxZURNwk.js"),[]),"../assets/item_10_primary.png":()=>ce(()=>import("./item_10_primary--ch5Cr9i.js"),[]),"../assets/item_10_secondary.png":()=>ce(()=>import("./item_10_secondary-C5YAWn-w.js"),[]),"../assets/item_11_primary.png":()=>ce(()=>import("./item_11_primary-B22nIAuS.js"),[]),"../assets/item_11_secondary.png":()=>ce(()=>import("./item_11_secondary-DTyTxazl.js"),[]),"../assets/item_12_primary.png":()=>ce(()=>import("./item_12_primary-Bkj2ERo7.js"),[]),"../assets/item_12_secondary.png":()=>ce(()=>import("./item_12_secondary-C2oBOS5z.js"),[]),"../assets/item_13_primary.png":()=>ce(()=>import("./item_13_primary-tcNDSH69.js"),[]),"../assets/item_13_secondary.png":()=>ce(()=>import("./item_13_secondary-tcNDSH69.js"),[]),"../assets/item_14_primary.png":()=>ce(()=>import("./item_14_primary-BdvyCDay.js"),[]),"../assets/item_14_secondary.png":()=>ce(()=>import("./item_14_secondary-Brbng1BS.js"),[]),"../assets/item_1_primary.png":()=>ce(()=>import("./item_1_primary-DvhsPXPS.js"),[]),"../assets/item_1_secondary.png":()=>ce(()=>import("./item_1_secondary-CpGmH3W8.js"),[]),"../assets/item_2_primary.png":()=>ce(()=>import("./item_2_primary-CnZxrdlC.js"),[]),"../assets/item_2_secondary.png":()=>ce(()=>import("./item_2_secondary-C1K_F2R8.js"),[]),"../assets/item_3_primary.png":()=>ce(()=>import("./item_3_primary-BGzpRarU.js"),[]),"../assets/item_3_secondary.png":()=>ce(()=>import("./item_3_secondary-D5gMJMM-.js"),[]),"../assets/item_4_primary.png":()=>ce(()=>import("./item_4_primary-DsGmVZzS.js"),[]),"../assets/item_4_secondary.png":()=>ce(()=>import("./item_4_secondary-DsGmVZzS.js"),[]),"../assets/item_5_primary.png":()=>ce(()=>import("./item_5_primary-DPXBo36C.js"),[]),"../assets/item_5_secondary.png":()=>ce(()=>import("./item_5_secondary-Cj3HhOUh.js"),[]),"../assets/item_6_primary.png":()=>ce(()=>import("./item_6_primary-CHQPyYSW.js"),[]),"../assets/item_6_secondary.png":()=>ce(()=>import("./item_6_secondary-BJ78naQz.js"),[]),"../assets/item_7_primary.png":()=>ce(()=>import("./item_7_primary-euruE4rR.js"),[]),"../assets/item_7_secondary.png":()=>ce(()=>import("./item_7_secondary-CsNUb8CT.js"),[]),"../assets/item_8_primary.png":()=>ce(()=>import("./item_8_primary-BMqwI7eW.js"),[]),"../assets/item_8_secondary.png":()=>ce(()=>import("./item_8_secondary-Cd1aWNuW.js"),[]),"../assets/item_9_primary.png":()=>ce(()=>import("./item_9_primary-Bzic9VBn.js"),[]),"../assets/item_9_secondary.png":()=>ce(()=>import("./item_9_secondary-play_xop.js"),[])}),`../assets/${t.secondaryImage}.png`,3).then(Ce=>{o(Ce.default)})},[t.secondaryImage]),Q.useEffect(()=>{const Ce=Ac(t);V(Ep(t.currency,Ce.amount+l))},[t]);const ne=()=>{setTimeout(()=>{n(),B(""),v("")},1e3)},J=()=>{let Ce=new Date().getTime();if(I(!0),t.endTime-Ce<0){B("Sorry, this item has ended!"),v("is-invalid"),ne(),I(!1);return}if(Vo.currentUser.displayName==null){B("You must provide a username before bidding!"),v("is-invalid"),setTimeout(()=>{e(ps.SIGN_UP),I(!1),v("")},1e3);return}if(!/^\d+(\.\d{1,2})?$/.test(d)){B("Please enter a valid monetary amount!"),v("is-invalid"),I(!1);return}const Ae=parseFloat(d),D=Ac(t);if(Ae<D.amount+l){B("You did not bid enough!"),v("is-invalid"),I(!1);return}if(Ae>D.amount+c){B(`For the demo you can only increase the price up to ${t.currency}${c} per bid.`),v("is-invalid"),I(!1);return}X0(zo($o,"auction","items"),{[$E(t.id,D.bids+1)]:{amount:Ae,uid:Vo.currentUser.uid}}),console.debug("handleSubmidBid() write to auction/items"),v("is-valid"),ne()},de=Ce=>{p(Ce.target.value),I(!1),v("")},Te=Ce=>{Ce.key==="Enter"&&!w&&J()};return q.jsxs(Tp,{type:ps.ITEM,title:t.title,children:[q.jsxs("div",{className:"modal-body",children:[q.jsx("p",{children:t.detail}),q.jsx("img",{src:i,className:"img-fluid",alt:t.title})]}),q.jsxs("div",{className:"modal-footer justify-content-start",children:[q.jsxs("div",{className:"input-group mb-2",children:[q.jsx("span",{className:"input-group-text",children:t.currency}),q.jsx("input",{className:`form-control ${_}`,onChange:de,onKeyDown:Te}),q.jsx("button",{type:"submit",className:"btn btn-primary",onClick:J,disabled:w,children:"Submit bid"}),q.jsx("div",{className:"invalid-feedback",children:O})]}),q.jsxs("label",{className:"form-label",children:["Enter ",$," or more"]}),q.jsx("p",{className:"text-muted",children:"(This is just a demo, you're not bidding real money)"})]})]})},wN=()=>{const{closeModal:t}=Q.useContext(Ho),[e,n]=Q.useState(""),[i,o]=Q.useState(""),l=()=>{const d=Vo.currentUser;kA(d,{displayName:e}),Y0(zo($o,"users",d.uid),{name:e,admin:""}),console.debug(`signUp() write to users/${d.uid}`),o("is-valid"),setTimeout(()=>{t(),o("")},1e3)},c=d=>{d.key==="Enter"&&l()};return q.jsxs(Tp,{type:ps.SIGN_UP,title:"Sign up for AuctionZilla Auction",children:[q.jsxs("div",{className:"modal-body",children:[q.jsx("p",{children:"We use anonymous authentication provided by Google. Your account is attached to your device signature."}),q.jsx("p",{children:"The username just lets us know who's bidding!"}),q.jsx("form",{onSubmit:d=>d.preventDefault(),children:q.jsxs("div",{className:"form-floating mb-3",children:[q.jsx("input",{autoFocus:!0,id:"username-input",type:"username",className:`form-control ${i}`,value:e,onChange:d=>n(d.target.value),onKeyDown:c}),q.jsx("label",{children:"Username"})]})})]}),q.jsxs("div",{className:"modal-footer",children:[q.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Cancel"}),q.jsx("button",{type:"submit",className:"btn btn-primary",onClick:l,children:"Sign up"})]})]})},GE=({item:t})=>{const{openModal:e}=Q.useContext(Ho),[n,i]=Q.useState(""),[o,l]=Q.useState(0),[c,d]=Q.useState(t.startingPrice),[p,_]=Q.useState("");return Q.useEffect(()=>{const v=Ac(t);l(v.bids),d(Ep(t.currency,v.amount))},[t]),Q.useEffect(()=>{const v=()=>{const w=Date.now(),I=t.endTime-w;I>0?(_(zE(I)),requestAnimationFrame(v)):_("Item Ended")};requestAnimationFrame(v)},[t.endTime]),Q.useEffect(()=>{KE(Object.assign({"../assets/item_0_primary.png":()=>ce(()=>import("./item_0_primary-Cq4mkFtb.js"),[]),"../assets/item_0_secondary.png":()=>ce(()=>import("./item_0_secondary-wxZURNwk.js"),[]),"../assets/item_10_primary.png":()=>ce(()=>import("./item_10_primary--ch5Cr9i.js"),[]),"../assets/item_10_secondary.png":()=>ce(()=>import("./item_10_secondary-C5YAWn-w.js"),[]),"../assets/item_11_primary.png":()=>ce(()=>import("./item_11_primary-B22nIAuS.js"),[]),"../assets/item_11_secondary.png":()=>ce(()=>import("./item_11_secondary-DTyTxazl.js"),[]),"../assets/item_12_primary.png":()=>ce(()=>import("./item_12_primary-Bkj2ERo7.js"),[]),"../assets/item_12_secondary.png":()=>ce(()=>import("./item_12_secondary-C2oBOS5z.js"),[]),"../assets/item_13_primary.png":()=>ce(()=>import("./item_13_primary-tcNDSH69.js"),[]),"../assets/item_13_secondary.png":()=>ce(()=>import("./item_13_secondary-tcNDSH69.js"),[]),"../assets/item_14_primary.png":()=>ce(()=>import("./item_14_primary-BdvyCDay.js"),[]),"../assets/item_14_secondary.png":()=>ce(()=>import("./item_14_secondary-Brbng1BS.js"),[]),"../assets/item_1_primary.png":()=>ce(()=>import("./item_1_primary-DvhsPXPS.js"),[]),"../assets/item_1_secondary.png":()=>ce(()=>import("./item_1_secondary-CpGmH3W8.js"),[]),"../assets/item_2_primary.png":()=>ce(()=>import("./item_2_primary-CnZxrdlC.js"),[]),"../assets/item_2_secondary.png":()=>ce(()=>import("./item_2_secondary-C1K_F2R8.js"),[]),"../assets/item_3_primary.png":()=>ce(()=>import("./item_3_primary-BGzpRarU.js"),[]),"../assets/item_3_secondary.png":()=>ce(()=>import("./item_3_secondary-D5gMJMM-.js"),[]),"../assets/item_4_primary.png":()=>ce(()=>import("./item_4_primary-DsGmVZzS.js"),[]),"../assets/item_4_secondary.png":()=>ce(()=>import("./item_4_secondary-DsGmVZzS.js"),[]),"../assets/item_5_primary.png":()=>ce(()=>import("./item_5_primary-DPXBo36C.js"),[]),"../assets/item_5_secondary.png":()=>ce(()=>import("./item_5_secondary-Cj3HhOUh.js"),[]),"../assets/item_6_primary.png":()=>ce(()=>import("./item_6_primary-CHQPyYSW.js"),[]),"../assets/item_6_secondary.png":()=>ce(()=>import("./item_6_secondary-BJ78naQz.js"),[]),"../assets/item_7_primary.png":()=>ce(()=>import("./item_7_primary-euruE4rR.js"),[]),"../assets/item_7_secondary.png":()=>ce(()=>import("./item_7_secondary-CsNUb8CT.js"),[]),"../assets/item_8_primary.png":()=>ce(()=>import("./item_8_primary-BMqwI7eW.js"),[]),"../assets/item_8_secondary.png":()=>ce(()=>import("./item_8_secondary-Cd1aWNuW.js"),[]),"../assets/item_9_primary.png":()=>ce(()=>import("./item_9_primary-Bzic9VBn.js"),[]),"../assets/item_9_secondary.png":()=>ce(()=>import("./item_9_secondary-play_xop.js"),[])}),`../assets/${t.primaryImage}.png`,3).then(v=>{i(v.default)})},[t.primaryImage]),q.jsx("div",{className:"col",children:q.jsxs("div",{className:"card h-100",onClick:()=>e(ps.ITEM,t),children:[q.jsx("img",{src:n,className:"card-img-top",alt:t.title}),q.jsxs("div",{className:"card-body",children:[q.jsx("h5",{className:"title",children:t.title}),q.jsx("h6",{className:"card-subtitle mb-2 text-body-secondary",children:t.subtitle})]}),q.jsxs("ul",{className:"list-group list-group-flush",children:[q.jsx("li",{className:"list-group-item",children:q.jsx("strong",{children:c})}),q.jsxs("li",{className:"list-group-item",children:[o," bids  ",p]})]})]})})};GE.propTypes={item:Qe.shape({startingPrice:Qe.number.isRequired,currency:Qe.string.isRequired,endTime:Qe.object.isRequired,primaryImage:Qe.string.isRequired,title:Qe.string.isRequired,subtitle:Qe.string.isRequired})};const TN=()=>{const{items:t}=Q.useContext(wp);return q.jsx("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:t.map(e=>q.jsx(GE,{item:e},e.id))})};function IN(){return q.jsxs("div",{className:"container mt-3",children:[q.jsx(TN,{}),q.jsx(EN,{})]})}const QE=({item:t})=>{const[e,n]=Q.useState(t.startingPrice),[i,o]=Q.useState(0),[l,c]=Q.useState(""),[d,p]=Q.useState("");return Q.useEffect(()=>{const _=Ac(t);n(Ep(t.currency,_.amount)),o(_.bids),_.winner?fp(zo($o,"users",_.winner)).then(v=>{c(v.get("name"))}):c("")},[t]),Q.useEffect(()=>{const _=()=>{const v=Date.now(),w=t.endTime-v;w>0?(p(zE(w)),requestAnimationFrame(_)):p("Item Ended")};requestAnimationFrame(_)},[t.endTime]),q.jsxs("tr",{children:[q.jsx("td",{children:t.id}),q.jsx("td",{children:t.title}),q.jsx("td",{children:e}),q.jsx("td",{children:i}),q.jsx("td",{children:l}),q.jsx("td",{children:d}),q.jsxs("td",{children:[q.jsx("button",{className:"btn btn-warning me-3",onClick:()=>Sc(t.id,!0,!1),children:"Update item"}),q.jsx("button",{className:"btn btn-danger me-3",onClick:()=>Sc(t.id,!1,!0),children:"Delete bids"})]})]})};QE.propTypes={item:Qe.shape({startingPrice:Qe.number.isRequired,currency:Qe.string.isRequired,endTime:Qe.object.isRequired,id:Qe.number.isRequired,title:Qe.string.isRequired})};const SN=()=>{const{items:t}=Q.useContext(wp);return q.jsxs("table",{className:"table table-striped",children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{children:"ID"}),q.jsx("th",{children:"Title"}),q.jsx("th",{children:"Price"}),q.jsx("th",{children:"Bids"}),q.jsx("th",{children:"Winning"}),q.jsx("th",{children:"Time Left"}),q.jsx("th",{children:"Actions"})]})}),q.jsx("tbody",{children:t.map(e=>q.jsx(QE,{item:e},e.id))})]})};function AN(){return q.jsxs("div",{className:"container mt-3",children:[q.jsxs("div",{className:"d-flex justify-content-left mb-3",children:[q.jsx("button",{className:"btn btn-danger me-3",onClick:()=>Sc(void 0,!0,!1),children:"Update all items"}),q.jsx("button",{className:"btn btn-danger me-3",onClick:()=>Sc(void 0,!1,!0),children:"Delete all bids"})]}),q.jsx(SN,{})]})}var YE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ty=Nr.createContext&&Nr.createContext(YE),Ii=function(){return Ii=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ii.apply(this,arguments)},RN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function XE(t){return t&&t.map(function(e,n){return Nr.createElement(e.tag,Ii({key:n},e.attr),XE(e.child))})}function CN(t){return function(e){return Nr.createElement(PN,Ii({attr:Ii({},t.attr)},e),XE(t.child))}}function PN(t){var e=function(n){var i=t.attr,o=t.size,l=t.title,c=RN(t,["attr","size","title"]),d=o||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),Nr.createElement("svg",Ii({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:p,style:Ii(Ii({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Nr.createElement("title",null,l),t.children)};return Ty!==void 0?Nr.createElement(Ty.Consumer,null,function(n){return e(n)}):e(YE)}function kN(t){return CN({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(t)}const xN=()=>{const t=new Date().getFullYear();return q.jsxs("footer",{className:"container d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top",children:[q.jsx("div",{className:"col-md-4 d-flex align-items-center",children:q.jsxs("span",{className:"text-muted",children:[" ",t," Finhas Farooq"]})}),q.jsx("ul",{className:"nav col-md-4 justify-content-end list-unstyled d-flex",children:q.jsx("li",{className:"ms-3",children:q.jsx("a",{className:"bi bi-github text-muted",href:"https://github.com/FinhasFarooq49/",width:"24",height:"24",children:q.jsx(kN,{})})})})]})};function JE(){const{admin:e}=QP(),n=({children:o})=>q.jsx(HE,{demo:!0,children:q.jsx(WE,{children:o})});function i({children:o,condition:l}){return l?o:q.jsx(sI,{to:"/auction-web/"})}return q.jsxs(n,{children:[q.jsxs(cI,{children:[q.jsx(qE,{admin:e}),q.jsx(wN,{}),q.jsxs(aI,{children:[q.jsx(Wd,{path:"/auction-web/",Component:IN}),q.jsx(Wd,{exact:!0,path:"/auction-web/admin",element:q.jsx(i,{condition:e,children:q.jsx(AN,{})})})]})]}),q.jsx(xN,{})]})}JE.propTypes={children:Qe.arrayOf(Qe.element),condition:Qe.bool};dT.createRoot(document.getElementById("root")).render(q.jsx(Nr.StrictMode,{children:q.jsx(JE,{})}));
